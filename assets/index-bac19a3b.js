(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function N0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var O0={exports:{}},nc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VA=Symbol.for("react.transitional.element"),UA=Symbol.for("react.fragment");function M0(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var r in t)r!=="key"&&(n[r]=t[r])}else n=t;return t=n.ref,{$$typeof:VA,type:e,key:i,ref:t!==void 0?t:null,props:n}}nc.Fragment=UA;nc.jsx=M0;nc.jsxs=M0;O0.exports=nc;var x=O0.exports,V0={exports:{}},tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Md=Symbol.for("react.transitional.element"),LA=Symbol.for("react.portal"),kA=Symbol.for("react.fragment"),PA=Symbol.for("react.strict_mode"),zA=Symbol.for("react.profiler"),jA=Symbol.for("react.consumer"),BA=Symbol.for("react.context"),qA=Symbol.for("react.forward_ref"),HA=Symbol.for("react.suspense"),FA=Symbol.for("react.memo"),U0=Symbol.for("react.lazy"),GA=Symbol.for("react.activity"),wg=Symbol.iterator;function QA(e){return e===null||typeof e!="object"?null:(e=wg&&e[wg]||e["@@iterator"],typeof e=="function"?e:null)}var L0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k0=Object.assign,P0={};function Gs(e,t,n){this.props=e,this.context=t,this.refs=P0,this.updater=n||L0}Gs.prototype.isReactComponent={};Gs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Gs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function z0(){}z0.prototype=Gs.prototype;function Vd(e,t,n){this.props=e,this.context=t,this.refs=P0,this.updater=n||L0}var Ud=Vd.prototype=new z0;Ud.constructor=Vd;k0(Ud,Gs.prototype);Ud.isPureReactComponent=!0;var Rg=Array.isArray;function ff(){}var Dt={H:null,A:null,T:null,S:null},j0=Object.prototype.hasOwnProperty;function Ld(e,t,n){var i=n.ref;return{$$typeof:Md,type:e,key:t,ref:i!==void 0?i:null,props:n}}function YA(e,t){return Ld(e.type,t,e.props)}function kd(e){return typeof e=="object"&&e!==null&&e.$$typeof===Md}function KA(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ig=/\/+/g;function fh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?KA(""+e.key):t.toString(36)}function XA(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(ff,ff):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Kr(e,t,n,i,r){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Md:case LA:a=!0;break;case U0:return a=e._init,Kr(a(e._payload),t,n,i,r)}}if(a)return r=r(e),a=i===""?"."+fh(e,0):i,Rg(r)?(n="",a!=null&&(n=a.replace(Ig,"$&/")+"/"),Kr(r,t,n,"",function(h){return h})):r!=null&&(kd(r)&&(r=YA(r,n+(r.key==null||e&&e.key===r.key?"":(""+r.key).replace(Ig,"$&/")+"/")+a)),t.push(r)),1;a=0;var l=i===""?".":i+":";if(Rg(e))for(var u=0;u<e.length;u++)i=e[u],s=l+fh(i,u),a+=Kr(i,t,n,s,r);else if(u=QA(e),typeof u=="function")for(e=u.call(e),u=0;!(i=e.next()).done;)i=i.value,s=l+fh(i,u++),a+=Kr(i,t,n,s,r);else if(s==="object"){if(typeof e.then=="function")return Kr(XA(e),t,n,i,r);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return a}function ml(e,t,n){if(e==null)return e;var i=[],r=0;return Kr(e,i,"","",function(s){return t.call(n,s,r++)}),i}function $A(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Cg=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},WA={map:ml,forEach:function(e,t,n){ml(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ml(e,function(){t++}),t},toArray:function(e){return ml(e,function(t){return t})||[]},only:function(e){if(!kd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};tt.Activity=GA;tt.Children=WA;tt.Component=Gs;tt.Fragment=kA;tt.Profiler=zA;tt.PureComponent=Vd;tt.StrictMode=PA;tt.Suspense=HA;tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Dt;tt.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Dt.H.useMemoCache(e)}};tt.cache=function(e){return function(){return e.apply(null,arguments)}};tt.cacheSignal=function(){return null};tt.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=k0({},e.props),r=e.key;if(t!=null)for(s in t.key!==void 0&&(r=""+t.key),t)!j0.call(t,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&t.ref===void 0||(i[s]=t[s]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];i.children=a}return Ld(e.type,r,i)};tt.createContext=function(e){return e={$$typeof:BA,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:jA,_context:e},e};tt.createElement=function(e,t,n){var i,r={},s=null;if(t!=null)for(i in t.key!==void 0&&(s=""+t.key),t)j0.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=t[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return Ld(e,s,r)};tt.createRef=function(){return{current:null}};tt.forwardRef=function(e){return{$$typeof:qA,render:e}};tt.isValidElement=kd;tt.lazy=function(e){return{$$typeof:U0,_payload:{_status:-1,_result:e},_init:$A}};tt.memo=function(e,t){return{$$typeof:FA,type:e,compare:t===void 0?null:t}};tt.startTransition=function(e){var t=Dt.T,n={};Dt.T=n;try{var i=e(),r=Dt.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(ff,Cg)}catch(s){Cg(s)}finally{t!==null&&n.types!==null&&(t.types=n.types),Dt.T=t}};tt.unstable_useCacheRefresh=function(){return Dt.H.useCacheRefresh()};tt.use=function(e){return Dt.H.use(e)};tt.useActionState=function(e,t,n){return Dt.H.useActionState(e,t,n)};tt.useCallback=function(e,t){return Dt.H.useCallback(e,t)};tt.useContext=function(e){return Dt.H.useContext(e)};tt.useDebugValue=function(){};tt.useDeferredValue=function(e,t){return Dt.H.useDeferredValue(e,t)};tt.useEffect=function(e,t){return Dt.H.useEffect(e,t)};tt.useEffectEvent=function(e){return Dt.H.useEffectEvent(e)};tt.useId=function(){return Dt.H.useId()};tt.useImperativeHandle=function(e,t,n){return Dt.H.useImperativeHandle(e,t,n)};tt.useInsertionEffect=function(e,t){return Dt.H.useInsertionEffect(e,t)};tt.useLayoutEffect=function(e,t){return Dt.H.useLayoutEffect(e,t)};tt.useMemo=function(e,t){return Dt.H.useMemo(e,t)};tt.useOptimistic=function(e,t){return Dt.H.useOptimistic(e,t)};tt.useReducer=function(e,t,n){return Dt.H.useReducer(e,t,n)};tt.useRef=function(e){return Dt.H.useRef(e)};tt.useState=function(e){return Dt.H.useState(e)};tt.useSyncExternalStore=function(e,t,n){return Dt.H.useSyncExternalStore(e,t,n)};tt.useTransition=function(){return Dt.H.useTransition()};tt.version="19.2.4";V0.exports=tt;var Z=V0.exports;const JA=N0(Z);var B0={exports:{}},ic={},q0={exports:{}},H0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,nt){var $=H.length;H.push(nt);t:for(;0<$;){var pt=$-1>>>1,Vt=H[pt];if(0<r(Vt,nt))H[pt]=nt,H[$]=Vt,$=pt;else break t}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var nt=H[0],$=H.pop();if($!==nt){H[0]=$;t:for(var pt=0,Vt=H.length,Cn=Vt>>>1;pt<Cn;){var P=2*(pt+1)-1,Y=H[P],_t=P+1,Qe=H[_t];if(0>r(Y,$))_t<Vt&&0>r(Qe,Y)?(H[pt]=Qe,H[_t]=$,pt=_t):(H[pt]=Y,H[P]=$,pt=P);else if(_t<Vt&&0>r(Qe,$))H[pt]=Qe,H[_t]=$,pt=_t;else break t}}return nt}function r(H,nt){var $=H.sortIndex-nt.sortIndex;return $!==0?$:H.id-nt.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var u=[],h=[],d=1,p=null,m=3,v=!1,N=!1,V=!1,M=!1,A=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function D(H){for(var nt=n(h);nt!==null;){if(nt.callback===null)i(h);else if(nt.startTime<=H)i(h),nt.sortIndex=nt.expirationTime,t(u,nt);else break;nt=n(h)}}function z(H){if(V=!1,D(H),!N)if(n(u)!==null)N=!0,B||(B=!0,I());else{var nt=n(h);nt!==null&&Ae(z,nt.startTime-H)}}var B=!1,E=-1,_=5,T=-1;function b(){return M?!0:!(e.unstable_now()-T<_)}function w(){if(M=!1,B){var H=e.unstable_now();T=H;var nt=!0;try{t:{N=!1,V&&(V=!1,y(E),E=-1),v=!0;var $=m;try{e:{for(D(H),p=n(u);p!==null&&!(p.expirationTime>H&&b());){var pt=p.callback;if(typeof pt=="function"){p.callback=null,m=p.priorityLevel;var Vt=pt(p.expirationTime<=H);if(H=e.unstable_now(),typeof Vt=="function"){p.callback=Vt,D(H),nt=!0;break e}p===n(u)&&i(u),D(H)}else i(u);p=n(u)}if(p!==null)nt=!0;else{var Cn=n(h);Cn!==null&&Ae(z,Cn.startTime-H),nt=!1}}break t}finally{p=null,m=$,v=!1}nt=void 0}}finally{nt?I():B=!1}}}var I;if(typeof R=="function")I=function(){R(w)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,Mt=S.port2;S.port1.onmessage=w,I=function(){Mt.postMessage(null)}}else I=function(){A(w,0)};function Ae(H,nt){E=A(function(){H(e.unstable_now())},nt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(H){switch(m){case 1:case 2:case 3:var nt=3;break;default:nt=m}var $=m;m=nt;try{return H()}finally{m=$}},e.unstable_requestPaint=function(){M=!0},e.unstable_runWithPriority=function(H,nt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var $=m;m=H;try{return nt()}finally{m=$}},e.unstable_scheduleCallback=function(H,nt,$){var pt=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?pt+$:pt):$=pt,H){case 1:var Vt=-1;break;case 2:Vt=250;break;case 5:Vt=1073741823;break;case 4:Vt=1e4;break;default:Vt=5e3}return Vt=$+Vt,H={id:d++,callback:nt,priorityLevel:H,startTime:$,expirationTime:Vt,sortIndex:-1},$>pt?(H.sortIndex=$,t(h,H),n(u)===null&&H===n(h)&&(V?(y(E),E=-1):V=!0,Ae(z,$-pt))):(H.sortIndex=Vt,t(u,H),N||v||(N=!0,B||(B=!0,I()))),H},e.unstable_shouldYield=b,e.unstable_wrapCallback=function(H){var nt=m;return function(){var $=m;m=nt;try{return H.apply(this,arguments)}finally{m=$}}}})(H0);q0.exports=H0;var ZA=q0.exports,F0={exports:{}},Se={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tb=Z;function G0(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ui(){}var Te={d:{f:ui,r:function(){throw Error(G0(522))},D:ui,C:ui,L:ui,m:ui,X:ui,S:ui,M:ui},p:0,findDOMNode:null},eb=Symbol.for("react.portal");function nb(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:eb,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var Ba=tb.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function rc(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Se.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Te;Se.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(G0(299));return nb(e,t,null,n)};Se.flushSync=function(e){var t=Ba.T,n=Te.p;try{if(Ba.T=null,Te.p=2,e)return e()}finally{Ba.T=t,Te.p=n,Te.d.f()}};Se.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Te.d.C(e,t))};Se.prefetchDNS=function(e){typeof e=="string"&&Te.d.D(e)};Se.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=rc(n,t.crossOrigin),r=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Te.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:s}):n==="script"&&Te.d.X(e,{crossOrigin:i,integrity:r,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Se.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=rc(t.as,t.crossOrigin);Te.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Te.d.M(e)};Se.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=rc(n,t.crossOrigin);Te.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Se.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=rc(t.as,t.crossOrigin);Te.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Te.d.m(e)};Se.requestFormReset=function(e){Te.d.r(e)};Se.unstable_batchedUpdates=function(e,t){return e(t)};Se.useFormState=function(e,t,n){return Ba.H.useFormState(e,t,n)};Se.useFormStatus=function(){return Ba.H.useHostTransitionStatus()};Se.version="19.2.4";function Q0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Q0)}catch(e){console.error(e)}}Q0(),F0.exports=Se;var ib=F0.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zt=ZA,Y0=Z,rb=ib;function L(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function K0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Mo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function X0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $0(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Dg(e){if(Mo(e)!==e)throw Error(L(188))}function sb(e){var t=e.alternate;if(!t){if(t=Mo(e),t===null)throw Error(L(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return Dg(r),e;if(s===i)return Dg(r),t;s=s.sibling}throw Error(L(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a)throw Error(L(189))}}if(n.alternate!==i)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?e:t}function W0(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=W0(e),t!==null)return t;e=e.sibling}return null}var xt=Object.assign,ab=Symbol.for("react.element"),pl=Symbol.for("react.transitional.element"),Na=Symbol.for("react.portal"),es=Symbol.for("react.fragment"),J0=Symbol.for("react.strict_mode"),df=Symbol.for("react.profiler"),Z0=Symbol.for("react.consumer"),kn=Symbol.for("react.context"),Pd=Symbol.for("react.forward_ref"),mf=Symbol.for("react.suspense"),pf=Symbol.for("react.suspense_list"),zd=Symbol.for("react.memo"),fi=Symbol.for("react.lazy"),gf=Symbol.for("react.activity"),ob=Symbol.for("react.memo_cache_sentinel"),xg=Symbol.iterator;function Aa(e){return e===null||typeof e!="object"?null:(e=xg&&e[xg]||e["@@iterator"],typeof e=="function"?e:null)}var lb=Symbol.for("react.client.reference");function yf(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===lb?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case es:return"Fragment";case df:return"Profiler";case J0:return"StrictMode";case mf:return"Suspense";case pf:return"SuspenseList";case gf:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Na:return"Portal";case kn:return e.displayName||"Context";case Z0:return(e._context.displayName||"Context")+".Consumer";case Pd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case zd:return t=e.displayName||null,t!==null?t:yf(e.type)||"Memo";case fi:t=e._payload,e=e._init;try{return yf(e(t))}catch{}}return null}var Oa=Array.isArray,K=Y0.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt=rb.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mr={pending:!1,data:null,method:null,action:null},_f=[],ns=-1;function Rn(e){return{current:e}}function re(e){0>ns||(e.current=_f[ns],_f[ns]=null,ns--)}function bt(e,t){ns++,_f[ns]=e.current,e.current=t}var vn=Rn(null),uo=Rn(null),Ii=Rn(null),lu=Rn(null);function uu(e,t){switch(bt(Ii,t),bt(uo,e),bt(vn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Ly(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Ly(t),e=vE(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}re(vn),bt(vn,e)}function Rs(){re(vn),re(uo),re(Ii)}function vf(e){e.memoizedState!==null&&bt(lu,e);var t=vn.current,n=vE(t,e.type);t!==n&&(bt(uo,e),bt(vn,n))}function cu(e){uo.current===e&&(re(vn),re(uo)),lu.current===e&&(re(lu),To._currentValue=mr)}var dh,Ng;function or(e){if(dh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);dh=t&&t[1]||"",Ng=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+dh+e+Ng}var mh=!1;function ph(e,t){if(!e||mh)return"";mh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var p=function(){throw Error()};if(Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(v){var m=v}Reflect.construct(e,[],p)}else{try{p.call()}catch(v){m=v}e.call(p.prototype)}}else{try{throw Error()}catch(v){m=v}(p=e())&&typeof p.catch=="function"&&p.catch(function(){})}}catch(v){if(v&&m&&typeof v.stack=="string")return[v.stack,m.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),a=s[0],l=s[1];if(a&&l){var u=a.split(`
`),h=l.split(`
`);for(r=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;r<h.length&&!h[r].includes("DetermineComponentFrameRoot");)r++;if(i===u.length||r===h.length)for(i=u.length-1,r=h.length-1;1<=i&&0<=r&&u[i]!==h[r];)r--;for(;1<=i&&0<=r;i--,r--)if(u[i]!==h[r]){if(i!==1||r!==1)do if(i--,r--,0>r||u[i]!==h[r]){var d=`
`+u[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=i&&0<=r);break}}}finally{mh=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?or(n):""}function ub(e,t){switch(e.tag){case 26:case 27:case 5:return or(e.type);case 16:return or("Lazy");case 13:return e.child!==t&&t!==null?or("Suspense Fallback"):or("Suspense");case 19:return or("SuspenseList");case 0:case 15:return ph(e.type,!1);case 11:return ph(e.type.render,!1);case 1:return ph(e.type,!0);case 31:return or("Activity");default:return""}}function Og(e){try{var t="",n=null;do t+=ub(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Ef=Object.prototype.hasOwnProperty,jd=Zt.unstable_scheduleCallback,gh=Zt.unstable_cancelCallback,cb=Zt.unstable_shouldYield,hb=Zt.unstable_requestPaint,je=Zt.unstable_now,fb=Zt.unstable_getCurrentPriorityLevel,tv=Zt.unstable_ImmediatePriority,ev=Zt.unstable_UserBlockingPriority,hu=Zt.unstable_NormalPriority,db=Zt.unstable_LowPriority,nv=Zt.unstable_IdlePriority,mb=Zt.log,pb=Zt.unstable_setDisableYieldValue,Vo=null,Be=null;function Ti(e){if(typeof mb=="function"&&pb(e),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(Vo,e)}catch{}}var qe=Math.clz32?Math.clz32:_b,gb=Math.log,yb=Math.LN2;function _b(e){return e>>>=0,e===0?32:31-(gb(e)/yb|0)|0}var gl=256,yl=262144,_l=4194304;function lr(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function sc(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var l=i&134217727;return l!==0?(i=l&~s,i!==0?r=lr(i):(a&=l,a!==0?r=lr(a):n||(n=l&~e,n!==0&&(r=lr(n))))):(l=i&~s,l!==0?r=lr(l):a!==0?r=lr(a):n||(n=i&~e,n!==0&&(r=lr(n)))),r===0?0:t!==0&&t!==r&&!(t&s)&&(s=r&-r,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:r}function Uo(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function vb(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iv(){var e=_l;return _l<<=1,!(_l&62914560)&&(_l=4194304),e}function yh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Lo(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Eb(e,t,n,i,r,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,u=e.expirationTimes,h=e.hiddenUpdates;for(n=a&~n;0<n;){var d=31-qe(n),p=1<<d;l[d]=0,u[d]=-1;var m=h[d];if(m!==null)for(h[d]=null,d=0;d<m.length;d++){var v=m[d];v!==null&&(v.lane&=-536870913)}n&=~p}i!==0&&rv(e,i,0),s!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=s&~(a&~t))}function rv(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-qe(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function sv(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-qe(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function av(e,t){var n=t&-t;return n=n&42?1:Bd(n),n&(e.suspendedLanes|t)?0:n}function Bd(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function qd(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function ov(){var e=dt.p;return e!==0?e:(e=window.event,e===void 0?32:xE(e.type))}function Mg(e,t){var n=dt.p;try{return dt.p=e,t()}finally{dt.p=n}}var Wi=Math.random().toString(36).slice(2),oe="__reactFiber$"+Wi,Oe="__reactProps$"+Wi,Qs="__reactContainer$"+Wi,Tf="__reactEvents$"+Wi,Tb="__reactListeners$"+Wi,Sb="__reactHandles$"+Wi,Vg="__reactResources$"+Wi,ko="__reactMarker$"+Wi;function Hd(e){delete e[oe],delete e[Oe],delete e[Tf],delete e[Tb],delete e[Sb]}function is(e){var t=e[oe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Qs]||n[oe]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=By(e);e!==null;){if(n=e[oe])return n;e=By(e)}return t}e=n,n=e.parentNode}return null}function Ys(e){if(e=e[oe]||e[Qs]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ma(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(L(33))}function ds(e){var t=e[Vg];return t||(t=e[Vg]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ie(e){e[ko]=!0}var lv=new Set,uv={};function Vr(e,t){Is(e,t),Is(e+"Capture",t)}function Is(e,t){for(uv[e]=t,e=0;e<t.length;e++)lv.add(t[e])}var Ab=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ug={},Lg={};function bb(e){return Ef.call(Lg,e)?!0:Ef.call(Ug,e)?!1:Ab.test(e)?Lg[e]=!0:(Ug[e]=!0,!1)}function Ll(e,t,n){if(bb(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function vl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Dn(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function Ke(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function wb(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var r=i.get,s=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Sf(e){if(!e._valueTracker){var t=cv(e)?"checked":"value";e._valueTracker=wb(e,t,""+e[t])}}function hv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=cv(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function fu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Rb=/[\n"\\]/g;function We(e){return e.replace(Rb,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Af(e,t,n,i,r,s,a,l){e.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.type=a:e.removeAttribute("type"),t!=null?a==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ke(t)):e.value!==""+Ke(t)&&(e.value=""+Ke(t)):a!=="submit"&&a!=="reset"||e.removeAttribute("value"),t!=null?bf(e,a,Ke(t)):n!=null?bf(e,a,Ke(n)):i!=null&&e.removeAttribute("value"),r==null&&s!=null&&(e.defaultChecked=!!s),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+Ke(l):e.removeAttribute("name")}function fv(e,t,n,i,r,s,a,l){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){Sf(e);return}n=n!=null?""+Ke(n):"",t=t!=null?""+Ke(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=l?e.checked:!!i,e.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.name=a),Sf(e)}function bf(e,t,n){t==="number"&&fu(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function ms(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Ke(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function dv(e,t,n){if(t!=null&&(t=""+Ke(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Ke(n):""}function mv(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(L(92));if(Oa(i)){if(1<i.length)throw Error(L(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=Ke(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),Sf(e)}function Cs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ib=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kg(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||Ib.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function pv(e,t,n){if(t!=null&&typeof t!="object")throw Error(L(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&kg(e,r,i)}else for(var s in t)t.hasOwnProperty(s)&&kg(e,s,t[s])}function Fd(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Db=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kl(e){return Db.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Pn(){}var wf=null;function Gd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var rs=null,ps=null;function Pg(e){var t=Ys(e);if(t&&(e=t.stateNode)){var n=e[Oe]||null;t:switch(e=t.stateNode,t.type){case"input":if(Af(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+We(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=i[Oe]||null;if(!r)throw Error(L(90));Af(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&hv(i)}break t;case"textarea":dv(e,n.value,n.defaultValue);break t;case"select":t=n.value,t!=null&&ms(e,!!n.multiple,t,!1)}}}var _h=!1;function gv(e,t,n){if(_h)return e(t,n);_h=!0;try{var i=e(t);return i}finally{if(_h=!1,(rs!==null||ps!==null)&&(yc(),rs&&(t=rs,e=ps,ps=rs=null,Pg(t),e)))for(t=0;t<e.length;t++)Pg(e[t])}}function co(e,t){var n=e.stateNode;if(n===null)return null;var i=n[Oe]||null;if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(L(231,t,typeof n));return n}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rf=!1;if(Qn)try{var ba={};Object.defineProperty(ba,"passive",{get:function(){Rf=!0}}),window.addEventListener("test",ba,ba),window.removeEventListener("test",ba,ba)}catch{Rf=!1}var Si=null,Qd=null,Pl=null;function yv(){if(Pl)return Pl;var e,t=Qd,n=t.length,i,r="value"in Si?Si.value:Si.textContent,s=r.length;for(e=0;e<n&&t[e]===r[e];e++);var a=n-e;for(i=1;i<=a&&t[n-i]===r[s-i];i++);return Pl=r.slice(e,1<i?1-i:void 0)}function zl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function El(){return!0}function zg(){return!1}function Me(e){function t(n,i,r,s,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?El:zg,this.isPropagationStopped=zg,this}return xt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=El)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=El)},persist:function(){},isPersistent:El}),t}var Ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ac=Me(Ur),Po=xt({},Ur,{view:0,detail:0}),xb=Me(Po),vh,Eh,wa,oc=xt({},Po,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wa&&(wa&&e.type==="mousemove"?(vh=e.screenX-wa.screenX,Eh=e.screenY-wa.screenY):Eh=vh=0,wa=e),vh)},movementY:function(e){return"movementY"in e?e.movementY:Eh}}),jg=Me(oc),Nb=xt({},oc,{dataTransfer:0}),Ob=Me(Nb),Mb=xt({},Po,{relatedTarget:0}),Th=Me(Mb),Vb=xt({},Ur,{animationName:0,elapsedTime:0,pseudoElement:0}),Ub=Me(Vb),Lb=xt({},Ur,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kb=Me(Lb),Pb=xt({},Ur,{data:0}),Bg=Me(Pb),zb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Bb[e])?!!t[e]:!1}function Yd(){return qb}var Hb=xt({},Po,{key:function(e){if(e.key){var t=zb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yd,charCode:function(e){return e.type==="keypress"?zl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Fb=Me(Hb),Gb=xt({},oc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qg=Me(Gb),Qb=xt({},Po,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yd}),Yb=Me(Qb),Kb=xt({},Ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xb=Me(Kb),$b=xt({},oc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Wb=Me($b),Jb=xt({},Ur,{newState:0,oldState:0}),Zb=Me(Jb),tw=[9,13,27,32],Kd=Qn&&"CompositionEvent"in window,qa=null;Qn&&"documentMode"in document&&(qa=document.documentMode);var ew=Qn&&"TextEvent"in window&&!qa,_v=Qn&&(!Kd||qa&&8<qa&&11>=qa),Hg=String.fromCharCode(32),Fg=!1;function vv(e,t){switch(e){case"keyup":return tw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ev(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ss=!1;function nw(e,t){switch(e){case"compositionend":return Ev(t);case"keypress":return t.which!==32?null:(Fg=!0,Hg);case"textInput":return e=t.data,e===Hg&&Fg?null:e;default:return null}}function iw(e,t){if(ss)return e==="compositionend"||!Kd&&vv(e,t)?(e=yv(),Pl=Qd=Si=null,ss=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _v&&t.locale!=="ko"?null:t.data;default:return null}}var rw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!rw[e.type]:t==="textarea"}function Tv(e,t,n,i){rs?ps?ps.push(i):ps=[i]:rs=i,t=xu(t,"onChange"),0<t.length&&(n=new ac("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Ha=null,ho=null;function sw(e){gE(e,0)}function lc(e){var t=Ma(e);if(hv(t))return e}function Qg(e,t){if(e==="change")return t}var Sv=!1;if(Qn){var Sh;if(Qn){var Ah="oninput"in document;if(!Ah){var Yg=document.createElement("div");Yg.setAttribute("oninput","return;"),Ah=typeof Yg.oninput=="function"}Sh=Ah}else Sh=!1;Sv=Sh&&(!document.documentMode||9<document.documentMode)}function Kg(){Ha&&(Ha.detachEvent("onpropertychange",Av),ho=Ha=null)}function Av(e){if(e.propertyName==="value"&&lc(ho)){var t=[];Tv(t,ho,e,Gd(e)),gv(sw,t)}}function aw(e,t,n){e==="focusin"?(Kg(),Ha=t,ho=n,Ha.attachEvent("onpropertychange",Av)):e==="focusout"&&Kg()}function ow(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return lc(ho)}function lw(e,t){if(e==="click")return lc(t)}function uw(e,t){if(e==="input"||e==="change")return lc(t)}function cw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Fe=typeof Object.is=="function"?Object.is:cw;function fo(e,t){if(Fe(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Ef.call(t,r)||!Fe(e[r],t[r]))return!1}return!0}function Xg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $g(e,t){var n=Xg(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=Xg(n)}}function bv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wv(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=fu(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=fu(e.document)}return t}function Xd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var hw=Qn&&"documentMode"in document&&11>=document.documentMode,as=null,If=null,Fa=null,Cf=!1;function Wg(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Cf||as==null||as!==fu(i)||(i=as,"selectionStart"in i&&Xd(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Fa&&fo(Fa,i)||(Fa=i,i=xu(If,"onSelect"),0<i.length&&(t=new ac("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=as)))}function ar(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var os={animationend:ar("Animation","AnimationEnd"),animationiteration:ar("Animation","AnimationIteration"),animationstart:ar("Animation","AnimationStart"),transitionrun:ar("Transition","TransitionRun"),transitionstart:ar("Transition","TransitionStart"),transitioncancel:ar("Transition","TransitionCancel"),transitionend:ar("Transition","TransitionEnd")},bh={},Rv={};Qn&&(Rv=document.createElement("div").style,"AnimationEvent"in window||(delete os.animationend.animation,delete os.animationiteration.animation,delete os.animationstart.animation),"TransitionEvent"in window||delete os.transitionend.transition);function Lr(e){if(bh[e])return bh[e];if(!os[e])return e;var t=os[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Rv)return bh[e]=t[n];return e}var Iv=Lr("animationend"),Cv=Lr("animationiteration"),Dv=Lr("animationstart"),fw=Lr("transitionrun"),dw=Lr("transitionstart"),mw=Lr("transitioncancel"),xv=Lr("transitionend"),Nv=new Map,Df="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Df.push("scrollEnd");function fn(e,t){Nv.set(e,t),Vr(t,[e])}var du=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ye=[],ls=0,$d=0;function uc(){for(var e=ls,t=$d=ls=0;t<e;){var n=Ye[t];Ye[t++]=null;var i=Ye[t];Ye[t++]=null;var r=Ye[t];Ye[t++]=null;var s=Ye[t];if(Ye[t++]=null,i!==null&&r!==null){var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}s!==0&&Ov(n,r,s)}}function cc(e,t,n,i){Ye[ls++]=e,Ye[ls++]=t,Ye[ls++]=n,Ye[ls++]=i,$d|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Wd(e,t,n,i){return cc(e,t,n,i),mu(e)}function kr(e,t){return cc(e,null,null,t),mu(e)}function Ov(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var r=!1,s=e.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(r=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,r&&t!==null&&(r=31-qe(n),e=s.hiddenUpdates,i=e[r],i===null?e[r]=[t]:i.push(t),t.lane=n|536870912),s):null}function mu(e){if(50<Za)throw Za=0,$f=null,Error(L(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var us={};function pw(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ke(e,t,n,i){return new pw(e,t,n,i)}function Jd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qn(e,t){var n=e.alternate;return n===null?(n=ke(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Mv(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function jl(e,t,n,i,r,s){var a=0;if(i=e,typeof e=="function")Jd(e)&&(a=1);else if(typeof e=="string")a=ER(e,n,vn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case gf:return e=ke(31,n,t,r),e.elementType=gf,e.lanes=s,e;case es:return pr(n.children,r,s,t);case J0:a=8,r|=24;break;case df:return e=ke(12,n,t,r|2),e.elementType=df,e.lanes=s,e;case mf:return e=ke(13,n,t,r),e.elementType=mf,e.lanes=s,e;case pf:return e=ke(19,n,t,r),e.elementType=pf,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kn:a=10;break t;case Z0:a=9;break t;case Pd:a=11;break t;case zd:a=14;break t;case fi:a=16,i=null;break t}a=29,n=Error(L(130,e===null?"null":typeof e,"")),i=null}return t=ke(a,n,t,r),t.elementType=e,t.type=i,t.lanes=s,t}function pr(e,t,n,i){return e=ke(7,e,i,t),e.lanes=n,e}function wh(e,t,n){return e=ke(6,e,null,t),e.lanes=n,e}function Vv(e){var t=ke(18,null,null,0);return t.stateNode=e,t}function Rh(e,t,n){return t=ke(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Jg=new WeakMap;function Je(e,t){if(typeof e=="object"&&e!==null){var n=Jg.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Og(t)},Jg.set(e,t),t)}return{value:e,source:t,stack:Og(t)}}var cs=[],hs=0,pu=null,mo=0,Xe=[],$e=0,Bi=null,gn=1,yn="";function Vn(e,t){cs[hs++]=mo,cs[hs++]=pu,pu=e,mo=t}function Uv(e,t,n){Xe[$e++]=gn,Xe[$e++]=yn,Xe[$e++]=Bi,Bi=e;var i=gn;e=yn;var r=32-qe(i)-1;i&=~(1<<r),n+=1;var s=32-qe(t)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,gn=1<<32-qe(t)+r|n<<r|i,yn=s+e}else gn=1<<s|n<<r|i,yn=e}function Zd(e){e.return!==null&&(Vn(e,1),Uv(e,1,0))}function tm(e){for(;e===pu;)pu=cs[--hs],cs[hs]=null,mo=cs[--hs],cs[hs]=null;for(;e===Bi;)Bi=Xe[--$e],Xe[$e]=null,yn=Xe[--$e],Xe[$e]=null,gn=Xe[--$e],Xe[$e]=null}function Lv(e,t){Xe[$e++]=gn,Xe[$e++]=yn,Xe[$e++]=Bi,gn=t.id,yn=t.overflow,Bi=e}var le=null,It=null,ct=!1,Ci=null,Ze=!1,xf=Error(L(519));function qi(e){var t=Error(L(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw po(Je(t,e)),xf}function Zg(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[oe]=e,t[Oe]=i,n){case"dialog":rt("cancel",t),rt("close",t);break;case"iframe":case"object":case"embed":rt("load",t);break;case"video":case"audio":for(n=0;n<vo.length;n++)rt(vo[n],t);break;case"source":rt("error",t);break;case"img":case"image":case"link":rt("error",t),rt("load",t);break;case"details":rt("toggle",t);break;case"input":rt("invalid",t),fv(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":rt("invalid",t);break;case"textarea":rt("invalid",t),mv(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||_E(t.textContent,n)?(i.popover!=null&&(rt("beforetoggle",t),rt("toggle",t)),i.onScroll!=null&&rt("scroll",t),i.onScrollEnd!=null&&rt("scrollend",t),i.onClick!=null&&(t.onclick=Pn),t=!0):t=!1,t||qi(e,!0)}function ty(e){for(le=e.return;le;)switch(le.tag){case 5:case 31:case 13:Ze=!1;return;case 27:case 3:Ze=!0;return;default:le=le.return}}function Qr(e){if(e!==le)return!1;if(!ct)return ty(e),ct=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||ed(e.type,e.memoizedProps)),n=!n),n&&It&&qi(e),ty(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));It=jy(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));It=jy(e)}else t===27?(t=It,Ji(e.type)?(e=sd,sd=null,It=e):It=t):It=le?nn(e.stateNode.nextSibling):null;return!0}function Sr(){It=le=null,ct=!1}function Ih(){var e=Ci;return e!==null&&(Ie===null?Ie=e:Ie.push.apply(Ie,e),Ci=null),e}function po(e){Ci===null?Ci=[e]:Ci.push(e)}var Nf=Rn(null),Pr=null,zn=null;function mi(e,t,n){bt(Nf,t._currentValue),t._currentValue=n}function Hn(e){e._currentValue=Nf.current,re(Nf)}function Of(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Mf(e,t,n,i){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var s=r.dependencies;if(s!==null){var a=r.child;s=s.firstContext;t:for(;s!==null;){var l=s;s=r;for(var u=0;u<t.length;u++)if(l.context===t[u]){s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Of(s.return,n,e),i||(a=null);break t}s=l.next}}else if(r.tag===18){if(a=r.return,a===null)throw Error(L(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Of(a,n,e),a=null}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===e){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}}function Ks(e,t,n,i){e=null;for(var r=t,s=!1;r!==null;){if(!s){if(r.flags&524288)s=!0;else if(r.flags&262144)break}if(r.tag===10){var a=r.alternate;if(a===null)throw Error(L(387));if(a=a.memoizedProps,a!==null){var l=r.type;Fe(r.pendingProps.value,a.value)||(e!==null?e.push(l):e=[l])}}else if(r===lu.current){if(a=r.alternate,a===null)throw Error(L(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(To):e=[To])}r=r.return}e!==null&&Mf(t,e,n,i),t.flags|=262144}function gu(e){for(e=e.firstContext;e!==null;){if(!Fe(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ar(e){Pr=e,zn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ce(e){return kv(Pr,e)}function Tl(e,t){return Pr===null&&Ar(e),kv(e,t)}function kv(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},zn===null){if(e===null)throw Error(L(308));zn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else zn=zn.next=t;return n}var gw=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},yw=Zt.unstable_scheduleCallback,_w=Zt.unstable_NormalPriority,Ft={$$typeof:kn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function em(){return{controller:new gw,data:new Map,refCount:0}}function zo(e){e.refCount--,e.refCount===0&&yw(_w,function(){e.controller.abort()})}var Ga=null,Vf=0,Ds=0,gs=null;function vw(e,t){if(Ga===null){var n=Ga=[];Vf=0,Ds=Rm(),gs={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Vf++,t.then(ey,ey),t}function ey(){if(--Vf===0&&Ga!==null){gs!==null&&(gs.status="fulfilled");var e=Ga;Ga=null,Ds=0,gs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Ew(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var ny=K.S;K.S=function(e,t){W1=je(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&vw(e,t),ny!==null&&ny(e,t)};var gr=Rn(null);function nm(){var e=gr.current;return e!==null?e:St.pooledCache}function Bl(e,t){t===null?bt(gr,gr.current):bt(gr,t.pool)}function Pv(){var e=nm();return e===null?null:{parent:Ft._currentValue,pool:e}}var Xs=Error(L(460)),im=Error(L(474)),hc=Error(L(542)),yu={then:function(){}};function iy(e){return e=e.status,e==="fulfilled"||e==="rejected"}function zv(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Pn,Pn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,sy(e),e;default:if(typeof t.status=="string")t.then(Pn,Pn);else{if(e=St,e!==null&&100<e.shellSuspendCounter)throw Error(L(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=i}},function(i){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,sy(e),e}throw yr=t,Xs}}function ur(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(yr=n,Xs):n}}var yr=null;function ry(){if(yr===null)throw Error(L(459));var e=yr;return yr=null,e}function sy(e){if(e===Xs||e===hc)throw Error(L(483))}var ys=null,go=0;function Sl(e){var t=go;return go+=1,ys===null&&(ys=[]),zv(ys,e,t)}function Ra(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Al(e,t){throw t.$$typeof===ab?Error(L(525)):(e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function jv(e){function t(A,y){if(e){var R=A.deletions;R===null?(A.deletions=[y],A.flags|=16):R.push(y)}}function n(A,y){if(!e)return null;for(;y!==null;)t(A,y),y=y.sibling;return null}function i(A){for(var y=new Map;A!==null;)A.key!==null?y.set(A.key,A):y.set(A.index,A),A=A.sibling;return y}function r(A,y){return A=qn(A,y),A.index=0,A.sibling=null,A}function s(A,y,R){return A.index=R,e?(R=A.alternate,R!==null?(R=R.index,R<y?(A.flags|=67108866,y):R):(A.flags|=67108866,y)):(A.flags|=1048576,y)}function a(A){return e&&A.alternate===null&&(A.flags|=67108866),A}function l(A,y,R,D){return y===null||y.tag!==6?(y=wh(R,A.mode,D),y.return=A,y):(y=r(y,R),y.return=A,y)}function u(A,y,R,D){var z=R.type;return z===es?d(A,y,R.props.children,D,R.key):y!==null&&(y.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===fi&&ur(z)===y.type)?(y=r(y,R.props),Ra(y,R),y.return=A,y):(y=jl(R.type,R.key,R.props,null,A.mode,D),Ra(y,R),y.return=A,y)}function h(A,y,R,D){return y===null||y.tag!==4||y.stateNode.containerInfo!==R.containerInfo||y.stateNode.implementation!==R.implementation?(y=Rh(R,A.mode,D),y.return=A,y):(y=r(y,R.children||[]),y.return=A,y)}function d(A,y,R,D,z){return y===null||y.tag!==7?(y=pr(R,A.mode,D,z),y.return=A,y):(y=r(y,R),y.return=A,y)}function p(A,y,R){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return y=wh(""+y,A.mode,R),y.return=A,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case pl:return R=jl(y.type,y.key,y.props,null,A.mode,R),Ra(R,y),R.return=A,R;case Na:return y=Rh(y,A.mode,R),y.return=A,y;case fi:return y=ur(y),p(A,y,R)}if(Oa(y)||Aa(y))return y=pr(y,A.mode,R,null),y.return=A,y;if(typeof y.then=="function")return p(A,Sl(y),R);if(y.$$typeof===kn)return p(A,Tl(A,y),R);Al(A,y)}return null}function m(A,y,R,D){var z=y!==null?y.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return z!==null?null:l(A,y,""+R,D);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case pl:return R.key===z?u(A,y,R,D):null;case Na:return R.key===z?h(A,y,R,D):null;case fi:return R=ur(R),m(A,y,R,D)}if(Oa(R)||Aa(R))return z!==null?null:d(A,y,R,D,null);if(typeof R.then=="function")return m(A,y,Sl(R),D);if(R.$$typeof===kn)return m(A,y,Tl(A,R),D);Al(A,R)}return null}function v(A,y,R,D,z){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return A=A.get(R)||null,l(y,A,""+D,z);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case pl:return A=A.get(D.key===null?R:D.key)||null,u(y,A,D,z);case Na:return A=A.get(D.key===null?R:D.key)||null,h(y,A,D,z);case fi:return D=ur(D),v(A,y,R,D,z)}if(Oa(D)||Aa(D))return A=A.get(R)||null,d(y,A,D,z,null);if(typeof D.then=="function")return v(A,y,R,Sl(D),z);if(D.$$typeof===kn)return v(A,y,R,Tl(y,D),z);Al(y,D)}return null}function N(A,y,R,D){for(var z=null,B=null,E=y,_=y=0,T=null;E!==null&&_<R.length;_++){E.index>_?(T=E,E=null):T=E.sibling;var b=m(A,E,R[_],D);if(b===null){E===null&&(E=T);break}e&&E&&b.alternate===null&&t(A,E),y=s(b,y,_),B===null?z=b:B.sibling=b,B=b,E=T}if(_===R.length)return n(A,E),ct&&Vn(A,_),z;if(E===null){for(;_<R.length;_++)E=p(A,R[_],D),E!==null&&(y=s(E,y,_),B===null?z=E:B.sibling=E,B=E);return ct&&Vn(A,_),z}for(E=i(E);_<R.length;_++)T=v(E,A,_,R[_],D),T!==null&&(e&&T.alternate!==null&&E.delete(T.key===null?_:T.key),y=s(T,y,_),B===null?z=T:B.sibling=T,B=T);return e&&E.forEach(function(w){return t(A,w)}),ct&&Vn(A,_),z}function V(A,y,R,D){if(R==null)throw Error(L(151));for(var z=null,B=null,E=y,_=y=0,T=null,b=R.next();E!==null&&!b.done;_++,b=R.next()){E.index>_?(T=E,E=null):T=E.sibling;var w=m(A,E,b.value,D);if(w===null){E===null&&(E=T);break}e&&E&&w.alternate===null&&t(A,E),y=s(w,y,_),B===null?z=w:B.sibling=w,B=w,E=T}if(b.done)return n(A,E),ct&&Vn(A,_),z;if(E===null){for(;!b.done;_++,b=R.next())b=p(A,b.value,D),b!==null&&(y=s(b,y,_),B===null?z=b:B.sibling=b,B=b);return ct&&Vn(A,_),z}for(E=i(E);!b.done;_++,b=R.next())b=v(E,A,_,b.value,D),b!==null&&(e&&b.alternate!==null&&E.delete(b.key===null?_:b.key),y=s(b,y,_),B===null?z=b:B.sibling=b,B=b);return e&&E.forEach(function(I){return t(A,I)}),ct&&Vn(A,_),z}function M(A,y,R,D){if(typeof R=="object"&&R!==null&&R.type===es&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case pl:t:{for(var z=R.key;y!==null;){if(y.key===z){if(z=R.type,z===es){if(y.tag===7){n(A,y.sibling),D=r(y,R.props.children),D.return=A,A=D;break t}}else if(y.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===fi&&ur(z)===y.type){n(A,y.sibling),D=r(y,R.props),Ra(D,R),D.return=A,A=D;break t}n(A,y);break}else t(A,y);y=y.sibling}R.type===es?(D=pr(R.props.children,A.mode,D,R.key),D.return=A,A=D):(D=jl(R.type,R.key,R.props,null,A.mode,D),Ra(D,R),D.return=A,A=D)}return a(A);case Na:t:{for(z=R.key;y!==null;){if(y.key===z)if(y.tag===4&&y.stateNode.containerInfo===R.containerInfo&&y.stateNode.implementation===R.implementation){n(A,y.sibling),D=r(y,R.children||[]),D.return=A,A=D;break t}else{n(A,y);break}else t(A,y);y=y.sibling}D=Rh(R,A.mode,D),D.return=A,A=D}return a(A);case fi:return R=ur(R),M(A,y,R,D)}if(Oa(R))return N(A,y,R,D);if(Aa(R)){if(z=Aa(R),typeof z!="function")throw Error(L(150));return R=z.call(R),V(A,y,R,D)}if(typeof R.then=="function")return M(A,y,Sl(R),D);if(R.$$typeof===kn)return M(A,y,Tl(A,R),D);Al(A,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,y!==null&&y.tag===6?(n(A,y.sibling),D=r(y,R),D.return=A,A=D):(n(A,y),D=wh(R,A.mode,D),D.return=A,A=D),a(A)):n(A,y)}return function(A,y,R,D){try{go=0;var z=M(A,y,R,D);return ys=null,z}catch(E){if(E===Xs||E===hc)throw E;var B=ke(29,E,null,A.mode);return B.lanes=D,B.return=A,B}finally{}}}var br=jv(!0),Bv=jv(!1),di=!1;function rm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Di(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function xi(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,ft&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=mu(e),Ov(e,null,n),t}return cc(e,i,t,n),mu(e)}function Qa(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,sv(e,n)}}function Ch(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?r=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?r=s=t:s=s.next=t}else r=s=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Lf=!1;function Ya(){if(Lf){var e=gs;if(e!==null)throw e}}function Ka(e,t,n,i){Lf=!1;var r=e.updateQueue;di=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var u=l,h=u.next;u.next=null,a===null?s=h:a.next=h,a=u;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=h:l.next=h,d.lastBaseUpdate=u))}if(s!==null){var p=r.baseState;a=0,d=h=u=null,l=s;do{var m=l.lane&-536870913,v=m!==l.lane;if(v?(ut&m)===m:(i&m)===m){m!==0&&m===Ds&&(Lf=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});t:{var N=e,V=l;m=t;var M=n;switch(V.tag){case 1:if(N=V.payload,typeof N=="function"){p=N.call(M,p,m);break t}p=N;break t;case 3:N.flags=N.flags&-65537|128;case 0:if(N=V.payload,m=typeof N=="function"?N.call(M,p,m):N,m==null)break t;p=xt({},p,m);break t;case 2:di=!0}}m=l.callback,m!==null&&(e.flags|=64,v&&(e.flags|=8192),v=r.callbacks,v===null?r.callbacks=[m]:v.push(m))}else v={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(h=d=v,u=p):d=d.next=v,a|=m;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;v=l,l=v.next,v.next=null,r.lastBaseUpdate=v,r.shared.pending=null}}while(1);d===null&&(u=p),r.baseState=u,r.firstBaseUpdate=h,r.lastBaseUpdate=d,s===null&&(r.shared.lanes=0),Fi|=a,e.lanes=a,e.memoizedState=p}}function qv(e,t){if(typeof e!="function")throw Error(L(191,e));e.call(t)}function Hv(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)qv(n[e],t)}var xs=Rn(null),_u=Rn(0);function ay(e,t){e=$n,bt(_u,e),bt(xs,t),$n=e|t.baseLanes}function kf(){bt(_u,$n),bt(xs,xs.current)}function sm(){$n=_u.current,re(xs),re(_u)}var Ge=Rn(null),en=null;function pi(e){var t=e.alternate;bt(zt,zt.current&1),bt(Ge,e),en===null&&(t===null||xs.current!==null||t.memoizedState!==null)&&(en=e)}function Pf(e){bt(zt,zt.current),bt(Ge,e),en===null&&(en=e)}function Fv(e){e.tag===22?(bt(zt,zt.current),bt(Ge,e),en===null&&(en=e)):gi()}function gi(){bt(zt,zt.current),bt(Ge,Ge.current)}function Le(e){re(Ge),en===e&&(en=null),re(zt)}var zt=Rn(0);function vu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||id(n)||rd(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Yn=0,et=null,Et=null,qt=null,Eu=!1,_s=!1,wr=!1,Tu=0,yo=0,vs=null,Tw=0;function Lt(){throw Error(L(321))}function am(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Fe(e[n],t[n]))return!1;return!0}function om(e,t,n,i,r,s){return Yn=s,et=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,K.H=e===null||e.memoizedState===null?T1:_m,wr=!1,s=n(i,r),wr=!1,_s&&(s=Qv(t,n,i,r)),Gv(e),s}function Gv(e){K.H=_o;var t=Et!==null&&Et.next!==null;if(Yn=0,qt=Et=et=null,Eu=!1,yo=0,vs=null,t)throw Error(L(300));e===null||Qt||(e=e.dependencies,e!==null&&gu(e)&&(Qt=!0))}function Qv(e,t,n,i){et=e;var r=0;do{if(_s&&(vs=null),yo=0,_s=!1,25<=r)throw Error(L(301));if(r+=1,qt=Et=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}K.H=S1,s=t(n,i)}while(_s);return s}function Sw(){var e=K.H,t=e.useState()[0];return t=typeof t.then=="function"?jo(t):t,e=e.useState()[0],(Et!==null?Et.memoizedState:null)!==e&&(et.flags|=1024),t}function lm(){var e=Tu!==0;return Tu=0,e}function um(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function cm(e){if(Eu){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Eu=!1}Yn=0,qt=Et=et=null,_s=!1,yo=Tu=0,vs=null}function Ee(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?et.memoizedState=qt=e:qt=qt.next=e,qt}function jt(){if(Et===null){var e=et.alternate;e=e!==null?e.memoizedState:null}else e=Et.next;var t=qt===null?et.memoizedState:qt.next;if(t!==null)qt=t,Et=e;else{if(e===null)throw et.alternate===null?Error(L(467)):Error(L(310));Et=e,e={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},qt===null?et.memoizedState=qt=e:qt=qt.next=e}return qt}function fc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jo(e){var t=yo;return yo+=1,vs===null&&(vs=[]),e=zv(vs,e,t),t=et,(qt===null?t.memoizedState:qt.next)===null&&(t=t.alternate,K.H=t===null||t.memoizedState===null?T1:_m),e}function dc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return jo(e);if(e.$$typeof===kn)return ce(e)}throw Error(L(438,String(e)))}function hm(e){var t=null,n=et.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=et.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=fc(),et.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=ob;return t.index++,n}function Kn(e,t){return typeof t=="function"?t(e):t}function ql(e){var t=jt();return fm(t,Et,e)}function fm(e,t,n){var i=e.queue;if(i===null)throw Error(L(311));i.lastRenderedReducer=n;var r=e.baseQueue,s=i.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}t.baseQueue=r=s,i.pending=null}if(s=e.baseState,r===null)e.memoizedState=s;else{t=r.next;var l=a=null,u=null,h=t,d=!1;do{var p=h.lane&-536870913;if(p!==h.lane?(ut&p)===p:(Yn&p)===p){var m=h.revertLane;if(m===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),p===Ds&&(d=!0);else if((Yn&m)===m){h=h.next,m===Ds&&(d=!0);continue}else p={lane:0,revertLane:h.revertLane,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(l=u=p,a=s):u=u.next=p,et.lanes|=m,Fi|=m;p=h.action,wr&&n(s,p),s=h.hasEagerState?h.eagerState:n(s,p)}else m={lane:p,revertLane:h.revertLane,gesture:h.gesture,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(l=u=m,a=s):u=u.next=m,et.lanes|=p,Fi|=p;h=h.next}while(h!==null&&h!==t);if(u===null?a=s:u.next=l,!Fe(s,e.memoizedState)&&(Qt=!0,d&&(n=gs,n!==null)))throw n;e.memoizedState=s,e.baseState=a,e.baseQueue=u,i.lastRenderedState=s}return r===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Dh(e){var t=jt(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,s=t.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do s=e(s,a.action),a=a.next;while(a!==r);Fe(s,t.memoizedState)||(Qt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function Yv(e,t,n){var i=et,r=jt(),s=ct;if(s){if(n===void 0)throw Error(L(407));n=n()}else n=t();var a=!Fe((Et||r).memoizedState,n);if(a&&(r.memoizedState=n,Qt=!0),r=r.queue,dm($v.bind(null,i,r,e),[e]),r.getSnapshot!==t||a||qt!==null&&qt.memoizedState.tag&1){if(i.flags|=2048,Ns(9,{destroy:void 0},Xv.bind(null,i,r,n,t),null),St===null)throw Error(L(349));s||Yn&127||Kv(i,t,n)}return n}function Kv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=et.updateQueue,t===null?(t=fc(),et.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Xv(e,t,n,i){t.value=n,t.getSnapshot=i,Wv(t)&&Jv(e)}function $v(e,t,n){return n(function(){Wv(t)&&Jv(e)})}function Wv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Fe(e,n)}catch{return!0}}function Jv(e){var t=kr(e,2);t!==null&&xe(t,e,2)}function zf(e){var t=Ee();if(typeof e=="function"){var n=e;if(e=n(),wr){Ti(!0);try{n()}finally{Ti(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kn,lastRenderedState:e},t}function Zv(e,t,n,i){return e.baseState=n,fm(e,Et,typeof i=="function"?i:Kn)}function Aw(e,t,n,i,r){if(pc(e))throw Error(L(485));if(e=t.action,e!==null){var s={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};K.T!==null?n(!0):s.isTransition=!1,i(s),n=t.pending,n===null?(s.next=t.pending=s,t1(t,s)):(s.next=n.next,t.pending=n.next=s)}}function t1(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var s=K.T,a={};K.T=a;try{var l=n(r,i),u=K.S;u!==null&&u(a,l),oy(e,t,l)}catch(h){jf(e,t,h)}finally{s!==null&&a.types!==null&&(s.types=a.types),K.T=s}}else try{s=n(r,i),oy(e,t,s)}catch(h){jf(e,t,h)}}function oy(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){ly(e,t,i)},function(i){return jf(e,t,i)}):ly(e,t,n)}function ly(e,t,n){t.status="fulfilled",t.value=n,e1(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,t1(e,n)))}function jf(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,e1(t),t=t.next;while(t!==i)}e.action=null}function e1(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function n1(e,t){return t}function uy(e,t){if(ct){var n=St.formState;if(n!==null){t:{var i=et;if(ct){if(It){e:{for(var r=It,s=Ze;r.nodeType!==8;){if(!s){r=null;break e}if(r=nn(r.nextSibling),r===null){r=null;break e}}s=r.data,r=s==="F!"||s==="F"?r:null}if(r){It=nn(r.nextSibling),i=r.data==="F!";break t}}qi(i)}i=!1}i&&(t=n[0])}}return n=Ee(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n1,lastRenderedState:t},n.queue=i,n=_1.bind(null,et,i),i.dispatch=n,i=zf(!1),s=ym.bind(null,et,!1,i.queue),i=Ee(),r={state:t,dispatch:null,action:e,pending:null},i.queue=r,n=Aw.bind(null,et,r,s,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function cy(e){var t=jt();return i1(t,Et,e)}function i1(e,t,n){if(t=fm(e,t,n1)[0],e=ql(Kn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=jo(t)}catch(a){throw a===Xs?hc:a}else i=t;t=jt();var r=t.queue,s=r.dispatch;return n!==t.memoizedState&&(et.flags|=2048,Ns(9,{destroy:void 0},bw.bind(null,r,n),null)),[i,s,e]}function bw(e,t){e.action=t}function hy(e){var t=jt(),n=Et;if(n!==null)return i1(t,n,e);jt(),t=t.memoizedState,n=jt();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Ns(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=et.updateQueue,t===null&&(t=fc(),et.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function r1(){return jt().memoizedState}function Hl(e,t,n,i){var r=Ee();et.flags|=e,r.memoizedState=Ns(1|t,{destroy:void 0},n,i===void 0?null:i)}function mc(e,t,n,i){var r=jt();i=i===void 0?null:i;var s=r.memoizedState.inst;Et!==null&&i!==null&&am(i,Et.memoizedState.deps)?r.memoizedState=Ns(t,s,n,i):(et.flags|=e,r.memoizedState=Ns(1|t,s,n,i))}function fy(e,t){Hl(8390656,8,e,t)}function dm(e,t){mc(2048,8,e,t)}function ww(e){et.flags|=4;var t=et.updateQueue;if(t===null)t=fc(),et.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function s1(e){var t=jt().memoizedState;return ww({ref:t,nextImpl:e}),function(){if(ft&2)throw Error(L(440));return t.impl.apply(void 0,arguments)}}function a1(e,t){return mc(4,2,e,t)}function o1(e,t){return mc(4,4,e,t)}function l1(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function u1(e,t,n){n=n!=null?n.concat([e]):null,mc(4,4,l1.bind(null,t,e),n)}function mm(){}function c1(e,t){var n=jt();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&am(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function h1(e,t){var n=jt();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&am(t,i[1]))return i[0];if(i=e(),wr){Ti(!0);try{e()}finally{Ti(!1)}}return n.memoizedState=[i,t],i}function pm(e,t,n){return n===void 0||Yn&1073741824&&!(ut&261930)?e.memoizedState=t:(e.memoizedState=n,e=Z1(),et.lanes|=e,Fi|=e,n)}function f1(e,t,n,i){return Fe(n,t)?n:xs.current!==null?(e=pm(e,n,i),Fe(e,t)||(Qt=!0),e):!(Yn&42)||Yn&1073741824&&!(ut&261930)?(Qt=!0,e.memoizedState=n):(e=Z1(),et.lanes|=e,Fi|=e,t)}function d1(e,t,n,i,r){var s=dt.p;dt.p=s!==0&&8>s?s:8;var a=K.T,l={};K.T=l,ym(e,!1,t,n);try{var u=r(),h=K.S;if(h!==null&&h(l,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=Ew(u,i);Xa(e,t,d,He(e))}else Xa(e,t,i,He(e))}catch(p){Xa(e,t,{then:function(){},status:"rejected",reason:p},He())}finally{dt.p=s,a!==null&&l.types!==null&&(a.types=l.types),K.T=a}}function Rw(){}function Bf(e,t,n,i){if(e.tag!==5)throw Error(L(476));var r=m1(e).queue;d1(e,r,t,mr,n===null?Rw:function(){return p1(e),n(i)})}function m1(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:mr,baseState:mr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kn,lastRenderedState:mr},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function p1(e){var t=m1(e);t.next===null&&(t=e.alternate.memoizedState),Xa(e,t.next.queue,{},He())}function gm(){return ce(To)}function g1(){return jt().memoizedState}function y1(){return jt().memoizedState}function Iw(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=He();e=Di(n);var i=xi(t,e,n);i!==null&&(xe(i,t,n),Qa(i,t,n)),t={cache:em()},e.payload=t;return}t=t.return}}function Cw(e,t,n){var i=He();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},pc(e)?v1(t,n):(n=Wd(e,t,n,i),n!==null&&(xe(n,e,i),E1(n,t,i)))}function _1(e,t,n){var i=He();Xa(e,t,n,i)}function Xa(e,t,n,i){var r={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(pc(e))v1(t,r);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,n);if(r.hasEagerState=!0,r.eagerState=l,Fe(l,a))return cc(e,t,r,0),St===null&&uc(),!1}catch{}finally{}if(n=Wd(e,t,r,i),n!==null)return xe(n,e,i),E1(n,t,i),!0}return!1}function ym(e,t,n,i){if(i={lane:2,revertLane:Rm(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},pc(e)){if(t)throw Error(L(479))}else t=Wd(e,n,i,2),t!==null&&xe(t,e,2)}function pc(e){var t=e.alternate;return e===et||t!==null&&t===et}function v1(e,t){_s=Eu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function E1(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,sv(e,n)}}var _o={readContext:ce,use:dc,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt,useHostTransitionStatus:Lt,useFormState:Lt,useActionState:Lt,useOptimistic:Lt,useMemoCache:Lt,useCacheRefresh:Lt};_o.useEffectEvent=Lt;var T1={readContext:ce,use:dc,useCallback:function(e,t){return Ee().memoizedState=[e,t===void 0?null:t],e},useContext:ce,useEffect:fy,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Hl(4194308,4,l1.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Hl(4194308,4,e,t)},useInsertionEffect:function(e,t){Hl(4,2,e,t)},useMemo:function(e,t){var n=Ee();t=t===void 0?null:t;var i=e();if(wr){Ti(!0);try{e()}finally{Ti(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=Ee();if(n!==void 0){var r=n(t);if(wr){Ti(!0);try{n(t)}finally{Ti(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=Cw.bind(null,et,e),[i.memoizedState,e]},useRef:function(e){var t=Ee();return e={current:e},t.memoizedState=e},useState:function(e){e=zf(e);var t=e.queue,n=_1.bind(null,et,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:mm,useDeferredValue:function(e,t){var n=Ee();return pm(n,e,t)},useTransition:function(){var e=zf(!1);return e=d1.bind(null,et,e.queue,!0,!1),Ee().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=et,r=Ee();if(ct){if(n===void 0)throw Error(L(407));n=n()}else{if(n=t(),St===null)throw Error(L(349));ut&127||Kv(i,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,fy($v.bind(null,i,s,e),[e]),i.flags|=2048,Ns(9,{destroy:void 0},Xv.bind(null,i,s,n,t),null),n},useId:function(){var e=Ee(),t=St.identifierPrefix;if(ct){var n=yn,i=gn;n=(i&~(1<<32-qe(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Tu++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Tw++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:gm,useFormState:uy,useActionState:uy,useOptimistic:function(e){var t=Ee();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ym.bind(null,et,!0,n),n.dispatch=t,[e,t]},useMemoCache:hm,useCacheRefresh:function(){return Ee().memoizedState=Iw.bind(null,et)},useEffectEvent:function(e){var t=Ee(),n={impl:e};return t.memoizedState=n,function(){if(ft&2)throw Error(L(440));return n.impl.apply(void 0,arguments)}}},_m={readContext:ce,use:dc,useCallback:c1,useContext:ce,useEffect:dm,useImperativeHandle:u1,useInsertionEffect:a1,useLayoutEffect:o1,useMemo:h1,useReducer:ql,useRef:r1,useState:function(){return ql(Kn)},useDebugValue:mm,useDeferredValue:function(e,t){var n=jt();return f1(n,Et.memoizedState,e,t)},useTransition:function(){var e=ql(Kn)[0],t=jt().memoizedState;return[typeof e=="boolean"?e:jo(e),t]},useSyncExternalStore:Yv,useId:g1,useHostTransitionStatus:gm,useFormState:cy,useActionState:cy,useOptimistic:function(e,t){var n=jt();return Zv(n,Et,e,t)},useMemoCache:hm,useCacheRefresh:y1};_m.useEffectEvent=s1;var S1={readContext:ce,use:dc,useCallback:c1,useContext:ce,useEffect:dm,useImperativeHandle:u1,useInsertionEffect:a1,useLayoutEffect:o1,useMemo:h1,useReducer:Dh,useRef:r1,useState:function(){return Dh(Kn)},useDebugValue:mm,useDeferredValue:function(e,t){var n=jt();return Et===null?pm(n,e,t):f1(n,Et.memoizedState,e,t)},useTransition:function(){var e=Dh(Kn)[0],t=jt().memoizedState;return[typeof e=="boolean"?e:jo(e),t]},useSyncExternalStore:Yv,useId:g1,useHostTransitionStatus:gm,useFormState:hy,useActionState:hy,useOptimistic:function(e,t){var n=jt();return Et!==null?Zv(n,Et,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:hm,useCacheRefresh:y1};S1.useEffectEvent=s1;function xh(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:xt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var qf={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=He(),r=Di(i);r.payload=t,n!=null&&(r.callback=n),t=xi(e,r,i),t!==null&&(xe(t,e,i),Qa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=He(),r=Di(i);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=xi(e,r,i),t!==null&&(xe(t,e,i),Qa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=He(),i=Di(n);i.tag=2,t!=null&&(i.callback=t),t=xi(e,i,n),t!==null&&(xe(t,e,n),Qa(t,e,n))}};function dy(e,t,n,i,r,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,a):t.prototype&&t.prototype.isPureReactComponent?!fo(n,i)||!fo(r,s):!0}function my(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&qf.enqueueReplaceState(t,t.state,null)}function Rr(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=xt({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}function A1(e){du(e)}function b1(e){console.error(e)}function w1(e){du(e)}function Su(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function py(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Hf(e,t,n){return n=Di(n),n.tag=3,n.payload={element:null},n.callback=function(){Su(e,t)},n}function R1(e){return e=Di(e),e.tag=3,e}function I1(e,t,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=i.value;e.payload=function(){return r(s)},e.callback=function(){py(t,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(e.callback=function(){py(t,n,i),typeof r!="function"&&(Ni===null?Ni=new Set([this]):Ni.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function Dw(e,t,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Ks(t,n,r,!0),n=Ge.current,n!==null){switch(n.tag){case 31:case 13:return en===null?Iu():n.alternate===null&&kt===0&&(kt=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===yu?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),Bh(e,i,r)),!1;case 22:return n.flags|=65536,i===yu?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),Bh(e,i,r)),!1}throw Error(L(435,n.tag))}return Bh(e,i,r),Iu(),!1}if(ct)return t=Ge.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==xf&&(e=Error(L(422),{cause:i}),po(Je(e,n)))):(i!==xf&&(t=Error(L(423),{cause:i}),po(Je(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,i=Je(i,n),r=Hf(e.stateNode,i,r),Ch(e,r),kt!==4&&(kt=2)),!1;var s=Error(L(520),{cause:i});if(s=Je(s,n),Ja===null?Ja=[s]:Ja.push(s),kt!==4&&(kt=2),t===null)return!0;i=Je(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=Hf(n.stateNode,i,e),Ch(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Ni===null||!Ni.has(s))))return n.flags|=65536,r&=-r,n.lanes|=r,r=R1(r),I1(r,e,n,i),Ch(n,r),!1}n=n.return}while(n!==null);return!1}var vm=Error(L(461)),Qt=!1;function se(e,t,n,i){t.child=e===null?Bv(t,null,n,i):br(t,e.child,n,i)}function gy(e,t,n,i,r){n=n.render;var s=t.ref;if("ref"in i){var a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}else a=i;return Ar(t),i=om(e,t,n,a,s,r),l=lm(),e!==null&&!Qt?(um(e,t,r),Xn(e,t,r)):(ct&&l&&Zd(t),t.flags|=1,se(e,t,i,r),t.child)}function yy(e,t,n,i,r){if(e===null){var s=n.type;return typeof s=="function"&&!Jd(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,C1(e,t,s,i,r)):(e=jl(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!Em(e,r)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:fo,n(a,i)&&e.ref===t.ref)return Xn(e,t,r)}return t.flags|=1,e=qn(s,i),e.ref=t.ref,e.return=t,t.child=e}function C1(e,t,n,i,r){if(e!==null){var s=e.memoizedProps;if(fo(s,i)&&e.ref===t.ref)if(Qt=!1,t.pendingProps=i=s,Em(e,r))e.flags&131072&&(Qt=!0);else return t.lanes=e.lanes,Xn(e,t,r)}return Ff(e,t,n,i,r)}function D1(e,t,n,i){var r=i.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(t.flags&128){if(s=s!==null?s.baseLanes|n:n,e!==null){for(i=t.child=e.child,r=0;i!==null;)r=r|i.lanes|i.childLanes,i=i.sibling;i=r&~s}else i=0,t.child=null;return _y(e,t,s,n,i)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Bl(t,s!==null?s.cachePool:null),s!==null?ay(t,s):kf(),Fv(t);else return i=t.lanes=536870912,_y(e,t,s!==null?s.baseLanes|n:n,n,i)}else s!==null?(Bl(t,s.cachePool),ay(t,s),gi(),t.memoizedState=null):(e!==null&&Bl(t,null),kf(),gi());return se(e,t,r,n),t.child}function Va(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function _y(e,t,n,i,r){var s=nm();return s=s===null?null:{parent:Ft._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&Bl(t,null),kf(),Fv(t),e!==null&&Ks(e,t,i,!0),t.childLanes=r,null}function Fl(e,t){return t=Au({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function vy(e,t,n){return br(t,e.child,null,n),e=Fl(t,t.pendingProps),e.flags|=2,Le(t),t.memoizedState=null,e}function xw(e,t,n){var i=t.pendingProps,r=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ct){if(i.mode==="hidden")return e=Fl(t,i),t.lanes=536870912,Va(null,e);if(Pf(t),(e=It)?(e=TE(e,Ze),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Bi!==null?{id:gn,overflow:yn}:null,retryLane:536870912,hydrationErrors:null},n=Vv(e),n.return=t,t.child=n,le=t,It=null)):e=null,e===null)throw qi(t);return t.lanes=536870912,null}return Fl(t,i)}var s=e.memoizedState;if(s!==null){var a=s.dehydrated;if(Pf(t),r)if(t.flags&256)t.flags&=-257,t=vy(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(L(558));else if(Qt||Ks(e,t,n,!1),r=(n&e.childLanes)!==0,Qt||r){if(i=St,i!==null&&(a=av(i,n),a!==0&&a!==s.retryLane))throw s.retryLane=a,kr(e,a),xe(i,e,a),vm;Iu(),t=vy(e,t,n)}else e=s.treeContext,It=nn(a.nextSibling),le=t,ct=!0,Ci=null,Ze=!1,e!==null&&Lv(t,e),t=Fl(t,i),t.flags|=4096;return t}return e=qn(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Gl(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(L(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Ff(e,t,n,i,r){return Ar(t),n=om(e,t,n,i,void 0,r),i=lm(),e!==null&&!Qt?(um(e,t,r),Xn(e,t,r)):(ct&&i&&Zd(t),t.flags|=1,se(e,t,n,r),t.child)}function Ey(e,t,n,i,r,s){return Ar(t),t.updateQueue=null,n=Qv(t,i,n,r),Gv(e),i=lm(),e!==null&&!Qt?(um(e,t,s),Xn(e,t,s)):(ct&&i&&Zd(t),t.flags|=1,se(e,t,n,s),t.child)}function Ty(e,t,n,i,r){if(Ar(t),t.stateNode===null){var s=us,a=n.contextType;typeof a=="object"&&a!==null&&(s=ce(a)),s=new n(i,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=qf,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=i,s.state=t.memoizedState,s.refs={},rm(t),a=n.contextType,s.context=typeof a=="object"&&a!==null?ce(a):us,s.state=t.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(xh(t,n,a,i),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&qf.enqueueReplaceState(s,s.state,null),Ka(t,i,s,r),Ya(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){s=t.stateNode;var l=t.memoizedProps,u=Rr(n,l);s.props=u;var h=s.context,d=n.contextType;a=us,typeof d=="object"&&d!==null&&(a=ce(d));var p=n.getDerivedStateFromProps;d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l||h!==a)&&my(t,s,i,a),di=!1;var m=t.memoizedState;s.state=m,Ka(t,i,s,r),Ya(),h=t.memoizedState,l||m!==h||di?(typeof p=="function"&&(xh(t,n,p,i),h=t.memoizedState),(u=di||dy(t,n,u,i,m,h,a))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=h),s.props=i,s.state=h,s.context=a,i=u):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,Uf(e,t),a=t.memoizedProps,d=Rr(n,a),s.props=d,p=t.pendingProps,m=s.context,h=n.contextType,u=us,typeof h=="object"&&h!==null&&(u=ce(h)),l=n.getDerivedStateFromProps,(h=typeof l=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==p||m!==u)&&my(t,s,i,u),di=!1,m=t.memoizedState,s.state=m,Ka(t,i,s,r),Ya();var v=t.memoizedState;a!==p||m!==v||di||e!==null&&e.dependencies!==null&&gu(e.dependencies)?(typeof l=="function"&&(xh(t,n,l,i),v=t.memoizedState),(d=di||dy(t,n,d,i,m,v,u)||e!==null&&e.dependencies!==null&&gu(e.dependencies))?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,v,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,v,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=v),s.props=i,s.state=v,s.context=u,i=d):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),i=!1)}return s=i,Gl(e,t),i=(t.flags&128)!==0,s||i?(s=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&i?(t.child=br(t,e.child,null,r),t.child=br(t,null,n,r)):se(e,t,n,r),t.memoizedState=s.state,e=t.child):e=Xn(e,t,r),e}function Sy(e,t,n,i){return Sr(),t.flags|=256,se(e,t,n,i),t.child}var Nh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Oh(e){return{baseLanes:e,cachePool:Pv()}}function Mh(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Pe),e}function x1(e,t,n){var i=t.pendingProps,r=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(zt.current&2)!==0),a&&(r=!0,t.flags&=-129),a=(t.flags&32)!==0,t.flags&=-33,e===null){if(ct){if(r?pi(t):gi(),(e=It)?(e=TE(e,Ze),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Bi!==null?{id:gn,overflow:yn}:null,retryLane:536870912,hydrationErrors:null},n=Vv(e),n.return=t,t.child=n,le=t,It=null)):e=null,e===null)throw qi(t);return rd(e)?t.lanes=32:t.lanes=536870912,null}var l=i.children;return i=i.fallback,r?(gi(),r=t.mode,l=Au({mode:"hidden",children:l},r),i=pr(i,r,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,i=t.child,i.memoizedState=Oh(n),i.childLanes=Mh(e,a,n),t.memoizedState=Nh,Va(null,i)):(pi(t),Gf(t,l))}var u=e.memoizedState;if(u!==null&&(l=u.dehydrated,l!==null)){if(s)t.flags&256?(pi(t),t.flags&=-257,t=Vh(e,t,n)):t.memoizedState!==null?(gi(),t.child=e.child,t.flags|=128,t=null):(gi(),l=i.fallback,r=t.mode,i=Au({mode:"visible",children:i.children},r),l=pr(l,r,n,null),l.flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,br(t,e.child,null,n),i=t.child,i.memoizedState=Oh(n),i.childLanes=Mh(e,a,n),t.memoizedState=Nh,t=Va(null,i));else if(pi(t),rd(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var h=a.dgst;a=h,i=Error(L(419)),i.stack="",i.digest=a,po({value:i,source:null,stack:null}),t=Vh(e,t,n)}else if(Qt||Ks(e,t,n,!1),a=(n&e.childLanes)!==0,Qt||a){if(a=St,a!==null&&(i=av(a,n),i!==0&&i!==u.retryLane))throw u.retryLane=i,kr(e,i),xe(a,e,i),vm;id(l)||Iu(),t=Vh(e,t,n)}else id(l)?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,It=nn(l.nextSibling),le=t,ct=!0,Ci=null,Ze=!1,e!==null&&Lv(t,e),t=Gf(t,i.children),t.flags|=4096);return t}return r?(gi(),l=i.fallback,r=t.mode,u=e.child,h=u.sibling,i=qn(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,h!==null?l=qn(h,l):(l=pr(l,r,n,null),l.flags|=2),l.return=t,i.return=t,i.sibling=l,t.child=i,Va(null,i),i=t.child,l=e.child.memoizedState,l===null?l=Oh(n):(r=l.cachePool,r!==null?(u=Ft._currentValue,r=r.parent!==u?{parent:u,pool:u}:r):r=Pv(),l={baseLanes:l.baseLanes|n,cachePool:r}),i.memoizedState=l,i.childLanes=Mh(e,a,n),t.memoizedState=Nh,Va(e.child,i)):(pi(t),n=e.child,e=n.sibling,n=qn(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function Gf(e,t){return t=Au({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Au(e,t){return e=ke(22,e,null,t),e.lanes=0,e}function Vh(e,t,n){return br(t,e.child,null,n),e=Gf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ay(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Of(e.return,t,n)}function Uh(e,t,n,i,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r,treeForkCount:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r,a.treeForkCount=s)}function N1(e,t,n){var i=t.pendingProps,r=i.revealOrder,s=i.tail;i=i.children;var a=zt.current,l=(a&2)!==0;if(l?(a=a&1|2,t.flags|=128):a&=1,bt(zt,a),se(e,t,i,n),i=ct?mo:0,!l&&e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ay(e,n,t);else if(e.tag===19)Ay(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&vu(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Uh(t,!1,r,n,s,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&vu(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Uh(t,!0,n,null,s,i);break;case"together":Uh(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function Xn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Fi|=t.lanes,!(n&t.childLanes))if(e!==null){if(Ks(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,n=qn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=qn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Em(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&gu(e)))}function Nw(e,t,n){switch(t.tag){case 3:uu(t,t.stateNode.containerInfo),mi(t,Ft,e.memoizedState.cache),Sr();break;case 27:case 5:vf(t);break;case 4:uu(t,t.stateNode.containerInfo);break;case 10:mi(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Pf(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(pi(t),t.flags|=128,null):n&t.child.childLanes?x1(e,t,n):(pi(t),e=Xn(e,t,n),e!==null?e.sibling:null);pi(t);break;case 19:var r=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Ks(e,t,n,!1),i=(n&t.childLanes)!==0),r){if(i)return N1(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),bt(zt,zt.current),i)break;return null;case 22:return t.lanes=0,D1(e,t,n,t.pendingProps);case 24:mi(t,Ft,e.memoizedState.cache)}return Xn(e,t,n)}function O1(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Qt=!0;else{if(!Em(e,n)&&!(t.flags&128))return Qt=!1,Nw(e,t,n);Qt=!!(e.flags&131072)}else Qt=!1,ct&&t.flags&1048576&&Uv(t,mo,t.index);switch(t.lanes=0,t.tag){case 16:t:{var i=t.pendingProps;if(e=ur(t.elementType),t.type=e,typeof e=="function")Jd(e)?(i=Rr(e,i),t.tag=1,t=Ty(null,t,e,i,n)):(t.tag=0,t=Ff(null,t,e,i,n));else{if(e!=null){var r=e.$$typeof;if(r===Pd){t.tag=11,t=gy(null,t,e,i,n);break t}else if(r===zd){t.tag=14,t=yy(null,t,e,i,n);break t}}throw t=yf(e)||e,Error(L(306,t,""))}}return t;case 0:return Ff(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,r=Rr(i,t.pendingProps),Ty(e,t,i,r,n);case 3:t:{if(uu(t,t.stateNode.containerInfo),e===null)throw Error(L(387));i=t.pendingProps;var s=t.memoizedState;r=s.element,Uf(e,t),Ka(t,i,null,n);var a=t.memoizedState;if(i=a.cache,mi(t,Ft,i),i!==s.cache&&Mf(t,[Ft],n,!0),Ya(),i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Sy(e,t,i,n);break t}else if(i!==r){r=Je(Error(L(424)),t),po(r),t=Sy(e,t,i,n);break t}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(It=nn(e.firstChild),le=t,ct=!0,Ci=null,Ze=!0,n=Bv(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Sr(),i===r){t=Xn(e,t,n);break t}se(e,t,i,n)}t=t.child}return t;case 26:return Gl(e,t),e===null?(n=Hy(t.type,null,t.pendingProps,null))?t.memoizedState=n:ct||(n=t.type,e=t.pendingProps,i=Nu(Ii.current).createElement(n),i[oe]=t,i[Oe]=e,he(i,n,e),ie(i),t.stateNode=i):t.memoizedState=Hy(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return vf(t),e===null&&ct&&(i=t.stateNode=SE(t.type,t.pendingProps,Ii.current),le=t,Ze=!0,r=It,Ji(t.type)?(sd=r,It=nn(i.firstChild)):It=r),se(e,t,t.pendingProps.children,n),Gl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ct&&((r=i=It)&&(i=oR(i,t.type,t.pendingProps,Ze),i!==null?(t.stateNode=i,le=t,It=nn(i.firstChild),Ze=!1,r=!0):r=!1),r||qi(t)),vf(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,ed(r,s)?i=null:a!==null&&ed(r,a)&&(t.flags|=32),t.memoizedState!==null&&(r=om(e,t,Sw,null,null,n),To._currentValue=r),Gl(e,t),se(e,t,i,n),t.child;case 6:return e===null&&ct&&((e=n=It)&&(n=lR(n,t.pendingProps,Ze),n!==null?(t.stateNode=n,le=t,It=null,e=!0):e=!1),e||qi(t)),null;case 13:return x1(e,t,n);case 4:return uu(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=br(t,null,i,n):se(e,t,i,n),t.child;case 11:return gy(e,t,t.type,t.pendingProps,n);case 7:return se(e,t,t.pendingProps,n),t.child;case 8:return se(e,t,t.pendingProps.children,n),t.child;case 12:return se(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,mi(t,t.type,i.value),se(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,Ar(t),r=ce(r),i=i(r),t.flags|=1,se(e,t,i,n),t.child;case 14:return yy(e,t,t.type,t.pendingProps,n);case 15:return C1(e,t,t.type,t.pendingProps,n);case 19:return N1(e,t,n);case 31:return xw(e,t,n);case 22:return D1(e,t,n,t.pendingProps);case 24:return Ar(t),i=ce(Ft),e===null?(r=nm(),r===null&&(r=St,s=em(),r.pooledCache=s,s.refCount++,s!==null&&(r.pooledCacheLanes|=n),r=s),t.memoizedState={parent:i,cache:r},rm(t),mi(t,Ft,r)):(e.lanes&n&&(Uf(e,t),Ka(t,null,null,n),Ya()),r=e.memoizedState,s=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),mi(t,Ft,i)):(i=s.cache,mi(t,Ft,i),i!==r.cache&&Mf(t,[Ft],n,!0))),se(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(L(156,t.tag))}function xn(e){e.flags|=4}function Lh(e,t,n,i,r){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(r&335544128)===r)if(e.stateNode.complete)e.flags|=8192;else if(nE())e.flags|=8192;else throw yr=yu,im}else e.flags&=-16777217}function by(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!wE(t))if(nE())e.flags|=8192;else throw yr=yu,im}function bl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?iv():536870912,e.lanes|=t,Os|=t)}function Ia(e,t){if(!ct)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Ow(e,t,n){var i=t.pendingProps;switch(tm(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(t),null;case 1:return Rt(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Hn(Ft),Rs(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Qr(t)?xn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ih())),Rt(t),null;case 26:var r=t.type,s=t.memoizedState;return e===null?(xn(t),s!==null?(Rt(t),by(t,s)):(Rt(t),Lh(t,r,null,i,n))):s?s!==e.memoizedState?(xn(t),Rt(t),by(t,s)):(Rt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&xn(t),Rt(t),Lh(t,r,e,i,n)),null;case 27:if(cu(t),n=Ii.current,r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&xn(t);else{if(!i){if(t.stateNode===null)throw Error(L(166));return Rt(t),null}e=vn.current,Qr(t)?Zg(t):(e=SE(r,i,n),t.stateNode=e,xn(t))}return Rt(t),null;case 5:if(cu(t),r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&xn(t);else{if(!i){if(t.stateNode===null)throw Error(L(166));return Rt(t),null}if(s=vn.current,Qr(t))Zg(t);else{var a=Nu(Ii.current);switch(s){case 1:s=a.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:s=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":s=a.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":s=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":s=a.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof i.is=="string"?a.createElement("select",{is:i.is}):a.createElement("select"),i.multiple?s.multiple=!0:i.size&&(s.size=i.size);break;default:s=typeof i.is=="string"?a.createElement(r,{is:i.is}):a.createElement(r)}}s[oe]=t,s[Oe]=i;t:for(a=t.child;a!==null;){if(a.tag===5||a.tag===6)s.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break t;for(;a.sibling===null;){if(a.return===null||a.return===t)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=s;t:switch(he(s,r,i),r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&xn(t)}}return Rt(t),Lh(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&xn(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(L(166));if(e=Ii.current,Qr(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,r=le,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}e[oe]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||_E(e.nodeValue,n)),e||qi(t,!0)}else e=Nu(e).createTextNode(i),e[oe]=t,t.stateNode=e}return Rt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=Qr(t),n!==null){if(e===null){if(!i)throw Error(L(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(557));e[oe]=t}else Sr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Rt(t),e=!1}else n=Ih(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Le(t),t):(Le(t),null);if(t.flags&128)throw Error(L(558))}return Rt(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Qr(t),i!==null&&i.dehydrated!==null){if(e===null){if(!r)throw Error(L(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(L(317));r[oe]=t}else Sr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Rt(t),r=!1}else r=Ih(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(Le(t),t):(Le(t),null)}return Le(t),t.flags&128?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==r&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),bl(t,t.updateQueue),Rt(t),null);case 4:return Rs(),e===null&&Im(t.stateNode.containerInfo),Rt(t),null;case 10:return Hn(t.type),Rt(t),null;case 19:if(re(zt),i=t.memoizedState,i===null)return Rt(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)Ia(i,!1);else{if(kt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=vu(e),s!==null){for(t.flags|=128,Ia(i,!1),e=s.updateQueue,t.updateQueue=e,bl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Mv(n,e),n=n.sibling;return bt(zt,zt.current&1|2),ct&&Vn(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&je()>wu&&(t.flags|=128,r=!0,Ia(i,!1),t.lanes=4194304)}else{if(!r)if(e=vu(s),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,bl(t,e),Ia(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!ct)return Rt(t),null}else 2*je()-i.renderingStartTime>wu&&n!==536870912&&(t.flags|=128,r=!0,Ia(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(e=i.last,e!==null?e.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=je(),e.sibling=null,n=zt.current,bt(zt,r?n&1|2:n&1),ct&&Vn(t,i.treeForkCount),e):(Rt(t),null);case 22:case 23:return Le(t),sm(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(Rt(t),t.subtreeFlags&6&&(t.flags|=8192)):Rt(t),n=t.updateQueue,n!==null&&bl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&re(gr),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Hn(Ft),Rt(t),null;case 25:return null;case 30:return null}throw Error(L(156,t.tag))}function Mw(e,t){switch(tm(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Hn(Ft),Rs(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return cu(t),null;case 31:if(t.memoizedState!==null){if(Le(t),t.alternate===null)throw Error(L(340));Sr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Le(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));Sr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return re(zt),null;case 4:return Rs(),null;case 10:return Hn(t.type),null;case 22:case 23:return Le(t),sm(),e!==null&&re(gr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Hn(Ft),null;case 25:return null;default:return null}}function M1(e,t){switch(tm(t),t.tag){case 3:Hn(Ft),Rs();break;case 26:case 27:case 5:cu(t);break;case 4:Rs();break;case 31:t.memoizedState!==null&&Le(t);break;case 13:Le(t);break;case 19:re(zt);break;case 10:Hn(t.type);break;case 22:case 23:Le(t),sm(),e!==null&&re(gr);break;case 24:Hn(Ft)}}function Bo(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var s=n.create,a=n.inst;i=s(),a.destroy=i}n=n.next}while(n!==r)}}catch(l){yt(t,t.return,l)}}function Hi(e,t,n){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var s=r.next;i=s;do{if((i.tag&e)===e){var a=i.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,r=t;var u=n,h=l;try{h()}catch(d){yt(r,u,d)}}}i=i.next}while(i!==s)}}catch(d){yt(t,t.return,d)}}function V1(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Hv(t,n)}catch(i){yt(e,e.return,i)}}}function U1(e,t,n){n.props=Rr(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){yt(e,t,i)}}function $a(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(r){yt(e,t,r)}}function _n(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){yt(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){yt(e,t,r)}else n.current=null}function L1(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){yt(e,e.return,r)}}function kh(e,t,n){try{var i=e.stateNode;eR(i,e.type,n,t),i[Oe]=t}catch(r){yt(e,e.return,r)}}function k1(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ji(e.type)||e.tag===4}function Ph(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||k1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ji(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qf(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Pn));else if(i!==4&&(i===27&&Ji(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Qf(e,t,n),e=e.sibling;e!==null;)Qf(e,t,n),e=e.sibling}function bu(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Ji(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(bu(e,t,n),e=e.sibling;e!==null;)bu(e,t,n),e=e.sibling}function P1(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);he(t,i,n),t[oe]=e,t[Oe]=n}catch(s){yt(e,e.return,s)}}var Un=!1,Ht=!1,zh=!1,wy=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Vw(e,t){if(e=e.containerInfo,Zf=Uu,e=wv(e),Xd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break t}var a=0,l=-1,u=-1,h=0,d=0,p=e,m=null;e:for(;;){for(var v;p!==n||r!==0&&p.nodeType!==3||(l=a+r),p!==s||i!==0&&p.nodeType!==3||(u=a+i),p.nodeType===3&&(a+=p.nodeValue.length),(v=p.firstChild)!==null;)m=p,p=v;for(;;){if(p===e)break e;if(m===n&&++h===r&&(l=a),m===s&&++d===i&&(u=a),(v=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=v}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(td={focusedElem:e,selectionRange:n},Uu=!1,ne=t;ne!==null;)if(t=ne,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ne=e;else for(;ne!==null;){switch(t=ne,s=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)r=e[n],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,n=t,r=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var N=Rr(n.type,r);e=i.getSnapshotBeforeUpdate(N,s),i.__reactInternalSnapshotBeforeUpdate=e}catch(V){yt(n,n.return,V)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)nd(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":nd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(L(163))}if(e=t.sibling,e!==null){e.return=t.return,ne=e;break}ne=t.return}}function z1(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:On(e,n),i&4&&Bo(5,n);break;case 1:if(On(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(a){yt(n,n.return,a)}else{var r=Rr(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){yt(n,n.return,a)}}i&64&&V1(n),i&512&&$a(n,n.return);break;case 3:if(On(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Hv(e,t)}catch(a){yt(n,n.return,a)}}break;case 27:t===null&&i&4&&P1(n);case 26:case 5:On(e,n),t===null&&i&4&&L1(n),i&512&&$a(n,n.return);break;case 12:On(e,n);break;case 31:On(e,n),i&4&&q1(e,n);break;case 13:On(e,n),i&4&&H1(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Hw.bind(null,n),uR(e,n))));break;case 22:if(i=n.memoizedState!==null||Un,!i){t=t!==null&&t.memoizedState!==null||Ht,r=Un;var s=Ht;Un=i,(Ht=t)&&!s?Mn(e,n,(n.subtreeFlags&8772)!==0):On(e,n),Un=r,Ht=s}break;case 30:break;default:On(e,n)}}function j1(e){var t=e.alternate;t!==null&&(e.alternate=null,j1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Hd(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Nt=null,Re=!1;function Nn(e,t,n){for(n=n.child;n!==null;)B1(e,t,n),n=n.sibling}function B1(e,t,n){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(Vo,n)}catch{}switch(n.tag){case 26:Ht||_n(n,t),Nn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ht||_n(n,t);var i=Nt,r=Re;Ji(n.type)&&(Nt=n.stateNode,Re=!1),Nn(e,t,n),to(n.stateNode),Nt=i,Re=r;break;case 5:Ht||_n(n,t);case 6:if(i=Nt,r=Re,Nt=null,Nn(e,t,n),Nt=i,Re=r,Nt!==null)if(Re)try{(Nt.nodeType===9?Nt.body:Nt.nodeName==="HTML"?Nt.ownerDocument.body:Nt).removeChild(n.stateNode)}catch(s){yt(n,t,s)}else try{Nt.removeChild(n.stateNode)}catch(s){yt(n,t,s)}break;case 18:Nt!==null&&(Re?(e=Nt,Py(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Ls(e)):Py(Nt,n.stateNode));break;case 4:i=Nt,r=Re,Nt=n.stateNode.containerInfo,Re=!0,Nn(e,t,n),Nt=i,Re=r;break;case 0:case 11:case 14:case 15:Hi(2,n,t),Ht||Hi(4,n,t),Nn(e,t,n);break;case 1:Ht||(_n(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&U1(n,t,i)),Nn(e,t,n);break;case 21:Nn(e,t,n);break;case 22:Ht=(i=Ht)||n.memoizedState!==null,Nn(e,t,n),Ht=i;break;default:Nn(e,t,n)}}function q1(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ls(e)}catch(n){yt(t,t.return,n)}}}function H1(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ls(e)}catch(n){yt(t,t.return,n)}}function Uw(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new wy),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new wy),t;default:throw Error(L(435,e.tag))}}function wl(e,t){var n=Uw(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var r=Fw.bind(null,e,i);i.then(r,r)}})}function be(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],s=e,a=t,l=a;t:for(;l!==null;){switch(l.tag){case 27:if(Ji(l.type)){Nt=l.stateNode,Re=!1;break t}break;case 5:Nt=l.stateNode,Re=!1;break t;case 3:case 4:Nt=l.stateNode.containerInfo,Re=!0;break t}l=l.return}if(Nt===null)throw Error(L(160));B1(s,a,r),Nt=null,Re=!1,s=r.alternate,s!==null&&(s.return=null),r.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)F1(t,e),t=t.sibling}var an=null;function F1(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:be(t,e),we(e),i&4&&(Hi(3,e,e.return),Bo(3,e),Hi(5,e,e.return));break;case 1:be(t,e),we(e),i&512&&(Ht||n===null||_n(n,n.return)),i&64&&Un&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=an;if(be(t,e),we(e),i&512&&(Ht||n===null||_n(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){t:{i=e.type,n=e.memoizedProps,r=r.ownerDocument||r;e:switch(i){case"title":s=r.getElementsByTagName("title")[0],(!s||s[ko]||s[oe]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=r.createElement(i),r.head.insertBefore(s,r.querySelector("head > title"))),he(s,i,n),s[oe]=e,ie(s),i=s;break t;case"link":var a=Gy("link","href",r).get(i+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(s=a[l],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break e}}s=r.createElement(i),he(s,i,n),r.head.appendChild(s);break;case"meta":if(a=Gy("meta","content",r).get(i+(n.content||""))){for(l=0;l<a.length;l++)if(s=a[l],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break e}}s=r.createElement(i),he(s,i,n),r.head.appendChild(s);break;default:throw Error(L(468,i))}s[oe]=e,ie(s),i=s}e.stateNode=i}else Qy(r,e.type,e.stateNode);else e.stateNode=Fy(r,i,e.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?Qy(r,e.type,e.stateNode):Fy(r,i,e.memoizedProps)):i===null&&e.stateNode!==null&&kh(e,e.memoizedProps,n.memoizedProps)}break;case 27:be(t,e),we(e),i&512&&(Ht||n===null||_n(n,n.return)),n!==null&&i&4&&kh(e,e.memoizedProps,n.memoizedProps);break;case 5:if(be(t,e),we(e),i&512&&(Ht||n===null||_n(n,n.return)),e.flags&32){r=e.stateNode;try{Cs(r,"")}catch(N){yt(e,e.return,N)}}i&4&&e.stateNode!=null&&(r=e.memoizedProps,kh(e,r,n!==null?n.memoizedProps:r)),i&1024&&(zh=!0);break;case 6:if(be(t,e),we(e),i&4){if(e.stateNode===null)throw Error(L(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(N){yt(e,e.return,N)}}break;case 3:if(Kl=null,r=an,an=Ou(t.containerInfo),be(t,e),an=r,we(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Ls(t.containerInfo)}catch(N){yt(e,e.return,N)}zh&&(zh=!1,G1(e));break;case 4:i=an,an=Ou(e.stateNode.containerInfo),be(t,e),we(e),an=i;break;case 12:be(t,e),we(e);break;case 31:be(t,e),we(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,wl(e,i)));break;case 13:be(t,e),we(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(gc=je()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,wl(e,i)));break;case 22:r=e.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,h=Un,d=Ht;if(Un=h||r,Ht=d||u,be(t,e),Ht=d,Un=h,we(e),i&8192)t:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||u||Un||Ht||cr(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){u=n=t;try{if(s=u.stateNode,r)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=u.stateNode;var p=u.memoizedProps.style,m=p!=null&&p.hasOwnProperty("display")?p.display:null;l.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(N){yt(u,u.return,N)}}}else if(t.tag===6){if(n===null){u=t;try{u.stateNode.nodeValue=r?"":u.memoizedProps}catch(N){yt(u,u.return,N)}}}else if(t.tag===18){if(n===null){u=t;try{var v=u.stateNode;r?zy(v,!0):zy(u.stateNode,!1)}catch(N){yt(u,u.return,N)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,wl(e,n))));break;case 19:be(t,e),we(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,wl(e,i)));break;case 30:break;case 21:break;default:be(t,e),we(e)}}function we(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(k1(i)){n=i;break}i=i.return}if(n==null)throw Error(L(160));switch(n.tag){case 27:var r=n.stateNode,s=Ph(e);bu(e,s,r);break;case 5:var a=n.stateNode;n.flags&32&&(Cs(a,""),n.flags&=-33);var l=Ph(e);bu(e,l,a);break;case 3:case 4:var u=n.stateNode.containerInfo,h=Ph(e);Qf(e,h,u);break;default:throw Error(L(161))}}catch(d){yt(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function G1(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;G1(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function On(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)z1(e,t.alternate,t),t=t.sibling}function cr(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Hi(4,t,t.return),cr(t);break;case 1:_n(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&U1(t,t.return,n),cr(t);break;case 27:to(t.stateNode);case 26:case 5:_n(t,t.return),cr(t);break;case 22:t.memoizedState===null&&cr(t);break;case 30:cr(t);break;default:cr(t)}e=e.sibling}}function Mn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,r=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:Mn(r,s,n),Bo(4,s);break;case 1:if(Mn(r,s,n),i=s,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(h){yt(i,i.return,h)}if(i=s,r=i.updateQueue,r!==null){var l=i.stateNode;try{var u=r.shared.hiddenCallbacks;if(u!==null)for(r.shared.hiddenCallbacks=null,r=0;r<u.length;r++)qv(u[r],l)}catch(h){yt(i,i.return,h)}}n&&a&64&&V1(s),$a(s,s.return);break;case 27:P1(s);case 26:case 5:Mn(r,s,n),n&&i===null&&a&4&&L1(s),$a(s,s.return);break;case 12:Mn(r,s,n);break;case 31:Mn(r,s,n),n&&a&4&&q1(r,s);break;case 13:Mn(r,s,n),n&&a&4&&H1(r,s);break;case 22:s.memoizedState===null&&Mn(r,s,n),$a(s,s.return);break;case 30:break;default:Mn(r,s,n)}t=t.sibling}}function Tm(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&zo(n))}function Sm(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&zo(e))}function sn(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Q1(e,t,n,i),t=t.sibling}function Q1(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:sn(e,t,n,i),r&2048&&Bo(9,t);break;case 1:sn(e,t,n,i);break;case 3:sn(e,t,n,i),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&zo(e)));break;case 12:if(r&2048){sn(e,t,n,i),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,l=s.onPostCommit;typeof l=="function"&&l(a,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(u){yt(t,t.return,u)}}else sn(e,t,n,i);break;case 31:sn(e,t,n,i);break;case 13:sn(e,t,n,i);break;case 23:break;case 22:s=t.stateNode,a=t.alternate,t.memoizedState!==null?s._visibility&2?sn(e,t,n,i):Wa(e,t):s._visibility&2?sn(e,t,n,i):(s._visibility|=2,Xr(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),r&2048&&Tm(a,t);break;case 24:sn(e,t,n,i),r&2048&&Sm(t.alternate,t);break;default:sn(e,t,n,i)}}function Xr(e,t,n,i,r){for(r=r&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,a=t,l=n,u=i,h=a.flags;switch(a.tag){case 0:case 11:case 15:Xr(s,a,l,u,r),Bo(8,a);break;case 23:break;case 22:var d=a.stateNode;a.memoizedState!==null?d._visibility&2?Xr(s,a,l,u,r):Wa(s,a):(d._visibility|=2,Xr(s,a,l,u,r)),r&&h&2048&&Tm(a.alternate,a);break;case 24:Xr(s,a,l,u,r),r&&h&2048&&Sm(a.alternate,a);break;default:Xr(s,a,l,u,r)}t=t.sibling}}function Wa(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:Wa(n,i),r&2048&&Tm(i.alternate,i);break;case 24:Wa(n,i),r&2048&&Sm(i.alternate,i);break;default:Wa(n,i)}t=t.sibling}}var Ua=8192;function Yr(e,t,n){if(e.subtreeFlags&Ua)for(e=e.child;e!==null;)Y1(e,t,n),e=e.sibling}function Y1(e,t,n){switch(e.tag){case 26:Yr(e,t,n),e.flags&Ua&&e.memoizedState!==null&&TR(n,an,e.memoizedState,e.memoizedProps);break;case 5:Yr(e,t,n);break;case 3:case 4:var i=an;an=Ou(e.stateNode.containerInfo),Yr(e,t,n),an=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Ua,Ua=16777216,Yr(e,t,n),Ua=i):Yr(e,t,n));break;default:Yr(e,t,n)}}function K1(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ca(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];ne=i,$1(i,e)}K1(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)X1(e),e=e.sibling}function X1(e){switch(e.tag){case 0:case 11:case 15:Ca(e),e.flags&2048&&Hi(9,e,e.return);break;case 3:Ca(e);break;case 12:Ca(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ql(e)):Ca(e);break;default:Ca(e)}}function Ql(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];ne=i,$1(i,e)}K1(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Hi(8,t,t.return),Ql(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Ql(t));break;default:Ql(t)}e=e.sibling}}function $1(e,t){for(;ne!==null;){var n=ne;switch(n.tag){case 0:case 11:case 15:Hi(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:zo(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,ne=i;else t:for(n=e;ne!==null;){i=ne;var r=i.sibling,s=i.return;if(j1(i),i===n){ne=null;break t}if(r!==null){r.return=s,ne=r;break t}ne=s}}}var Lw={getCacheForType:function(e){var t=ce(Ft),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return ce(Ft).controller.signal}},kw=typeof WeakMap=="function"?WeakMap:Map,ft=0,St=null,st=null,ut=0,gt=0,Ue=null,Ai=!1,$s=!1,Am=!1,$n=0,kt=0,Fi=0,_r=0,bm=0,Pe=0,Os=0,Ja=null,Ie=null,Yf=!1,gc=0,W1=0,wu=1/0,Ru=null,Ni=null,Wt=0,Oi=null,Ms=null,Fn=0,Kf=0,Xf=null,J1=null,Za=0,$f=null;function He(){return ft&2&&ut!==0?ut&-ut:K.T!==null?Rm():ov()}function Z1(){if(Pe===0)if(!(ut&536870912)||ct){var e=yl;yl<<=1,!(yl&3932160)&&(yl=262144),Pe=e}else Pe=536870912;return e=Ge.current,e!==null&&(e.flags|=32),Pe}function xe(e,t,n){(e===St&&(gt===2||gt===9)||e.cancelPendingCommit!==null)&&(Vs(e,0),bi(e,ut,Pe,!1)),Lo(e,n),(!(ft&2)||e!==St)&&(e===St&&(!(ft&2)&&(_r|=n),kt===4&&bi(e,ut,Pe,!1)),In(e))}function tE(e,t,n){if(ft&6)throw Error(L(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Uo(e,t),r=i?jw(e,t):jh(e,t,!0),s=i;do{if(r===0){$s&&!i&&bi(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!Pw(n)){r=jh(e,t,!1),s=!1;continue}if(r===2){if(s=t,e.errorRecoveryDisabledLanes&s)var a=0;else a=e.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){t=a;t:{var l=e;r=Ja;var u=l.current.memoizedState.isDehydrated;if(u&&(Vs(l,a).flags|=256),a=jh(l,a,!1),a!==2){if(Am&&!u){l.errorRecoveryDisabledLanes|=s,_r|=s,r=4;break t}s=Ie,Ie=r,s!==null&&(Ie===null?Ie=s:Ie.push.apply(Ie,s))}r=a}if(s=!1,r!==2)continue}}if(r===1){Vs(e,0),bi(e,t,0,!0);break}t:{switch(i=e,s=r,s){case 0:case 1:throw Error(L(345));case 4:if((t&4194048)!==t)break;case 6:bi(i,t,Pe,!Ai);break t;case 2:Ie=null;break;case 3:case 5:break;default:throw Error(L(329))}if((t&62914560)===t&&(r=gc+300-je(),10<r)){if(bi(i,t,Pe,!Ai),sc(i,0,!0)!==0)break t;Fn=t,i.timeoutHandle=EE(Ry.bind(null,i,n,Ie,Ru,Yf,t,Pe,_r,Os,Ai,s,"Throttled",-0,0),r);break t}Ry(i,n,Ie,Ru,Yf,t,Pe,_r,Os,Ai,s,null,-0,0)}}break}while(1);In(e)}function Ry(e,t,n,i,r,s,a,l,u,h,d,p,m,v){if(e.timeoutHandle=-1,p=t.subtreeFlags,p&8192||(p&16785408)===16785408){p={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pn},Y1(t,s,p);var N=(s&62914560)===s?gc-je():(s&4194048)===s?W1-je():0;if(N=SR(p,N),N!==null){Fn=s,e.cancelPendingCommit=N(Cy.bind(null,e,t,s,n,i,r,a,l,u,d,p,null,m,v)),bi(e,s,a,!h);return}}Cy(e,t,s,n,i,r,a,l,u)}function Pw(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!Fe(s(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function bi(e,t,n,i){t&=~bm,t&=~_r,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var s=31-qe(r),a=1<<s;i[s]=-1,r&=~a}n!==0&&rv(e,n,t)}function yc(){return ft&6?!0:(qo(0,!1),!1)}function wm(){if(st!==null){if(gt===0)var e=st.return;else e=st,zn=Pr=null,cm(e),ys=null,go=0,e=st;for(;e!==null;)M1(e.alternate,e),e=e.return;st=null}}function Vs(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,rR(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Fn=0,wm(),St=e,st=n=qn(e.current,null),ut=t,gt=0,Ue=null,Ai=!1,$s=Uo(e,t),Am=!1,Os=Pe=bm=_r=Fi=kt=0,Ie=Ja=null,Yf=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var r=31-qe(i),s=1<<r;t|=e[r],i&=~s}return $n=t,uc(),n}function eE(e,t){et=null,K.H=_o,t===Xs||t===hc?(t=ry(),gt=3):t===im?(t=ry(),gt=4):gt=t===vm?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ue=t,st===null&&(kt=1,Su(e,Je(t,e.current)))}function nE(){var e=Ge.current;return e===null?!0:(ut&4194048)===ut?en===null:(ut&62914560)===ut||ut&536870912?e===en:!1}function iE(){var e=K.H;return K.H=_o,e===null?_o:e}function rE(){var e=K.A;return K.A=Lw,e}function Iu(){kt=4,Ai||(ut&4194048)!==ut&&Ge.current!==null||($s=!0),!(Fi&134217727)&&!(_r&134217727)||St===null||bi(St,ut,Pe,!1)}function jh(e,t,n){var i=ft;ft|=2;var r=iE(),s=rE();(St!==e||ut!==t)&&(Ru=null,Vs(e,t)),t=!1;var a=kt;t:do try{if(gt!==0&&st!==null){var l=st,u=Ue;switch(gt){case 8:wm(),a=6;break t;case 3:case 2:case 9:case 6:Ge.current===null&&(t=!0);var h=gt;if(gt=0,Ue=null,fs(e,l,u,h),n&&$s){a=0;break t}break;default:h=gt,gt=0,Ue=null,fs(e,l,u,h)}}zw(),a=kt;break}catch(d){eE(e,d)}while(1);return t&&e.shellSuspendCounter++,zn=Pr=null,ft=i,K.H=r,K.A=s,st===null&&(St=null,ut=0,uc()),a}function zw(){for(;st!==null;)sE(st)}function jw(e,t){var n=ft;ft|=2;var i=iE(),r=rE();St!==e||ut!==t?(Ru=null,wu=je()+500,Vs(e,t)):$s=Uo(e,t);t:do try{if(gt!==0&&st!==null){t=st;var s=Ue;e:switch(gt){case 1:gt=0,Ue=null,fs(e,t,s,1);break;case 2:case 9:if(iy(s)){gt=0,Ue=null,Iy(t);break}t=function(){gt!==2&&gt!==9||St!==e||(gt=7),In(e)},s.then(t,t);break t;case 3:gt=7;break t;case 4:gt=5;break t;case 7:iy(s)?(gt=0,Ue=null,Iy(t)):(gt=0,Ue=null,fs(e,t,s,7));break;case 5:var a=null;switch(st.tag){case 26:a=st.memoizedState;case 5:case 27:var l=st;if(a?wE(a):l.stateNode.complete){gt=0,Ue=null;var u=l.sibling;if(u!==null)st=u;else{var h=l.return;h!==null?(st=h,_c(h)):st=null}break e}}gt=0,Ue=null,fs(e,t,s,5);break;case 6:gt=0,Ue=null,fs(e,t,s,6);break;case 8:wm(),kt=6;break t;default:throw Error(L(462))}}Bw();break}catch(d){eE(e,d)}while(1);return zn=Pr=null,K.H=i,K.A=r,ft=n,st!==null?0:(St=null,ut=0,uc(),kt)}function Bw(){for(;st!==null&&!cb();)sE(st)}function sE(e){var t=O1(e.alternate,e,$n);e.memoizedProps=e.pendingProps,t===null?_c(e):st=t}function Iy(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ey(n,t,t.pendingProps,t.type,void 0,ut);break;case 11:t=Ey(n,t,t.pendingProps,t.type.render,t.ref,ut);break;case 5:cm(t);default:M1(n,t),t=st=Mv(t,$n),t=O1(n,t,$n)}e.memoizedProps=e.pendingProps,t===null?_c(e):st=t}function fs(e,t,n,i){zn=Pr=null,cm(t),ys=null,go=0;var r=t.return;try{if(Dw(e,r,t,n,ut)){kt=1,Su(e,Je(n,e.current)),st=null;return}}catch(s){if(r!==null)throw st=r,s;kt=1,Su(e,Je(n,e.current)),st=null;return}t.flags&32768?(ct||i===1?e=!0:$s||ut&536870912?e=!1:(Ai=e=!0,(i===2||i===9||i===3||i===6)&&(i=Ge.current,i!==null&&i.tag===13&&(i.flags|=16384))),aE(t,e)):_c(t)}function _c(e){var t=e;do{if(t.flags&32768){aE(t,Ai);return}e=t.return;var n=Ow(t.alternate,t,$n);if(n!==null){st=n;return}if(t=t.sibling,t!==null){st=t;return}st=t=e}while(t!==null);kt===0&&(kt=5)}function aE(e,t){do{var n=Mw(e.alternate,e);if(n!==null){n.flags&=32767,st=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){st=e;return}st=e=n}while(e!==null);kt=6,st=null}function Cy(e,t,n,i,r,s,a,l,u){e.cancelPendingCommit=null;do vc();while(Wt!==0);if(ft&6)throw Error(L(327));if(t!==null){if(t===e.current)throw Error(L(177));if(s=t.lanes|t.childLanes,s|=$d,Eb(e,n,s,a,l,u),e===St&&(st=St=null,ut=0),Ms=t,Oi=e,Fn=n,Kf=s,Xf=r,J1=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,Gw(hu,function(){return hE(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=K.T,K.T=null,r=dt.p,dt.p=2,a=ft,ft|=4;try{Vw(e,t,n)}finally{ft=a,dt.p=r,K.T=i}}Wt=1,oE(),lE(),uE()}}function oE(){if(Wt===1){Wt=0;var e=Oi,t=Ms,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=K.T,K.T=null;var i=dt.p;dt.p=2;var r=ft;ft|=4;try{F1(t,e);var s=td,a=wv(e.containerInfo),l=s.focusedElem,u=s.selectionRange;if(a!==l&&l&&l.ownerDocument&&bv(l.ownerDocument.documentElement,l)){if(u!==null&&Xd(l)){var h=u.start,d=u.end;if(d===void 0&&(d=h),"selectionStart"in l)l.selectionStart=h,l.selectionEnd=Math.min(d,l.value.length);else{var p=l.ownerDocument||document,m=p&&p.defaultView||window;if(m.getSelection){var v=m.getSelection(),N=l.textContent.length,V=Math.min(u.start,N),M=u.end===void 0?V:Math.min(u.end,N);!v.extend&&V>M&&(a=M,M=V,V=a);var A=$g(l,V),y=$g(l,M);if(A&&y&&(v.rangeCount!==1||v.anchorNode!==A.node||v.anchorOffset!==A.offset||v.focusNode!==y.node||v.focusOffset!==y.offset)){var R=p.createRange();R.setStart(A.node,A.offset),v.removeAllRanges(),V>M?(v.addRange(R),v.extend(y.node,y.offset)):(R.setEnd(y.node,y.offset),v.addRange(R))}}}}for(p=[],v=l;v=v.parentNode;)v.nodeType===1&&p.push({element:v,left:v.scrollLeft,top:v.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<p.length;l++){var D=p[l];D.element.scrollLeft=D.left,D.element.scrollTop=D.top}}Uu=!!Zf,td=Zf=null}finally{ft=r,dt.p=i,K.T=n}}e.current=t,Wt=2}}function lE(){if(Wt===2){Wt=0;var e=Oi,t=Ms,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=K.T,K.T=null;var i=dt.p;dt.p=2;var r=ft;ft|=4;try{z1(e,t.alternate,t)}finally{ft=r,dt.p=i,K.T=n}}Wt=3}}function uE(){if(Wt===4||Wt===3){Wt=0,hb();var e=Oi,t=Ms,n=Fn,i=J1;t.subtreeFlags&10256||t.flags&10256?Wt=5:(Wt=0,Ms=Oi=null,cE(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(Ni=null),qd(n),t=t.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(Vo,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=K.T,r=dt.p,dt.p=2,K.T=null;try{for(var s=e.onRecoverableError,a=0;a<i.length;a++){var l=i[a];s(l.value,{componentStack:l.stack})}}finally{K.T=t,dt.p=r}}Fn&3&&vc(),In(e),r=e.pendingLanes,n&261930&&r&42?e===$f?Za++:(Za=0,$f=e):Za=0,qo(0,!1)}}function cE(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,zo(t)))}function vc(){return oE(),lE(),uE(),hE()}function hE(){if(Wt!==5)return!1;var e=Oi,t=Kf;Kf=0;var n=qd(Fn),i=K.T,r=dt.p;try{dt.p=32>n?32:n,K.T=null,n=Xf,Xf=null;var s=Oi,a=Fn;if(Wt=0,Ms=Oi=null,Fn=0,ft&6)throw Error(L(331));var l=ft;if(ft|=4,X1(s.current),Q1(s,s.current,a,n),ft=l,qo(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(Vo,s)}catch{}return!0}finally{dt.p=r,K.T=i,cE(e,t)}}function Dy(e,t,n){t=Je(n,t),t=Hf(e.stateNode,t,2),e=xi(e,t,2),e!==null&&(Lo(e,2),In(e))}function yt(e,t,n){if(e.tag===3)Dy(e,e,n);else for(;t!==null;){if(t.tag===3){Dy(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ni===null||!Ni.has(i))){e=Je(n,e),n=R1(2),i=xi(t,n,2),i!==null&&(I1(n,i,t,e),Lo(i,2),In(i));break}}t=t.return}}function Bh(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new kw;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(Am=!0,r.add(n),e=qw.bind(null,e,t,n),t.then(e,e))}function qw(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,St===e&&(ut&n)===n&&(kt===4||kt===3&&(ut&62914560)===ut&&300>je()-gc?!(ft&2)&&Vs(e,0):bm|=n,Os===ut&&(Os=0)),In(e)}function fE(e,t){t===0&&(t=iv()),e=kr(e,t),e!==null&&(Lo(e,t),In(e))}function Hw(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),fE(e,n)}function Fw(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(L(314))}i!==null&&i.delete(t),fE(e,n)}function Gw(e,t){return jd(e,t)}var Cu=null,$r=null,Wf=!1,Du=!1,qh=!1,wi=0;function In(e){e!==$r&&e.next===null&&($r===null?Cu=$r=e:$r=$r.next=e),Du=!0,Wf||(Wf=!0,Yw())}function qo(e,t){if(!qh&&Du){qh=!0;do for(var n=!1,i=Cu;i!==null;){if(!t)if(e!==0){var r=i.pendingLanes;if(r===0)var s=0;else{var a=i.suspendedLanes,l=i.pingedLanes;s=(1<<31-qe(42|e)+1)-1,s&=r&~(a&~l),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,xy(i,s))}else s=ut,s=sc(i,i===St?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(s&3)||Uo(i,s)||(n=!0,xy(i,s));i=i.next}while(n);qh=!1}}function Qw(){dE()}function dE(){Du=Wf=!1;var e=0;wi!==0&&iR()&&(e=wi);for(var t=je(),n=null,i=Cu;i!==null;){var r=i.next,s=mE(i,t);s===0?(i.next=null,n===null?Cu=r:n.next=r,r===null&&($r=n)):(n=i,(e!==0||s&3)&&(Du=!0)),i=r}Wt!==0&&Wt!==5||qo(e,!1),wi!==0&&(wi=0)}function mE(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var a=31-qe(s),l=1<<a,u=r[a];u===-1?(!(l&n)||l&i)&&(r[a]=vb(l,t)):u<=t&&(e.expiredLanes|=l),s&=~l}if(t=St,n=ut,n=sc(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(gt===2||gt===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&gh(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Uo(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&gh(i),qd(n)){case 2:case 8:n=ev;break;case 32:n=hu;break;case 268435456:n=nv;break;default:n=hu}return i=pE.bind(null,e),n=jd(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&gh(i),e.callbackPriority=2,e.callbackNode=null,2}function pE(e,t){if(Wt!==0&&Wt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(vc()&&e.callbackNode!==n)return null;var i=ut;return i=sc(e,e===St?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(tE(e,i,t),mE(e,je()),e.callbackNode!=null&&e.callbackNode===n?pE.bind(null,e):null)}function xy(e,t){if(vc())return null;tE(e,t,!0)}function Yw(){sR(function(){ft&6?jd(tv,Qw):dE()})}function Rm(){if(wi===0){var e=Ds;e===0&&(e=gl,gl<<=1,!(gl&261888)&&(gl=256)),wi=e}return wi}function Ny(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:kl(""+e)}function Oy(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Kw(e,t,n,i,r){if(t==="submit"&&n&&n.stateNode===r){var s=Ny((r[Oe]||null).action),a=i.submitter;a&&(t=(t=a[Oe]||null)?Ny(t.formAction):a.getAttribute("formAction"),t!==null&&(s=t,a=null));var l=new ac("action","action",null,i,r);e.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(wi!==0){var u=a?Oy(r,a):new FormData(r);Bf(n,{pending:!0,data:u,method:r.method,action:s},null,u)}}else typeof s=="function"&&(l.preventDefault(),u=a?Oy(r,a):new FormData(r),Bf(n,{pending:!0,data:u,method:r.method,action:s},s,u))},currentTarget:r}]})}}for(var Hh=0;Hh<Df.length;Hh++){var Fh=Df[Hh],Xw=Fh.toLowerCase(),$w=Fh[0].toUpperCase()+Fh.slice(1);fn(Xw,"on"+$w)}fn(Iv,"onAnimationEnd");fn(Cv,"onAnimationIteration");fn(Dv,"onAnimationStart");fn("dblclick","onDoubleClick");fn("focusin","onFocus");fn("focusout","onBlur");fn(fw,"onTransitionRun");fn(dw,"onTransitionStart");fn(mw,"onTransitionCancel");fn(xv,"onTransitionEnd");Is("onMouseEnter",["mouseout","mouseover"]);Is("onMouseLeave",["mouseout","mouseover"]);Is("onPointerEnter",["pointerout","pointerover"]);Is("onPointerLeave",["pointerout","pointerover"]);Vr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ww=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vo));function gE(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;t:{var s=void 0;if(t)for(var a=i.length-1;0<=a;a--){var l=i[a],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==s&&r.isPropagationStopped())break t;s=l,r.currentTarget=h;try{s(r)}catch(d){du(d)}r.currentTarget=null,s=u}else for(a=0;a<i.length;a++){if(l=i[a],u=l.instance,h=l.currentTarget,l=l.listener,u!==s&&r.isPropagationStopped())break t;s=l,r.currentTarget=h;try{s(r)}catch(d){du(d)}r.currentTarget=null,s=u}}}}function rt(e,t){var n=t[Tf];n===void 0&&(n=t[Tf]=new Set);var i=e+"__bubble";n.has(i)||(yE(t,e,2,!1),n.add(i))}function Gh(e,t,n){var i=0;t&&(i|=4),yE(n,e,i,t)}var Rl="_reactListening"+Math.random().toString(36).slice(2);function Im(e){if(!e[Rl]){e[Rl]=!0,lv.forEach(function(n){n!=="selectionchange"&&(Ww.has(n)||Gh(n,!1,e),Gh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Rl]||(t[Rl]=!0,Gh("selectionchange",!1,t))}}function yE(e,t,n,i){switch(xE(t)){case 2:var r=wR;break;case 8:r=RR;break;default:r=Nm}n=r.bind(null,t,n,e),r=void 0,!Rf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Qh(e,t,n,i,r){var s=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===r)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===r)return;a=a.return}for(;l!==null;){if(a=is(l),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){i=s=a;continue t}l=l.parentNode}}i=i.return}gv(function(){var h=s,d=Gd(n),p=[];t:{var m=Nv.get(e);if(m!==void 0){var v=ac,N=e;switch(e){case"keypress":if(zl(n)===0)break t;case"keydown":case"keyup":v=Fb;break;case"focusin":N="focus",v=Th;break;case"focusout":N="blur",v=Th;break;case"beforeblur":case"afterblur":v=Th;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=jg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Ob;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Yb;break;case Iv:case Cv:case Dv:v=Ub;break;case xv:v=Xb;break;case"scroll":case"scrollend":v=xb;break;case"wheel":v=Wb;break;case"copy":case"cut":case"paste":v=kb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=qg;break;case"toggle":case"beforetoggle":v=Zb}var V=(t&4)!==0,M=!V&&(e==="scroll"||e==="scrollend"),A=V?m!==null?m+"Capture":null:m;V=[];for(var y=h,R;y!==null;){var D=y;if(R=D.stateNode,D=D.tag,D!==5&&D!==26&&D!==27||R===null||A===null||(D=co(y,A),D!=null&&V.push(Eo(y,D,R))),M)break;y=y.return}0<V.length&&(m=new v(m,N,null,n,d),p.push({event:m,listeners:V}))}}if(!(t&7)){t:{if(m=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",m&&n!==wf&&(N=n.relatedTarget||n.fromElement)&&(is(N)||N[Qs]))break t;if((v||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,v?(N=n.relatedTarget||n.toElement,v=h,N=N?is(N):null,N!==null&&(M=Mo(N),V=N.tag,N!==M||V!==5&&V!==27&&V!==6)&&(N=null)):(v=null,N=h),v!==N)){if(V=jg,D="onMouseLeave",A="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(V=qg,D="onPointerLeave",A="onPointerEnter",y="pointer"),M=v==null?m:Ma(v),R=N==null?m:Ma(N),m=new V(D,y+"leave",v,n,d),m.target=M,m.relatedTarget=R,D=null,is(d)===h&&(V=new V(A,y+"enter",N,n,d),V.target=R,V.relatedTarget=M,D=V),M=D,v&&N)e:{for(V=Jw,A=v,y=N,R=0,D=A;D;D=V(D))R++;D=0;for(var z=y;z;z=V(z))D++;for(;0<R-D;)A=V(A),R--;for(;0<D-R;)y=V(y),D--;for(;R--;){if(A===y||y!==null&&A===y.alternate){V=A;break e}A=V(A),y=V(y)}V=null}else V=null;v!==null&&My(p,m,v,V,!1),N!==null&&M!==null&&My(p,M,N,V,!0)}}t:{if(m=h?Ma(h):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var B=Qg;else if(Gg(m))if(Sv)B=uw;else{B=ow;var E=aw}else v=m.nodeName,!v||v.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?h&&Fd(h.elementType)&&(B=Qg):B=lw;if(B&&(B=B(e,h))){Tv(p,B,n,d);break t}E&&E(e,m,h),e==="focusout"&&h&&m.type==="number"&&h.memoizedProps.value!=null&&bf(m,"number",m.value)}switch(E=h?Ma(h):window,e){case"focusin":(Gg(E)||E.contentEditable==="true")&&(as=E,If=h,Fa=null);break;case"focusout":Fa=If=as=null;break;case"mousedown":Cf=!0;break;case"contextmenu":case"mouseup":case"dragend":Cf=!1,Wg(p,n,d);break;case"selectionchange":if(hw)break;case"keydown":case"keyup":Wg(p,n,d)}var _;if(Kd)t:{switch(e){case"compositionstart":var T="onCompositionStart";break t;case"compositionend":T="onCompositionEnd";break t;case"compositionupdate":T="onCompositionUpdate";break t}T=void 0}else ss?vv(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(_v&&n.locale!=="ko"&&(ss||T!=="onCompositionStart"?T==="onCompositionEnd"&&ss&&(_=yv()):(Si=d,Qd="value"in Si?Si.value:Si.textContent,ss=!0)),E=xu(h,T),0<E.length&&(T=new Bg(T,e,null,n,d),p.push({event:T,listeners:E}),_?T.data=_:(_=Ev(n),_!==null&&(T.data=_)))),(_=ew?nw(e,n):iw(e,n))&&(T=xu(h,"onBeforeInput"),0<T.length&&(E=new Bg("onBeforeInput","beforeinput",null,n,d),p.push({event:E,listeners:T}),E.data=_)),Kw(p,e,h,n,d)}gE(p,t)})}function Eo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function xu(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,s=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||s===null||(r=co(e,n),r!=null&&i.unshift(Eo(e,r,s)),r=co(e,t),r!=null&&i.push(Eo(e,r,s))),e.tag===3)return i;e=e.return}return[]}function Jw(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function My(e,t,n,i,r){for(var s=t._reactName,a=[];n!==null&&n!==i;){var l=n,u=l.alternate,h=l.stateNode;if(l=l.tag,u!==null&&u===i)break;l!==5&&l!==26&&l!==27||h===null||(u=h,r?(h=co(n,s),h!=null&&a.unshift(Eo(n,h,u))):r||(h=co(n,s),h!=null&&a.push(Eo(n,h,u)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Zw=/\r\n?/g,tR=/\u0000|\uFFFD/g;function Vy(e){return(typeof e=="string"?e:""+e).replace(Zw,`
`).replace(tR,"")}function _E(e,t){return t=Vy(t),Vy(e)===t}function vt(e,t,n,i,r,s){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Cs(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Cs(e,""+i);break;case"className":vl(e,"class",i);break;case"tabIndex":vl(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":vl(e,n,i);break;case"style":pv(e,i,s);break;case"data":if(t!=="object"){vl(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=kl(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&vt(e,t,"name",r.name,r,null),vt(e,t,"formEncType",r.formEncType,r,null),vt(e,t,"formMethod",r.formMethod,r,null),vt(e,t,"formTarget",r.formTarget,r,null)):(vt(e,t,"encType",r.encType,r,null),vt(e,t,"method",r.method,r,null),vt(e,t,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=kl(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Pn);break;case"onScroll":i!=null&&rt("scroll",e);break;case"onScrollEnd":i!=null&&rt("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(L(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(L(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=kl(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":rt("beforetoggle",e),rt("toggle",e),Ll(e,"popover",i);break;case"xlinkActuate":Dn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Dn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Dn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Dn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Dn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Dn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Dn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Dn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Dn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Ll(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Cb.get(n)||n,Ll(e,n,i))}}function Jf(e,t,n,i,r,s){switch(n){case"style":pv(e,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(L(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(L(60));e.innerHTML=n}}break;case"children":typeof i=="string"?Cs(e,i):(typeof i=="number"||typeof i=="bigint")&&Cs(e,""+i);break;case"onScroll":i!=null&&rt("scroll",e);break;case"onScrollEnd":i!=null&&rt("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Pn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!uv.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),s=e[Oe]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,r),typeof i=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,r);break t}n in e?e[n]=i:i===!0?e.setAttribute(n,""):Ll(e,n,i)}}}function he(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",e),rt("load",e);var i=!1,r=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(L(137,t));default:vt(e,t,s,a,n,null)}}r&&vt(e,t,"srcSet",n.srcSet,n,null),i&&vt(e,t,"src",n.src,n,null);return;case"input":rt("invalid",e);var l=s=a=r=null,u=null,h=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":r=d;break;case"type":a=d;break;case"checked":u=d;break;case"defaultChecked":h=d;break;case"value":s=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(L(137,t));break;default:vt(e,t,i,d,n,null)}}fv(e,s,l,u,h,a,r,!1);return;case"select":rt("invalid",e),i=a=s=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":s=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:vt(e,t,r,l,n,null)}t=s,n=a,e.multiple=!!i,t!=null?ms(e,!!i,t,!1):n!=null&&ms(e,!!i,n,!0);return;case"textarea":rt("invalid",e),s=r=i=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":r=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(L(91));break;default:vt(e,t,a,l,n,null)}mv(e,i,r,s);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:vt(e,t,u,i,n,null)}return;case"dialog":rt("beforetoggle",e),rt("toggle",e),rt("cancel",e),rt("close",e);break;case"iframe":case"object":rt("load",e);break;case"video":case"audio":for(i=0;i<vo.length;i++)rt(vo[i],e);break;case"image":rt("error",e),rt("load",e);break;case"details":rt("toggle",e);break;case"embed":case"source":case"link":rt("error",e),rt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&(i=n[h],i!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(L(137,t));default:vt(e,t,h,i,n,null)}return;default:if(Fd(t)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&Jf(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&vt(e,t,l,i,n,null))}function eR(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,a=null,l=null,u=null,h=null,d=null;for(v in n){var p=n[v];if(n.hasOwnProperty(v)&&p!=null)switch(v){case"checked":break;case"value":break;case"defaultValue":u=p;default:i.hasOwnProperty(v)||vt(e,t,v,null,i,p)}}for(var m in i){var v=i[m];if(p=n[m],i.hasOwnProperty(m)&&(v!=null||p!=null))switch(m){case"type":s=v;break;case"name":r=v;break;case"checked":h=v;break;case"defaultChecked":d=v;break;case"value":a=v;break;case"defaultValue":l=v;break;case"children":case"dangerouslySetInnerHTML":if(v!=null)throw Error(L(137,t));break;default:v!==p&&vt(e,t,m,v,i,p)}}Af(e,a,l,u,h,d,s,r);return;case"select":v=a=l=m=null;for(s in n)if(u=n[s],n.hasOwnProperty(s)&&u!=null)switch(s){case"value":break;case"multiple":v=u;default:i.hasOwnProperty(s)||vt(e,t,s,null,i,u)}for(r in i)if(s=i[r],u=n[r],i.hasOwnProperty(r)&&(s!=null||u!=null))switch(r){case"value":m=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:s!==u&&vt(e,t,r,s,i,u)}t=l,n=a,i=v,m!=null?ms(e,!!n,m,!1):!!i!=!!n&&(t!=null?ms(e,!!n,t,!0):ms(e,!!n,n?[]:"",!1));return;case"textarea":v=m=null;for(l in n)if(r=n[l],n.hasOwnProperty(l)&&r!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:vt(e,t,l,null,i,r)}for(a in i)if(r=i[a],s=n[a],i.hasOwnProperty(a)&&(r!=null||s!=null))switch(a){case"value":m=r;break;case"defaultValue":v=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(L(91));break;default:r!==s&&vt(e,t,a,r,i,s)}dv(e,m,v);return;case"option":for(var N in n)if(m=n[N],n.hasOwnProperty(N)&&m!=null&&!i.hasOwnProperty(N))switch(N){case"selected":e.selected=!1;break;default:vt(e,t,N,null,i,m)}for(u in i)if(m=i[u],v=n[u],i.hasOwnProperty(u)&&m!==v&&(m!=null||v!=null))switch(u){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:vt(e,t,u,m,i,v)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var V in n)m=n[V],n.hasOwnProperty(V)&&m!=null&&!i.hasOwnProperty(V)&&vt(e,t,V,null,i,m);for(h in i)if(m=i[h],v=n[h],i.hasOwnProperty(h)&&m!==v&&(m!=null||v!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(L(137,t));break;default:vt(e,t,h,m,i,v)}return;default:if(Fd(t)){for(var M in n)m=n[M],n.hasOwnProperty(M)&&m!==void 0&&!i.hasOwnProperty(M)&&Jf(e,t,M,void 0,i,m);for(d in i)m=i[d],v=n[d],!i.hasOwnProperty(d)||m===v||m===void 0&&v===void 0||Jf(e,t,d,m,i,v);return}}for(var A in n)m=n[A],n.hasOwnProperty(A)&&m!=null&&!i.hasOwnProperty(A)&&vt(e,t,A,null,i,m);for(p in i)m=i[p],v=n[p],!i.hasOwnProperty(p)||m===v||m==null&&v==null||vt(e,t,p,m,i,v)}function Uy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nR(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var r=n[i],s=r.transferSize,a=r.initiatorType,l=r.duration;if(s&&l&&Uy(a)){for(a=0,l=r.responseEnd,i+=1;i<n.length;i++){var u=n[i],h=u.startTime;if(h>l)break;var d=u.transferSize,p=u.initiatorType;d&&Uy(p)&&(u=u.responseEnd,a+=d*(u<l?1:(l-h)/(u-h)))}if(--i,t+=8*(s+a)/(r.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Zf=null,td=null;function Nu(e){return e.nodeType===9?e:e.ownerDocument}function Ly(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vE(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function ed(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Yh=null;function iR(){var e=window.event;return e&&e.type==="popstate"?e===Yh?!1:(Yh=e,!0):(Yh=null,!1)}var EE=typeof setTimeout=="function"?setTimeout:void 0,rR=typeof clearTimeout=="function"?clearTimeout:void 0,ky=typeof Promise=="function"?Promise:void 0,sR=typeof queueMicrotask=="function"?queueMicrotask:typeof ky<"u"?function(e){return ky.resolve(null).then(e).catch(aR)}:EE;function aR(e){setTimeout(function(){throw e})}function Ji(e){return e==="head"}function Py(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(r),Ls(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")to(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,to(n);for(var s=n.firstChild;s;){var a=s.nextSibling,l=s.nodeName;s[ko]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=a}}else n==="body"&&to(e.ownerDocument.body);n=r}while(n);Ls(t)}function zy(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function nd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":nd(n),Hd(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function oR(e,t,n,i){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[ko])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=nn(e.nextSibling),e===null)break}return null}function lR(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=nn(e.nextSibling),e===null))return null;return e}function TE(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=nn(e.nextSibling),e===null))return null;return e}function id(e){return e.data==="$?"||e.data==="$~"}function rd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function uR(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function nn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var sd=null;function jy(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return nn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function By(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function SE(e,t,n){switch(t=Nu(n),e){case"html":if(e=t.documentElement,!e)throw Error(L(452));return e;case"head":if(e=t.head,!e)throw Error(L(453));return e;case"body":if(e=t.body,!e)throw Error(L(454));return e;default:throw Error(L(451))}}function to(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Hd(e)}var rn=new Map,qy=new Set;function Ou(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ei=dt.d;dt.d={f:cR,r:hR,D:fR,C:dR,L:mR,m:pR,X:yR,S:gR,M:_R};function cR(){var e=ei.f(),t=yc();return e||t}function hR(e){var t=Ys(e);t!==null&&t.tag===5&&t.type==="form"?p1(t):ei.r(e)}var Ws=typeof document>"u"?null:document;function AE(e,t,n){var i=Ws;if(i&&typeof t=="string"&&t){var r=We(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),qy.has(r)||(qy.add(r),e={rel:e,crossOrigin:n,href:t},i.querySelector(r)===null&&(t=i.createElement("link"),he(t,"link",e),ie(t),i.head.appendChild(t)))}}function fR(e){ei.D(e),AE("dns-prefetch",e,null)}function dR(e,t){ei.C(e,t),AE("preconnect",e,t)}function mR(e,t,n){ei.L(e,t,n);var i=Ws;if(i&&e&&t){var r='link[rel="preload"][as="'+We(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+We(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+We(n.imageSizes)+'"]')):r+='[href="'+We(e)+'"]';var s=r;switch(t){case"style":s=Us(e);break;case"script":s=Js(e)}rn.has(s)||(e=xt({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),rn.set(s,e),i.querySelector(r)!==null||t==="style"&&i.querySelector(Ho(s))||t==="script"&&i.querySelector(Fo(s))||(t=i.createElement("link"),he(t,"link",e),ie(t),i.head.appendChild(t)))}}function pR(e,t){ei.m(e,t);var n=Ws;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+We(i)+'"][href="'+We(e)+'"]',s=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Js(e)}if(!rn.has(s)&&(e=xt({rel:"modulepreload",href:e},t),rn.set(s,e),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Fo(s)))return}i=n.createElement("link"),he(i,"link",e),ie(i),n.head.appendChild(i)}}}function gR(e,t,n){ei.S(e,t,n);var i=Ws;if(i&&e){var r=ds(i).hoistableStyles,s=Us(e);t=t||"default";var a=r.get(s);if(!a){var l={loading:0,preload:null};if(a=i.querySelector(Ho(s)))l.loading=5;else{e=xt({rel:"stylesheet",href:e,"data-precedence":t},n),(n=rn.get(s))&&Cm(e,n);var u=a=i.createElement("link");ie(u),he(u,"link",e),u._p=new Promise(function(h,d){u.onload=h,u.onerror=d}),u.addEventListener("load",function(){l.loading|=1}),u.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Yl(a,t,i)}a={type:"stylesheet",instance:a,count:1,state:l},r.set(s,a)}}}function yR(e,t){ei.X(e,t);var n=Ws;if(n&&e){var i=ds(n).hoistableScripts,r=Js(e),s=i.get(r);s||(s=n.querySelector(Fo(r)),s||(e=xt({src:e,async:!0},t),(t=rn.get(r))&&Dm(e,t),s=n.createElement("script"),ie(s),he(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function _R(e,t){ei.M(e,t);var n=Ws;if(n&&e){var i=ds(n).hoistableScripts,r=Js(e),s=i.get(r);s||(s=n.querySelector(Fo(r)),s||(e=xt({src:e,async:!0,type:"module"},t),(t=rn.get(r))&&Dm(e,t),s=n.createElement("script"),ie(s),he(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function Hy(e,t,n,i){var r=(r=Ii.current)?Ou(r):null;if(!r)throw Error(L(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Us(n.href),n=ds(r).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Us(n.href);var s=ds(r).hoistableStyles,a=s.get(e);if(a||(r=r.ownerDocument||r,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,a),(s=r.querySelector(Ho(e)))&&!s._p&&(a.instance=s,a.state.loading=5),rn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},rn.set(e,n),s||vR(r,e,n,a.state))),t&&i===null)throw Error(L(528,""));return a}if(t&&i!==null)throw Error(L(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Js(n),n=ds(r).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(L(444,e))}}function Us(e){return'href="'+We(e)+'"'}function Ho(e){return'link[rel="stylesheet"]['+e+"]"}function bE(e){return xt({},e,{"data-precedence":e.precedence,precedence:null})}function vR(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),he(t,"link",n),ie(t),e.head.appendChild(t))}function Js(e){return'[src="'+We(e)+'"]'}function Fo(e){return"script[async]"+e}function Fy(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+We(n.href)+'"]');if(i)return t.instance=i,ie(i),i;var r=xt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),ie(i),he(i,"style",r),Yl(i,n.precedence,e),t.instance=i;case"stylesheet":r=Us(n.href);var s=e.querySelector(Ho(r));if(s)return t.state.loading|=4,t.instance=s,ie(s),s;i=bE(n),(r=rn.get(r))&&Cm(i,r),s=(e.ownerDocument||e).createElement("link"),ie(s);var a=s;return a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),he(s,"link",i),t.state.loading|=4,Yl(s,n.precedence,e),t.instance=s;case"script":return s=Js(n.src),(r=e.querySelector(Fo(s)))?(t.instance=r,ie(r),r):(i=n,(r=rn.get(s))&&(i=xt({},n),Dm(i,r)),e=e.ownerDocument||e,r=e.createElement("script"),ie(r),he(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(L(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,Yl(i,n.precedence,e));return t.instance}function Yl(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,s=r,a=0;a<i.length;a++){var l=i[a];if(l.dataset.precedence===t)s=l;else if(s!==r)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Cm(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Dm(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Kl=null;function Gy(e,t,n){if(Kl===null){var i=new Map,r=Kl=new Map;r.set(n,i)}else r=Kl,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var s=n[r];if(!(s[ko]||s[oe]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(t)||"";a=e+a;var l=i.get(a);l?l.push(s):i.set(a,[s])}}return i}function Qy(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function ER(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function wE(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function TR(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var r=Us(i.href),s=t.querySelector(Ho(r));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Mu.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,ie(s);return}s=t.ownerDocument||t,i=bE(i),(r=rn.get(r))&&Cm(i,r),s=s.createElement("link"),ie(s);var a=s;a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),he(s,"link",i),n.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Mu.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Kh=0;function SR(e,t){return e.stylesheets&&e.count===0&&Xl(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&Xl(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&Kh===0&&(Kh=62500*nR());var r=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Xl(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>Kh?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(r)}}:null}function Mu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Vu=null;function Xl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Vu=new Map,t.forEach(AR,e),Vu=null,Mu.call(e))}function AR(e,t){if(!(t.state.loading&4)){var n=Vu.get(e);if(n)var i=n.get(null);else{n=new Map,Vu.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var a=r[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}r=t.instance,a=r.getAttribute("data-precedence"),s=n.get(a)||i,s===i&&n.set(null,r),n.set(a,r),this.count++,i=Mu.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),s?s.parentNode.insertBefore(r,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var To={$$typeof:kn,Provider:null,Consumer:null,_currentValue:mr,_currentValue2:mr,_threadCount:0};function bR(e,t,n,i,r,s,a,l,u){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yh(0),this.hiddenUpdates=yh(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function RE(e,t,n,i,r,s,a,l,u,h,d,p){return e=new bR(e,t,n,a,u,h,d,p,l),t=1,s===!0&&(t|=24),s=ke(3,null,null,t),e.current=s,s.stateNode=e,t=em(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:t},rm(s),e}function IE(e){return e?(e=us,e):us}function CE(e,t,n,i,r,s){r=IE(r),i.context===null?i.context=r:i.pendingContext=r,i=Di(t),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=xi(e,i,t),n!==null&&(xe(n,e,t),Qa(n,e,t))}function Yy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function xm(e,t){Yy(e,t),(e=e.alternate)&&Yy(e,t)}function DE(e){if(e.tag===13||e.tag===31){var t=kr(e,67108864);t!==null&&xe(t,e,67108864),xm(e,67108864)}}function Ky(e){if(e.tag===13||e.tag===31){var t=He();t=Bd(t);var n=kr(e,t);n!==null&&xe(n,e,t),xm(e,t)}}var Uu=!0;function wR(e,t,n,i){var r=K.T;K.T=null;var s=dt.p;try{dt.p=2,Nm(e,t,n,i)}finally{dt.p=s,K.T=r}}function RR(e,t,n,i){var r=K.T;K.T=null;var s=dt.p;try{dt.p=8,Nm(e,t,n,i)}finally{dt.p=s,K.T=r}}function Nm(e,t,n,i){if(Uu){var r=ad(i);if(r===null)Qh(e,t,i,Lu,n),Xy(e,i);else if(CR(r,e,t,n,i))i.stopPropagation();else if(Xy(e,i),t&4&&-1<IR.indexOf(e)){for(;r!==null;){var s=Ys(r);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=lr(s.pendingLanes);if(a!==0){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var u=1<<31-qe(a);l.entanglements[1]|=u,a&=~u}In(s),!(ft&6)&&(wu=je()+500,qo(0,!1))}}break;case 31:case 13:l=kr(s,2),l!==null&&xe(l,s,2),yc(),xm(s,2)}if(s=ad(i),s===null&&Qh(e,t,i,Lu,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else Qh(e,t,i,null,n)}}function ad(e){return e=Gd(e),Om(e)}var Lu=null;function Om(e){if(Lu=null,e=is(e),e!==null){var t=Mo(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=X0(t),e!==null)return e;e=null}else if(n===31){if(e=$0(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Lu=e,null}function xE(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fb()){case tv:return 2;case ev:return 8;case hu:case db:return 32;case nv:return 268435456;default:return 32}default:return 32}}var od=!1,Mi=null,Vi=null,Ui=null,So=new Map,Ao=new Map,yi=[],IR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xy(e,t){switch(e){case"focusin":case"focusout":Mi=null;break;case"dragenter":case"dragleave":Vi=null;break;case"mouseover":case"mouseout":Ui=null;break;case"pointerover":case"pointerout":So.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ao.delete(t.pointerId)}}function Da(e,t,n,i,r,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},t!==null&&(t=Ys(t),t!==null&&DE(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function CR(e,t,n,i,r){switch(t){case"focusin":return Mi=Da(Mi,e,t,n,i,r),!0;case"dragenter":return Vi=Da(Vi,e,t,n,i,r),!0;case"mouseover":return Ui=Da(Ui,e,t,n,i,r),!0;case"pointerover":var s=r.pointerId;return So.set(s,Da(So.get(s)||null,e,t,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Ao.set(s,Da(Ao.get(s)||null,e,t,n,i,r)),!0}return!1}function NE(e){var t=is(e.target);if(t!==null){var n=Mo(t);if(n!==null){if(t=n.tag,t===13){if(t=X0(n),t!==null){e.blockedOn=t,Mg(e.priority,function(){Ky(n)});return}}else if(t===31){if(t=$0(n),t!==null){e.blockedOn=t,Mg(e.priority,function(){Ky(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $l(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ad(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);wf=i,n.target.dispatchEvent(i),wf=null}else return t=Ys(n),t!==null&&DE(t),e.blockedOn=n,!1;t.shift()}return!0}function $y(e,t,n){$l(e)&&n.delete(t)}function DR(){od=!1,Mi!==null&&$l(Mi)&&(Mi=null),Vi!==null&&$l(Vi)&&(Vi=null),Ui!==null&&$l(Ui)&&(Ui=null),So.forEach($y),Ao.forEach($y)}function Il(e,t){e.blockedOn===t&&(e.blockedOn=null,od||(od=!0,Zt.unstable_scheduleCallback(Zt.unstable_NormalPriority,DR)))}var Cl=null;function Wy(e){Cl!==e&&(Cl=e,Zt.unstable_scheduleCallback(Zt.unstable_NormalPriority,function(){Cl===e&&(Cl=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if(typeof i!="function"){if(Om(i||n)===null)continue;break}var s=Ys(n);s!==null&&(e.splice(t,3),t-=3,Bf(s,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function Ls(e){function t(u){return Il(u,e)}Mi!==null&&Il(Mi,e),Vi!==null&&Il(Vi,e),Ui!==null&&Il(Ui,e),So.forEach(t),Ao.forEach(t);for(var n=0;n<yi.length;n++){var i=yi[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<yi.length&&(n=yi[0],n.blockedOn===null);)NE(n),n.blockedOn===null&&yi.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],s=n[i+1],a=r[Oe]||null;if(typeof s=="function")a||Wy(n);else if(a){var l=null;if(s&&s.hasAttribute("formAction")){if(r=s,a=s[Oe]||null)l=a.formAction;else if(Om(r)!==null)continue}else l=a.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),Wy(n)}}}function OE(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(a){return r=a})},focusReset:"manual",scroll:"manual"})}function t(){r!==null&&(r(),r=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),r!==null&&(r(),r=null)}}}function Mm(e){this._internalRoot=e}Ec.prototype.render=Mm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));var n=t.current,i=He();CE(n,i,e,t,null,null)};Ec.prototype.unmount=Mm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;CE(e.current,2,null,e,null,null),yc(),t[Qs]=null}};function Ec(e){this._internalRoot=e}Ec.prototype.unstable_scheduleHydration=function(e){if(e){var t=ov();e={blockedOn:null,target:e,priority:t};for(var n=0;n<yi.length&&t!==0&&t<yi[n].priority;n++);yi.splice(n,0,e),n===0&&NE(e)}};var Jy=Y0.version;if(Jy!=="19.2.4")throw Error(L(527,Jy,"19.2.4"));dt.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=sb(t),e=e!==null?W0(e):null,e=e===null?null:e.stateNode,e};var xR={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dl.isDisabled&&Dl.supportsFiber)try{Vo=Dl.inject(xR),Be=Dl}catch{}}ic.createRoot=function(e,t){if(!K0(e))throw Error(L(299));var n=!1,i="",r=A1,s=b1,a=w1;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=RE(e,1,!1,null,null,n,i,null,r,s,a,OE),e[Qs]=t.current,Im(e),new Mm(t)};ic.hydrateRoot=function(e,t,n){if(!K0(e))throw Error(L(299));var i=!1,r="",s=A1,a=b1,l=w1,u=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(u=n.formState)),t=RE(e,1,!0,t,n??null,i,r,u,s,a,l,OE),t.context=IE(null),n=t.current,i=He(),i=Bd(i),r=Di(i),r.callback=null,xi(n,r,i),n=i,t.current.lanes=n,Lo(t,n),In(t),e[Qs]=t.current,Im(e),new Ec(t)};ic.version="19.2.4";function ME(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ME)}catch(e){console.error(e)}}ME(),B0.exports=ic;var NR=B0.exports;const OR=N0(NR),MR=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},VR=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=e[n++],a=e[n++],l=e[n++],u=((r&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],a=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return t.join("")},UE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const s=e[r],a=r+1<e.length,l=a?e[r+1]:0,u=r+2<e.length,h=u?e[r+2]:0,d=s>>2,p=(s&3)<<4|l>>4;let m=(l&15)<<2|h>>6,v=h&63;u||(v=64,a||(m=64)),i.push(n[d],n[p],n[m],n[v])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(VE(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):VR(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const s=n[e.charAt(r++)],l=r<e.length?n[e.charAt(r)]:0;++r;const h=r<e.length?n[e.charAt(r)]:64;++r;const p=r<e.length?n[e.charAt(r)]:64;if(++r,s==null||l==null||h==null||p==null)throw new UR;const m=s<<2|l>>4;if(i.push(m),h!==64){const v=l<<4&240|h>>2;if(i.push(v),p!==64){const N=h<<6&192|p;i.push(N)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class UR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LR=function(e){const t=VE(e);return UE.encodeByteArray(t,!0)},ku=function(e){return LR(e).replace(/\./g,"")},LE=function(e){try{return UE.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=()=>kR().__FIREBASE_DEFAULTS__,zR=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},jR=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&LE(e[1]);return t&&JSON.parse(t)},Tc=()=>{try{return MR()||PR()||zR()||jR()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},kE=e=>{var t,n;return(n=(t=Tc())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},BR=e=>{const t=kE(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},PE=()=>{var e;return(e=Tc())==null?void 0:e.config},zE=e=>{var t;return(t=Tc())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function jE(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...e},l="";return[ku(JSON.stringify(n)),ku(JSON.stringify(a)),l].join(".")}const eo={};function FR(){const e={prod:[],emulator:[]};for(const t of Object.keys(eo))eo[t]?e.emulator.push(t):e.prod.push(t);return e}function GR(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let Zy=!1;function BE(e,t){if(typeof window>"u"||typeof document>"u"||!Zs(window.location.host)||eo[e]===t||eo[e]||Zy)return;eo[e]=t;function n(m){return`__firebase__banner__${m}`}const i="__firebase__banner",s=FR().prod.length>0;function a(){const m=document.getElementById(i);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,v){m.setAttribute("width","24"),m.setAttribute("id",v),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function h(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{Zy=!0,a()},m}function d(m,v){m.setAttribute("id",v),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){const m=GR(i),v=n("text"),N=document.getElementById(v)||document.createElement("span"),V=n("learnmore"),M=document.getElementById(V)||document.createElement("a"),A=n("preprendIcon"),y=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const R=m.element;l(R),d(M,V);const D=h();u(y,A),R.append(y,N,M,D),document.body.appendChild(R)}s?(N.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ye())}function YR(){var t;const e=(t=Tc())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XR(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function $R(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WR(){const e=ye();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function JR(){return!YR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZR(){try{return typeof indexedDB=="object"}catch{return!1}}function tI(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;t(((s=r.error)==null?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI="FirebaseError";class ni extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=eI,Object.setPrototypeOf(this,ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Go.prototype.create)}}class Go{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},r=`${this.service}/${t}`,s=this.errors[t],a=s?nI(s,i):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new ni(r,l,i)}}function nI(e,t){return e.replace(iI,(n,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const iI=/\{\$([^}]+)}/g;function rI(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ir(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const s=e[r],a=t[r];if(t_(s)&&t_(a)){if(!Ir(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function t_(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function sI(e,t){const n=new aI(e,t);return n.subscribe.bind(n)}class aI{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let r;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");oI(t,["next","error","complete"])?r=t:r={next:t,error:n,complete:i},r.next===void 0&&(r.next=Xh),r.error===void 0&&(r.error=Xh),r.complete===void 0&&(r.complete=Xh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oI(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Xh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(e){return e&&e._delegate?e._delegate:e}class Cr{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new qR;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(cI(t))try{this.getOrInitializeService({instanceIdentifier:hr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=hr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=hr){return this.instances.has(t)}getOptions(t=hr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);i===l&&a.resolve(r)}return r}onInit(t,n){const i=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(i)??new Set;r.add(t),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&t(s,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:uI(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=hr){return this.component?this.component.multipleInstances?t:hr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uI(e){return e===hr?void 0:e}function cI(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new lI(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(at||(at={}));const fI={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},dI=at.INFO,mI={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},pI=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),r=mI[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Vm{constructor(t){this.name=t,this._logLevel=dI,this._logHandler=pI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in at))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?fI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...t),this._logHandler(this,at.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...t),this._logHandler(this,at.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,at.INFO,...t),this._logHandler(this,at.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,at.WARN,...t),this._logHandler(this,at.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...t),this._logHandler(this,at.ERROR,...t)}}const gI=(e,t)=>t.some(n=>e instanceof n);let e_,n_;function yI(){return e_||(e_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _I(){return n_||(n_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qE=new WeakMap,ld=new WeakMap,HE=new WeakMap,$h=new WeakMap,Um=new WeakMap;function vI(e){const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",a)},s=()=>{n(Li(e.result)),r()},a=()=>{i(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&qE.set(n,e)}).catch(()=>{}),Um.set(t,e),t}function EI(e){if(ld.has(e))return;const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",a),e.removeEventListener("abort",a)},s=()=>{n(),r()},a=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",a),e.addEventListener("abort",a)});ld.set(e,t)}let ud={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return ld.get(e);if(t==="objectStoreNames")return e.objectStoreNames||HE.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Li(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function TI(e){ud=e(ud)}function SI(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Wh(this),t,...n);return HE.set(i,t.sort?t.sort():[t]),Li(i)}:_I().includes(e)?function(...t){return e.apply(Wh(this),t),Li(qE.get(this))}:function(...t){return Li(e.apply(Wh(this),t))}}function AI(e){return typeof e=="function"?SI(e):(e instanceof IDBTransaction&&EI(e),gI(e,yI())?new Proxy(e,ud):e)}function Li(e){if(e instanceof IDBRequest)return vI(e);if($h.has(e))return $h.get(e);const t=AI(e);return t!==e&&($h.set(e,t),Um.set(t,e)),t}const Wh=e=>Um.get(e);function bI(e,t,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(e,t),l=Li(a);return i&&a.addEventListener("upgradeneeded",u=>{i(Li(a.result),u.oldVersion,u.newVersion,Li(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const wI=["get","getKey","getAll","getAllKeys","count"],RI=["put","add","delete","clear"],Jh=new Map;function i_(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Jh.get(t))return Jh.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=RI.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||wI.includes(n)))return;const s=async function(a,...l){const u=this.transaction(a,r?"readwrite":"readonly");let h=u.store;return i&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),r&&u.done]))[0]};return Jh.set(t,s),s}TI(e=>({...e,get:(t,n,i)=>i_(t,n)||e.get(t,n,i),has:(t,n)=>!!i_(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(CI(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function CI(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const cd="@firebase/app",r_="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wn=new Vm("@firebase/app"),DI="@firebase/app-compat",xI="@firebase/analytics-compat",NI="@firebase/analytics",OI="@firebase/app-check-compat",MI="@firebase/app-check",VI="@firebase/auth",UI="@firebase/auth-compat",LI="@firebase/database",kI="@firebase/data-connect",PI="@firebase/database-compat",zI="@firebase/functions",jI="@firebase/functions-compat",BI="@firebase/installations",qI="@firebase/installations-compat",HI="@firebase/messaging",FI="@firebase/messaging-compat",GI="@firebase/performance",QI="@firebase/performance-compat",YI="@firebase/remote-config",KI="@firebase/remote-config-compat",XI="@firebase/storage",$I="@firebase/storage-compat",WI="@firebase/firestore",JI="@firebase/ai",ZI="@firebase/firestore-compat",t2="firebase",e2="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd="[DEFAULT]",n2={[cd]:"fire-core",[DI]:"fire-core-compat",[NI]:"fire-analytics",[xI]:"fire-analytics-compat",[MI]:"fire-app-check",[OI]:"fire-app-check-compat",[VI]:"fire-auth",[UI]:"fire-auth-compat",[LI]:"fire-rtdb",[kI]:"fire-data-connect",[PI]:"fire-rtdb-compat",[zI]:"fire-fn",[jI]:"fire-fn-compat",[BI]:"fire-iid",[qI]:"fire-iid-compat",[HI]:"fire-fcm",[FI]:"fire-fcm-compat",[GI]:"fire-perf",[QI]:"fire-perf-compat",[YI]:"fire-rc",[KI]:"fire-rc-compat",[XI]:"fire-gcs",[$I]:"fire-gcs-compat",[WI]:"fire-fst",[ZI]:"fire-fst-compat",[JI]:"fire-vertex","fire-js":"fire-js",[t2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu=new Map,i2=new Map,fd=new Map;function s_(e,t){try{e.container.addComponent(t)}catch(n){Wn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ks(e){const t=e.name;if(fd.has(t))return Wn.debug(`There were multiple attempts to register component ${t}.`),!1;fd.set(t,e);for(const n of Pu.values())s_(n,e);for(const n of i2.values())s_(n,e);return!0}function Lm(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function on(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ki=new Go("app","Firebase",r2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(t,n,i){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Cr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ki.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta=e2;function FE(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i={name:hd,automaticDataCollectionEnabled:!0,...t},r=i.name;if(typeof r!="string"||!r)throw ki.create("bad-app-name",{appName:String(r)});if(n||(n=PE()),!n)throw ki.create("no-options");const s=Pu.get(r);if(s){if(Ir(n,s.options)&&Ir(i,s.config))return s;throw ki.create("duplicate-app",{appName:r})}const a=new hI(r);for(const u of fd.values())a.addComponent(u);const l=new s2(n,i,a);return Pu.set(r,l),l}function GE(e=hd){const t=Pu.get(e);if(!t&&e===hd&&PE())return FE();if(!t)throw ki.create("no-app",{appName:e});return t}function Pi(e,t,n){let i=n2[e]??e;n&&(i+=`-${n}`);const r=i.match(/\s|\//),s=t.match(/\s|\//);if(r||s){const a=[`Unable to register library "${i}" with version "${t}":`];r&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Wn.warn(a.join(" "));return}ks(new Cr(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2="firebase-heartbeat-database",o2=1,bo="firebase-heartbeat-store";let Zh=null;function QE(){return Zh||(Zh=bI(a2,o2,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(bo)}catch(n){console.warn(n)}}}}).catch(e=>{throw ki.create("idb-open",{originalErrorMessage:e.message})})),Zh}async function l2(e){try{const n=(await QE()).transaction(bo),i=await n.objectStore(bo).get(YE(e));return await n.done,i}catch(t){if(t instanceof ni)Wn.warn(t.message);else{const n=ki.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Wn.warn(n.message)}}}async function a_(e,t){try{const i=(await QE()).transaction(bo,"readwrite");await i.objectStore(bo).put(t,YE(e)),await i.done}catch(n){if(n instanceof ni)Wn.warn(n.message);else{const i=ki.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Wn.warn(i.message)}}}function YE(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=1024,c2=30;class h2{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new d2(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=o_();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>c2){const a=m2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Wn.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=o_(),{heartbeatsToSend:i,unsentEntries:r}=f2(this._heartbeatsCache.heartbeats),s=ku(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Wn.warn(n),""}}}function o_(){return new Date().toISOString().substring(0,10)}function f2(e,t=u2){const n=[];let i=e.slice();for(const r of e){const s=n.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),l_(n)>t){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),l_(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class d2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZR()?tI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await l2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return a_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return a_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function l_(e){return ku(JSON.stringify({version:2,heartbeats:e})).length}function m2(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(e){ks(new Cr("platform-logger",t=>new II(t),"PRIVATE")),ks(new Cr("heartbeat",t=>new h2(t),"PRIVATE")),Pi(cd,r_,e),Pi(cd,r_,"esm2020"),Pi("fire-js","")}p2("");function KE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const g2=KE,XE=new Go("auth","Firebase",KE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu=new Vm("@firebase/auth");function y2(e,...t){zu.logLevel<=at.WARN&&zu.warn(`Auth (${ta}): ${e}`,...t)}function Wl(e,...t){zu.logLevel<=at.ERROR&&zu.error(`Auth (${ta}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(e,...t){throw Pm(e,...t)}function un(e,...t){return Pm(e,...t)}function km(e,t,n){const i={...g2(),[t]:n};return new Go("auth","Firebase",i).create(t,{appName:e.name})}function vr(e){return km(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _2(e,t,n){const i=n;if(!(t instanceof i))throw i.name!==t.constructor.name&&bn(e,"argument-error"),km(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Pm(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return XE.create(e,...t)}function X(e,t,...n){if(!e)throw Pm(t,...n)}function jn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Wl(t),new Error(t)}function Jn(e,t){e||jn(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function v2(){return u_()==="http:"||u_()==="https:"}function u_(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(v2()||XR()||"connection"in navigator)?navigator.onLine:!0}function T2(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(t,n){this.shortDelay=t,this.longDelay=n,Jn(n>t,"Short delay should be less than long delay!"),this.isMobile=QR()||$R()}get(){return E2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(e,t){Jn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],b2=new Yo(3e4,6e4);function jm(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function ea(e,t,n,i,r={}){return WE(e,r,async()=>{let s={},a={};i&&(t==="GET"?a=i:s={body:JSON.stringify(i)});const l=Qo({key:e.config.apiKey,...a}).slice(1),u=await e._getAdditionalHeaders();u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode);const h={method:t,headers:u,...s};return KR()||(h.referrerPolicy="no-referrer"),e.emulatorConfig&&Zs(e.emulatorConfig.host)&&(h.credentials="include"),$E.fetch()(await JE(e,e.config.apiHost,n,l),h)})}async function WE(e,t,n){e._canInitEmulator=!1;const i={...S2,...t};try{const r=new R2(e),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw xl(e,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[u,h]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw xl(e,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw xl(e,"email-already-in-use",a);if(u==="USER_DISABLED")throw xl(e,"user-disabled",a);const d=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw km(e,d,h);bn(e,d)}}catch(r){if(r instanceof ni)throw r;bn(e,"network-request-failed",{message:String(r)})}}async function w2(e,t,n,i,r={}){const s=await ea(e,t,n,i,r);return"mfaPendingCredential"in s&&bn(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function JE(e,t,n,i){const r=`${t}${n}?${i}`,s=e,a=s.config.emulator?zm(e.config,r):`${e.config.apiScheme}://${r}`;return A2.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}class R2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(un(this.auth,"network-request-failed")),b2.get())})}}function xl(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=un(e,t,i);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I2(e,t){return ea(e,"POST","/v1/accounts:delete",t)}async function ju(e,t){return ea(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function C2(e,t=!1){const n=Xt(e),i=await n.getIdToken(t),r=Bm(i);X(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:no(tf(r.auth_time)),issuedAtTime:no(tf(r.iat)),expirationTime:no(tf(r.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function tf(e){return Number(e)*1e3}function Bm(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return Wl("JWT malformed, contained fewer than 3 sections"),null;try{const r=LE(n);return r?JSON.parse(r):(Wl("Failed to decode base64 JWT payload"),null)}catch(r){return Wl("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function c_(e){const t=Bm(e);return X(t,"internal-error"),X(typeof t.exp<"u","internal-error"),X(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof ni&&D2(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function D2({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=no(this.lastLoginAt),this.creationTime=no(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bu(e){var p;const t=e.auth,n=await e.getIdToken(),i=await wo(e,ju(t,{idToken:n}));X(i==null?void 0:i.users.length,t,"internal-error");const r=i.users[0];e._notifyReloadListener(r);const s=(p=r.providerUserInfo)!=null&&p.length?ZE(r.providerUserInfo):[],a=O2(e.providerData,s),l=e.isAnonymous,u=!(e.email&&r.passwordHash)&&!(a!=null&&a.length),h=l?u:!1,d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new md(r.createdAt,r.lastLoginAt),isAnonymous:h};Object.assign(e,d)}async function N2(e){const t=Xt(e);await Bu(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function O2(e,t){return[...e.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function ZE(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M2(e,t){const n=await WE(e,{},async()=>{const i=Qo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,a=await JE(e,r,"/v1/token",`key=${s}`),l=await e._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:i};return e.emulatorConfig&&Zs(e.emulatorConfig.host)&&(u.credentials="include"),$E.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function V2(e,t){return ea(e,"POST","/v2/accounts:revokeToken",jm(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){X(t.idToken,"internal-error"),X(typeof t.idToken<"u","internal-error"),X(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):c_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){X(t.length!==0,"internal-error");const n=c_(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(X(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await M2(t,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,a=new Es;return i&&(X(typeof i=="string","internal-error",{appName:t}),a.refreshToken=i),r&&(X(typeof r=="string","internal-error",{appName:t}),a.accessToken=r),s&&(X(typeof s=="number","internal-error",{appName:t}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Es,this.toJSON())}_performRefresh(){return jn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(e,t){X(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class ln{constructor({uid:t,auth:n,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new x2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new md(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const n=await wo(this,this.stsTokenManager.getToken(this.auth,t));return X(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return C2(this,t)}reload(){return N2(this)}_assign(t){this!==t&&(X(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ln({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await Bu(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(on(this.auth.app))return Promise.reject(vr(this.auth));const t=await this.getIdToken();return await wo(this,I2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const i=n.displayName??void 0,r=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,u=n._redirectEventId??void 0,h=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:p,emailVerified:m,isAnonymous:v,providerData:N,stsTokenManager:V}=n;X(p&&V,t,"internal-error");const M=Es.fromJSON(this.name,V);X(typeof p=="string",t,"internal-error"),ci(i,t.name),ci(r,t.name),X(typeof m=="boolean",t,"internal-error"),X(typeof v=="boolean",t,"internal-error"),ci(s,t.name),ci(a,t.name),ci(l,t.name),ci(u,t.name),ci(h,t.name),ci(d,t.name);const A=new ln({uid:p,auth:t,email:r,emailVerified:m,displayName:i,isAnonymous:v,photoURL:a,phoneNumber:s,tenantId:l,stsTokenManager:M,createdAt:h,lastLoginAt:d});return N&&Array.isArray(N)&&(A.providerData=N.map(y=>({...y}))),u&&(A._redirectEventId=u),A}static async _fromIdTokenResponse(t,n,i=!1){const r=new Es;r.updateFromServerResponse(n);const s=new ln({uid:n.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await Bu(s),s}static async _fromGetAccountInfoResponse(t,n,i){const r=n.users[0];X(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?ZE(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),l=new Es;l.updateFromIdToken(i);const u=new ln({uid:r.localId,auth:t,stsTokenManager:l,isAnonymous:a}),h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new md(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_=new Map;function Bn(e){Jn(e instanceof Function,"Expected a class definition");let t=h_.get(e);return t?(Jn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,h_.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}tT.type="NONE";const f_=tT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(e,t,n){return`firebase:${e}:${t}:${n}`}class Ts{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Jl(this.userKey,r.apiKey,s),this.fullPersistenceKey=Jl("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await ju(this.auth,{idToken:t}).catch(()=>{});return n?ln._fromGetAccountInfoResponse(this.auth,n,t):null}return ln._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new Ts(Bn(f_),t,i);const r=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=r[0]||Bn(f_);const a=Jl(i,t.config.apiKey,t.name);let l=null;for(const h of n)try{const d=await h._get(a);if(d){let p;if(typeof d=="string"){const m=await ju(t,{idToken:d}).catch(()=>{});if(!m)break;p=await ln._fromGetAccountInfoResponse(t,m,d)}else p=ln._fromJSON(t,d);h!==s&&(l=p),s=h;break}}catch{}const u=r.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Ts(s,t,i):(s=u[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(a)}catch{}})),new Ts(s,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d_(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(rT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(eT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(aT(t))return"Blackberry";if(oT(t))return"Webos";if(nT(t))return"Safari";if((t.includes("chrome/")||iT(t))&&!t.includes("edge/"))return"Chrome";if(sT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function eT(e=ye()){return/firefox\//i.test(e)}function nT(e=ye()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function iT(e=ye()){return/crios\//i.test(e)}function rT(e=ye()){return/iemobile/i.test(e)}function sT(e=ye()){return/android/i.test(e)}function aT(e=ye()){return/blackberry/i.test(e)}function oT(e=ye()){return/webos/i.test(e)}function qm(e=ye()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function U2(e=ye()){var t;return qm(e)&&!!((t=window.navigator)!=null&&t.standalone)}function L2(){return WR()&&document.documentMode===10}function lT(e=ye()){return qm(e)||sT(e)||oT(e)||aT(e)||/windows phone/i.test(e)||rT(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(e,t=[]){let n;switch(e){case"Browser":n=d_(ye());break;case"Worker":n=`${d_(ye())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${ta}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=s=>new Promise((a,l)=>{try{const u=t(s);a(u)}catch(u){l(u)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P2(e,t={}){return ea(e,"GET","/v2/passwordPolicy",jm(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=6;class j2{constructor(t){var i;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??z2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=t.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),r&&(n.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(t,n,i,r){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new m_(this),this.idTokenSubscription=new m_(this),this.beforeStateQueue=new k2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Bn(n)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await Ts.create(this,t),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((r=this._popupRedirectResolver)!=null&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await ju(this,{idToken:t}),i=await ln._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var s;if(on(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(t);(!a||a===l)&&(u!=null&&u.user)&&(i=u.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return X(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Bu(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=T2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(on(this.app))return Promise.reject(vr(this));const n=t?Xt(t):null;return n&&X(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&X(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return on(this.app)?Promise.reject(vr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return on(this.app)?Promise.reject(vr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bn(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await P2(this),n=new j2(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Go("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await V2(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Bn(t)||this._popupRedirectResolver;X(n,this,"argument-error"),this.redirectPersistenceManager=await Ts.create(this,[Bn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(X(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,i,r);return()=>{a=!0,u()}}else{const u=t.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=uT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var n;if(on(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&y2(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Sc(e){return Xt(e)}class m_{constructor(t){this.auth=t,this.observer=null,this.addObserver=sI(n=>this.observer=n)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function q2(e){Hm=e}function H2(e){return Hm.loadJS(e)}function F2(){return Hm.gapiScript}function G2(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(e,t){const n=Lm(e,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(Ir(s,t??{}))return r;bn(r,"already-initialized")}return n.initialize({options:t})}function Y2(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Bn);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function K2(e,t,n){const i=Sc(e);X(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!!(n!=null&&n.disableWarnings),s=cT(t),{host:a,port:l}=X2(t),u=l===null?"":`:${l}`,h={url:`${s}//${a}${u}/`},d=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){X(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),X(Ir(h,i.config.emulator)&&Ir(d,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=h,i.emulatorConfig=d,i.settings.appVerificationDisabledForTesting=!0,Zs(a)?(jE(`${s}//${a}${u}`),BE("Auth",!0)):r||$2()}function cT(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function X2(e){const t=cT(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:p_(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:p_(a)}}}function p_(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function $2(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return jn("not implemented")}_getIdTokenResponse(t){return jn("not implemented")}_linkToIdToken(t,n){return jn("not implemented")}_getReauthenticationResolver(t){return jn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ss(e,t){return w2(e,"POST","/v1/accounts:signInWithIdp",jm(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2="http://localhost";class Dr extends hT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Dr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):bn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r,...s}=n;if(!i||!r)return null;const a=new Dr(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return Ss(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,Ss(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ss(t,n)}buildRequest(){const t={requestUri:W2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Qo(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko extends Fm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends Ko{constructor(){super("facebook.com")}static credential(t){return Dr._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return _i.credentialFromTaggedObject(t)}static credentialFromError(t){return _i.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return _i.credential(t.oauthAccessToken)}catch{return null}}}_i.FACEBOOK_SIGN_IN_METHOD="facebook.com";_i.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln extends Ko{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Dr._fromParams({providerId:Ln.PROVIDER_ID,signInMethod:Ln.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Ln.credentialFromTaggedObject(t)}static credentialFromError(t){return Ln.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return Ln.credential(n,i)}catch{return null}}}Ln.GOOGLE_SIGN_IN_METHOD="google.com";Ln.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends Ko{constructor(){super("github.com")}static credential(t){return Dr._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return vi.credentialFromTaggedObject(t)}static credentialFromError(t){return vi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return vi.credential(t.oauthAccessToken)}catch{return null}}}vi.GITHUB_SIGN_IN_METHOD="github.com";vi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends Ko{constructor(){super("twitter.com")}static credential(t,n){return Dr._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Ei.credentialFromTaggedObject(t)}static credentialFromError(t){return Ei.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Ei.credential(n,i)}catch{return null}}}Ei.TWITTER_SIGN_IN_METHOD="twitter.com";Ei.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,r=!1){const s=await ln._fromIdTokenResponse(t,i,r),a=g_(i);return new Ps({user:s,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const r=g_(i);return new Ps({user:t,providerId:r,_tokenResponse:i,operationType:n})}}function g_(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu extends ni{constructor(t,n,i,r){super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,qu.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,r){return new qu(t,n,i,r)}}function fT(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?qu._fromErrorAndOperation(e,s,t,i):s})}async function J2(e,t,n=!1){const i=await wo(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ps._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z2(e,t,n=!1){const{auth:i}=e;if(on(i.app))return Promise.reject(vr(i));const r="reauthenticate";try{const s=await wo(e,fT(i,r,t,e),n);X(s.idToken,i,"internal-error");const a=Bm(s.idToken);X(a,i,"internal-error");const{sub:l}=a;return X(e.uid===l,i,"user-mismatch"),Ps._forOperation(e,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&bn(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tC(e,t,n=!1){if(on(e.app))return Promise.reject(vr(e));const i="signIn",r=await fT(e,i,t),s=await Ps._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(s.user),s}function eC(e,t,n,i){return Xt(e).onIdTokenChanged(t,n,i)}function nC(e,t,n){return Xt(e).beforeAuthStateChanged(t,n)}function iC(e,t,n,i){return Xt(e).onAuthStateChanged(t,n,i)}function y_(e){return Xt(e).signOut()}const Hu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hu,"1"),this.storage.removeItem(Hu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=1e3,sC=10;class mT extends dT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&t(n,r,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const i=t.key;n?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);L2()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,sC):r()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},rC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}mT.type="LOCAL";const aC=mT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT extends dT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}pT.type="SESSION";const gT=pT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(r=>r.isListeningto(t));if(n)return n;const i=new Ac(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:r,data:s}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const l=Array.from(a).map(async h=>h(n.origin,s)),u=await oC(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ac.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((l,u)=>{const h=Gm("",20);r.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(p){const m=p;if(m.data.eventId===h)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(m.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:h,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(){return window}function uC(e){En().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(){return typeof En().WorkerGlobalScope<"u"&&typeof En().importScripts=="function"}async function cC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hC(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function fC(){return yT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="firebaseLocalStorageDb",dC=1,Fu="firebaseLocalStorage",vT="fbase_key";class Xo{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bc(e,t){return e.transaction([Fu],t?"readwrite":"readonly").objectStore(Fu)}function mC(){const e=indexedDB.deleteDatabase(_T);return new Xo(e).toPromise()}function pd(){const e=indexedDB.open(_T,dC);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(Fu,{keyPath:vT})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(Fu)?t(i):(i.close(),await mC(),t(await pd()))})})}async function __(e,t,n){const i=bc(e,!0).put({[vT]:t,value:n});return new Xo(i).toPromise()}async function pC(e,t){const n=bc(e,!1).get(t),i=await new Xo(n).toPromise();return i===void 0?null:i.value}function v_(e,t){const n=bc(e,!0).delete(t);return new Xo(n).toPromise()}const gC=800,yC=3;class ET{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pd(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>yC)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ac._getInstance(fC()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await cC(),!this.activeServiceWorker)return;this.sender=new lC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(i=t[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||hC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await pd();return await __(t,Hu,"1"),await v_(t,Hu),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>__(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>pC(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>v_(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const s=bc(r,!1).getAll();return new Xo(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:s}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ET.type="LOCAL";const _C=ET;new Yo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(e,t){return t?Bn(t):(X(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm extends hT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ss(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ss(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ss(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function vC(e){return tC(e.auth,new Qm(e),e.bypassAuthState)}function EC(e){const{auth:t,user:n}=e;return X(n,t,"internal-error"),Z2(n,new Qm(e),e.bypassAuthState)}async function TC(e){const{auth:t,user:n}=e;return X(n,t,"internal-error"),J2(n,new Qm(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(t,n,i,r,s=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:a,type:l}=t;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(h){this.reject(h)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return vC;case"linkViaPopup":case"linkViaRedirect":return TC;case"reauthViaPopup":case"reauthViaRedirect":return EC;default:bn(this.auth,"internal-error")}}resolve(t){Jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=new Yo(2e3,1e4);async function AC(e,t,n){if(on(e.app))return Promise.reject(un(e,"operation-not-supported-in-this-environment"));const i=Sc(e);_2(e,t,Fm);const r=TT(i,n);return new fr(i,"signInViaPopup",t,r).executeNotNull()}class fr extends ST{constructor(t,n,i,r,s){super(t,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,fr.currentPopupAction&&fr.currentPopupAction.cancel(),fr.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return X(t,this.auth,"internal-error"),t}async onExecution(){Jn(this.filter.length===1,"Popup operations only handle one event");const t=Gm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(un(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(un(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fr.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(un(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,SC.get())};t()}}fr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC="pendingRedirect",Zl=new Map;class wC extends ST{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=Zl.get(this.auth._key());if(!t){try{const i=await RC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}Zl.set(this.auth._key(),t)}return this.bypassAuthState||Zl.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RC(e,t){const n=DC(t),i=CC(e);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function IC(e,t){Zl.set(e._key(),t)}function CC(e){return Bn(e._redirectPersistence)}function DC(e){return Jl(bC,e.config.apiKey,e.name)}async function xC(e,t,n=!1){if(on(e.app))return Promise.reject(vr(e));const i=Sc(e),r=TT(i,t),a=await new wC(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=10*60*1e3;class OC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!MC(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!AT(t)){const r=((i=t.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(un(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=NC&&this.cachedEventUids.clear(),this.cachedEventUids.has(E_(t))}saveEventToCache(t){this.cachedEventUids.add(E_(t)),this.lastProcessedEventTime=Date.now()}}function E_(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function AT({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function MC(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AT(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VC(e,t={}){return ea(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LC=/^https?/;async function kC(e){if(e.config.emulator)return;const{authorizedDomains:t}=await VC(e);for(const n of t)try{if(PC(n))return}catch{}bn(e,"unauthorized-domain")}function PC(e){const t=dd(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!LC.test(n))return!1;if(UC.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=new Yo(3e4,6e4);function T_(){const e=En().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function jC(e){return new Promise((t,n)=>{var r,s,a;function i(){T_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{T_(),n(un(e,"network-request-failed"))},timeout:zC.get()})}if((s=(r=En().gapi)==null?void 0:r.iframes)!=null&&s.Iframe)t(gapi.iframes.getContext());else if((a=En().gapi)!=null&&a.load)i();else{const l=G2("iframefcb");return En()[l]=()=>{gapi.load?i():n(un(e,"network-request-failed"))},H2(`${F2()}?onload=${l}`).catch(u=>n(u))}}).catch(t=>{throw tu=null,t})}let tu=null;function BC(e){return tu=tu||jC(e),tu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=new Yo(5e3,15e3),HC="__/auth/iframe",FC="emulator/auth/iframe",GC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YC(e){const t=e.config;X(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?zm(t,FC):`https://${e.config.authDomain}/${HC}`,i={apiKey:t.apiKey,appName:e.name,v:ta},r=QC.get(e.config.apiHost);r&&(i.eid=r);const s=e._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${Qo(i).slice(1)}`}async function KC(e){const t=await BC(e),n=En().gapi;return X(n,e,"internal-error"),t.open({where:document.body,url:YC(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GC,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=un(e,"network-request-failed"),l=En().setTimeout(()=>{s(a)},qC.get());function u(){En().clearTimeout(l),r(i)}i.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$C=500,WC=600,JC="_blank",ZC="http://localhost";class S_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tD(e,t,n,i=$C,r=WC){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u={...XC,width:i.toString(),height:r.toString(),top:s,left:a},h=ye().toLowerCase();n&&(l=iT(h)?JC:n),eT(h)&&(t=t||ZC,u.scrollbars="yes");const d=Object.entries(u).reduce((m,[v,N])=>`${m}${v}=${N},`,"");if(U2(h)&&l!=="_self")return eD(t||"",l),new S_(null);const p=window.open(t||"",l,d);X(p,e,"popup-blocked");try{p.focus()}catch{}return new S_(p)}function eD(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD="__/auth/handler",iD="emulator/auth/handler",rD=encodeURIComponent("fac");async function A_(e,t,n,i,r,s){X(e.config.authDomain,e,"auth-domain-config-required"),X(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:ta,eventId:r};if(t instanceof Fm){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",rI(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,p]of Object.entries(s||{}))a[d]=p}if(t instanceof Ko){const d=t.getScopes().filter(p=>p!=="");d.length>0&&(a.scopes=d.join(","))}e.tenantId&&(a.tid=e.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const u=await e._getAppCheckToken(),h=u?`#${rD}=${encodeURIComponent(u)}`:"";return`${sD(e)}?${Qo(l).slice(1)}${h}`}function sD({config:e}){return e.emulator?zm(e,iD):`https://${e.authDomain}/${nD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef="webStorageSupport";class aD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gT,this._completeRedirectFn=xC,this._overrideRedirectResult=IC}async _openPopup(t,n,i,r){var a;Jn((a=this.eventManagers[t._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await A_(t,n,i,dd(),r);return tD(t,s,Gm())}async _openRedirect(t,n,i,r){await this._originValidation(t);const s=await A_(t,n,i,dd(),r);return uC(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(Jn(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await KC(t),i=new OC(t);return n.register("authEvent",r=>(X(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(ef,{type:ef},r=>{var a;const s=(a=r==null?void 0:r[0])==null?void 0:a[ef];s!==void 0&&n(!!s),bn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kC(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return lT()||nT()||qm()}}const oD=aD;var b_="@firebase/auth",w_="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cD(e){ks(new Cr("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;X(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uT(e)},h=new B2(i,r,s,u);return Y2(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),ks(new Cr("auth-internal",t=>{const n=Sc(t.getProvider("auth").getImmediate());return(i=>new lD(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pi(b_,w_,uD(e)),Pi(b_,w_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=5*60,fD=zE("authIdTokenMaxAge")||hD;let R_=null;const dD=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>fD)return;const r=n==null?void 0:n.token;R_!==r&&(R_=r,await fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function mD(e=GE()){const t=Lm(e,"auth");if(t.isInitialized())return t.getImmediate();const n=Q2(e,{popupRedirectResolver:oD,persistence:[_C,aC,gT]}),i=zE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=dD(s.toString());nC(n,a,()=>a(n.currentUser)),eC(n,l=>a(l))}}const r=kE("auth");return r&&K2(n,`http://${r}`),n}function pD(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}q2({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=r=>{const s=un("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",pD().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cD("Browser");var I_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zi,bT;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(E,_){function T(){}T.prototype=_.prototype,E.F=_.prototype,E.prototype=new T,E.prototype.constructor=E,E.D=function(b,w,I){for(var S=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)S[Mt-2]=arguments[Mt];return _.prototype[w].apply(b,S)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(E,_,T){T||(T=0);const b=Array(16);if(typeof _=="string")for(var w=0;w<16;++w)b[w]=_.charCodeAt(T++)|_.charCodeAt(T++)<<8|_.charCodeAt(T++)<<16|_.charCodeAt(T++)<<24;else for(w=0;w<16;++w)b[w]=_[T++]|_[T++]<<8|_[T++]<<16|_[T++]<<24;_=E.g[0],T=E.g[1],w=E.g[2];let I=E.g[3],S;S=_+(I^T&(w^I))+b[0]+3614090360&4294967295,_=T+(S<<7&4294967295|S>>>25),S=I+(w^_&(T^w))+b[1]+3905402710&4294967295,I=_+(S<<12&4294967295|S>>>20),S=w+(T^I&(_^T))+b[2]+606105819&4294967295,w=I+(S<<17&4294967295|S>>>15),S=T+(_^w&(I^_))+b[3]+3250441966&4294967295,T=w+(S<<22&4294967295|S>>>10),S=_+(I^T&(w^I))+b[4]+4118548399&4294967295,_=T+(S<<7&4294967295|S>>>25),S=I+(w^_&(T^w))+b[5]+1200080426&4294967295,I=_+(S<<12&4294967295|S>>>20),S=w+(T^I&(_^T))+b[6]+2821735955&4294967295,w=I+(S<<17&4294967295|S>>>15),S=T+(_^w&(I^_))+b[7]+4249261313&4294967295,T=w+(S<<22&4294967295|S>>>10),S=_+(I^T&(w^I))+b[8]+1770035416&4294967295,_=T+(S<<7&4294967295|S>>>25),S=I+(w^_&(T^w))+b[9]+2336552879&4294967295,I=_+(S<<12&4294967295|S>>>20),S=w+(T^I&(_^T))+b[10]+4294925233&4294967295,w=I+(S<<17&4294967295|S>>>15),S=T+(_^w&(I^_))+b[11]+2304563134&4294967295,T=w+(S<<22&4294967295|S>>>10),S=_+(I^T&(w^I))+b[12]+1804603682&4294967295,_=T+(S<<7&4294967295|S>>>25),S=I+(w^_&(T^w))+b[13]+4254626195&4294967295,I=_+(S<<12&4294967295|S>>>20),S=w+(T^I&(_^T))+b[14]+2792965006&4294967295,w=I+(S<<17&4294967295|S>>>15),S=T+(_^w&(I^_))+b[15]+1236535329&4294967295,T=w+(S<<22&4294967295|S>>>10),S=_+(w^I&(T^w))+b[1]+4129170786&4294967295,_=T+(S<<5&4294967295|S>>>27),S=I+(T^w&(_^T))+b[6]+3225465664&4294967295,I=_+(S<<9&4294967295|S>>>23),S=w+(_^T&(I^_))+b[11]+643717713&4294967295,w=I+(S<<14&4294967295|S>>>18),S=T+(I^_&(w^I))+b[0]+3921069994&4294967295,T=w+(S<<20&4294967295|S>>>12),S=_+(w^I&(T^w))+b[5]+3593408605&4294967295,_=T+(S<<5&4294967295|S>>>27),S=I+(T^w&(_^T))+b[10]+38016083&4294967295,I=_+(S<<9&4294967295|S>>>23),S=w+(_^T&(I^_))+b[15]+3634488961&4294967295,w=I+(S<<14&4294967295|S>>>18),S=T+(I^_&(w^I))+b[4]+3889429448&4294967295,T=w+(S<<20&4294967295|S>>>12),S=_+(w^I&(T^w))+b[9]+568446438&4294967295,_=T+(S<<5&4294967295|S>>>27),S=I+(T^w&(_^T))+b[14]+3275163606&4294967295,I=_+(S<<9&4294967295|S>>>23),S=w+(_^T&(I^_))+b[3]+4107603335&4294967295,w=I+(S<<14&4294967295|S>>>18),S=T+(I^_&(w^I))+b[8]+1163531501&4294967295,T=w+(S<<20&4294967295|S>>>12),S=_+(w^I&(T^w))+b[13]+2850285829&4294967295,_=T+(S<<5&4294967295|S>>>27),S=I+(T^w&(_^T))+b[2]+4243563512&4294967295,I=_+(S<<9&4294967295|S>>>23),S=w+(_^T&(I^_))+b[7]+1735328473&4294967295,w=I+(S<<14&4294967295|S>>>18),S=T+(I^_&(w^I))+b[12]+2368359562&4294967295,T=w+(S<<20&4294967295|S>>>12),S=_+(T^w^I)+b[5]+4294588738&4294967295,_=T+(S<<4&4294967295|S>>>28),S=I+(_^T^w)+b[8]+2272392833&4294967295,I=_+(S<<11&4294967295|S>>>21),S=w+(I^_^T)+b[11]+1839030562&4294967295,w=I+(S<<16&4294967295|S>>>16),S=T+(w^I^_)+b[14]+4259657740&4294967295,T=w+(S<<23&4294967295|S>>>9),S=_+(T^w^I)+b[1]+2763975236&4294967295,_=T+(S<<4&4294967295|S>>>28),S=I+(_^T^w)+b[4]+1272893353&4294967295,I=_+(S<<11&4294967295|S>>>21),S=w+(I^_^T)+b[7]+4139469664&4294967295,w=I+(S<<16&4294967295|S>>>16),S=T+(w^I^_)+b[10]+3200236656&4294967295,T=w+(S<<23&4294967295|S>>>9),S=_+(T^w^I)+b[13]+681279174&4294967295,_=T+(S<<4&4294967295|S>>>28),S=I+(_^T^w)+b[0]+3936430074&4294967295,I=_+(S<<11&4294967295|S>>>21),S=w+(I^_^T)+b[3]+3572445317&4294967295,w=I+(S<<16&4294967295|S>>>16),S=T+(w^I^_)+b[6]+76029189&4294967295,T=w+(S<<23&4294967295|S>>>9),S=_+(T^w^I)+b[9]+3654602809&4294967295,_=T+(S<<4&4294967295|S>>>28),S=I+(_^T^w)+b[12]+3873151461&4294967295,I=_+(S<<11&4294967295|S>>>21),S=w+(I^_^T)+b[15]+530742520&4294967295,w=I+(S<<16&4294967295|S>>>16),S=T+(w^I^_)+b[2]+3299628645&4294967295,T=w+(S<<23&4294967295|S>>>9),S=_+(w^(T|~I))+b[0]+4096336452&4294967295,_=T+(S<<6&4294967295|S>>>26),S=I+(T^(_|~w))+b[7]+1126891415&4294967295,I=_+(S<<10&4294967295|S>>>22),S=w+(_^(I|~T))+b[14]+2878612391&4294967295,w=I+(S<<15&4294967295|S>>>17),S=T+(I^(w|~_))+b[5]+4237533241&4294967295,T=w+(S<<21&4294967295|S>>>11),S=_+(w^(T|~I))+b[12]+1700485571&4294967295,_=T+(S<<6&4294967295|S>>>26),S=I+(T^(_|~w))+b[3]+2399980690&4294967295,I=_+(S<<10&4294967295|S>>>22),S=w+(_^(I|~T))+b[10]+4293915773&4294967295,w=I+(S<<15&4294967295|S>>>17),S=T+(I^(w|~_))+b[1]+2240044497&4294967295,T=w+(S<<21&4294967295|S>>>11),S=_+(w^(T|~I))+b[8]+1873313359&4294967295,_=T+(S<<6&4294967295|S>>>26),S=I+(T^(_|~w))+b[15]+4264355552&4294967295,I=_+(S<<10&4294967295|S>>>22),S=w+(_^(I|~T))+b[6]+2734768916&4294967295,w=I+(S<<15&4294967295|S>>>17),S=T+(I^(w|~_))+b[13]+1309151649&4294967295,T=w+(S<<21&4294967295|S>>>11),S=_+(w^(T|~I))+b[4]+4149444226&4294967295,_=T+(S<<6&4294967295|S>>>26),S=I+(T^(_|~w))+b[11]+3174756917&4294967295,I=_+(S<<10&4294967295|S>>>22),S=w+(_^(I|~T))+b[2]+718787259&4294967295,w=I+(S<<15&4294967295|S>>>17),S=T+(I^(w|~_))+b[9]+3951481745&4294967295,E.g[0]=E.g[0]+_&4294967295,E.g[1]=E.g[1]+(w+(S<<21&4294967295|S>>>11))&4294967295,E.g[2]=E.g[2]+w&4294967295,E.g[3]=E.g[3]+I&4294967295}i.prototype.v=function(E,_){_===void 0&&(_=E.length);const T=_-this.blockSize,b=this.C;let w=this.h,I=0;for(;I<_;){if(w==0)for(;I<=T;)r(this,E,I),I+=this.blockSize;if(typeof E=="string"){for(;I<_;)if(b[w++]=E.charCodeAt(I++),w==this.blockSize){r(this,b),w=0;break}}else for(;I<_;)if(b[w++]=E[I++],w==this.blockSize){r(this,b),w=0;break}}this.h=w,this.o+=_},i.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var _=1;_<E.length-8;++_)E[_]=0;_=this.o*8;for(var T=E.length-8;T<E.length;++T)E[T]=_&255,_/=256;for(this.v(E),E=Array(16),_=0,T=0;T<4;++T)for(let b=0;b<32;b+=8)E[_++]=this.g[T]>>>b&255;return E};function s(E,_){var T=l;return Object.prototype.hasOwnProperty.call(T,E)?T[E]:T[E]=_(E)}function a(E,_){this.h=_;const T=[];let b=!0;for(let w=E.length-1;w>=0;w--){const I=E[w]|0;b&&I==_||(T[w]=I,b=!1)}this.g=T}var l={};function u(E){return-128<=E&&E<128?s(E,function(_){return new a([_|0],_<0?-1:0)}):new a([E|0],E<0?-1:0)}function h(E){if(isNaN(E)||!isFinite(E))return p;if(E<0)return M(h(-E));const _=[];let T=1;for(let b=0;E>=T;b++)_[b]=E/T|0,T*=4294967296;return new a(_,0)}function d(E,_){if(E.length==0)throw Error("number format error: empty string");if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(E.charAt(0)=="-")return M(d(E.substring(1),_));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const T=h(Math.pow(_,8));let b=p;for(let I=0;I<E.length;I+=8){var w=Math.min(8,E.length-I);const S=parseInt(E.substring(I,I+w),_);w<8?(w=h(Math.pow(_,w)),b=b.j(w).add(h(S))):(b=b.j(T),b=b.add(h(S)))}return b}var p=u(0),m=u(1),v=u(16777216);e=a.prototype,e.m=function(){if(V(this))return-M(this).m();let E=0,_=1;for(let T=0;T<this.g.length;T++){const b=this.i(T);E+=(b>=0?b:4294967296+b)*_,_*=4294967296}return E},e.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(N(this))return"0";if(V(this))return"-"+M(this).toString(E);const _=h(Math.pow(E,6));var T=this;let b="";for(;;){const w=D(T,_).g;T=A(T,w.j(_));let I=((T.g.length>0?T.g[0]:T.h)>>>0).toString(E);if(T=w,N(T))return I+b;for(;I.length<6;)I="0"+I;b=I+b}},e.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function N(E){if(E.h!=0)return!1;for(let _=0;_<E.g.length;_++)if(E.g[_]!=0)return!1;return!0}function V(E){return E.h==-1}e.l=function(E){return E=A(this,E),V(E)?-1:N(E)?0:1};function M(E){const _=E.g.length,T=[];for(let b=0;b<_;b++)T[b]=~E.g[b];return new a(T,~E.h).add(m)}e.abs=function(){return V(this)?M(this):this},e.add=function(E){const _=Math.max(this.g.length,E.g.length),T=[];let b=0;for(let w=0;w<=_;w++){let I=b+(this.i(w)&65535)+(E.i(w)&65535),S=(I>>>16)+(this.i(w)>>>16)+(E.i(w)>>>16);b=S>>>16,I&=65535,S&=65535,T[w]=S<<16|I}return new a(T,T[T.length-1]&-2147483648?-1:0)};function A(E,_){return E.add(M(_))}e.j=function(E){if(N(this)||N(E))return p;if(V(this))return V(E)?M(this).j(M(E)):M(M(this).j(E));if(V(E))return M(this.j(M(E)));if(this.l(v)<0&&E.l(v)<0)return h(this.m()*E.m());const _=this.g.length+E.g.length,T=[];for(var b=0;b<2*_;b++)T[b]=0;for(b=0;b<this.g.length;b++)for(let w=0;w<E.g.length;w++){const I=this.i(b)>>>16,S=this.i(b)&65535,Mt=E.i(w)>>>16,Ae=E.i(w)&65535;T[2*b+2*w]+=S*Ae,y(T,2*b+2*w),T[2*b+2*w+1]+=I*Ae,y(T,2*b+2*w+1),T[2*b+2*w+1]+=S*Mt,y(T,2*b+2*w+1),T[2*b+2*w+2]+=I*Mt,y(T,2*b+2*w+2)}for(E=0;E<_;E++)T[E]=T[2*E+1]<<16|T[2*E];for(E=_;E<2*_;E++)T[E]=0;return new a(T,0)};function y(E,_){for(;(E[_]&65535)!=E[_];)E[_+1]+=E[_]>>>16,E[_]&=65535,_++}function R(E,_){this.g=E,this.h=_}function D(E,_){if(N(_))throw Error("division by zero");if(N(E))return new R(p,p);if(V(E))return _=D(M(E),_),new R(M(_.g),M(_.h));if(V(_))return _=D(E,M(_)),new R(M(_.g),_.h);if(E.g.length>30){if(V(E)||V(_))throw Error("slowDivide_ only works with positive integers.");for(var T=m,b=_;b.l(E)<=0;)T=z(T),b=z(b);var w=B(T,1),I=B(b,1);for(b=B(b,2),T=B(T,2);!N(b);){var S=I.add(b);S.l(E)<=0&&(w=w.add(T),I=S),b=B(b,1),T=B(T,1)}return _=A(E,w.j(_)),new R(w,_)}for(w=p;E.l(_)>=0;){for(T=Math.max(1,Math.floor(E.m()/_.m())),b=Math.ceil(Math.log(T)/Math.LN2),b=b<=48?1:Math.pow(2,b-48),I=h(T),S=I.j(_);V(S)||S.l(E)>0;)T-=b,I=h(T),S=I.j(_);N(I)&&(I=m),w=w.add(I),E=A(E,S)}return new R(w,E)}e.B=function(E){return D(this,E).h},e.and=function(E){const _=Math.max(this.g.length,E.g.length),T=[];for(let b=0;b<_;b++)T[b]=this.i(b)&E.i(b);return new a(T,this.h&E.h)},e.or=function(E){const _=Math.max(this.g.length,E.g.length),T=[];for(let b=0;b<_;b++)T[b]=this.i(b)|E.i(b);return new a(T,this.h|E.h)},e.xor=function(E){const _=Math.max(this.g.length,E.g.length),T=[];for(let b=0;b<_;b++)T[b]=this.i(b)^E.i(b);return new a(T,this.h^E.h)};function z(E){const _=E.g.length+1,T=[];for(let b=0;b<_;b++)T[b]=E.i(b)<<1|E.i(b-1)>>>31;return new a(T,E.h)}function B(E,_){const T=_>>5;_%=32;const b=E.g.length-T,w=[];for(let I=0;I<b;I++)w[I]=_>0?E.i(I+T)>>>_|E.i(I+T+1)<<32-_:E.i(I+T);return new a(w,E.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,bT=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=d,zi=a}).apply(typeof I_<"u"?I_:typeof self<"u"?self:typeof window<"u"?window:{});var Nl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wT,La,RT,eu,gd,IT,CT,DT;(function(){var e,t=Object.defineProperty;function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nl=="object"&&Nl];for(var c=0;c<o.length;++c){var f=o[c];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var i=n(this);function r(o,c){if(c)t:{var f=i;o=o.split(".");for(var g=0;g<o.length-1;g++){var C=o[g];if(!(C in f))break t;f=f[C]}o=o[o.length-1],g=f[o],c=c(g),c!=g&&c!=null&&t(f,o,{configurable:!0,writable:!0,value:c})}}r("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(o){return o||function(c){var f=[],g;for(g in c)Object.prototype.hasOwnProperty.call(c,g)&&f.push([g,c[g]]);return f}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(o){var c=typeof o;return c=="object"&&o!=null||c=="function"}function u(o,c,f){return o.call.apply(o.bind,arguments)}function h(o,c,f){return h=u,h.apply(null,arguments)}function d(o,c){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),o.apply(this,g)}}function p(o,c){function f(){}f.prototype=c.prototype,o.Z=c.prototype,o.prototype=new f,o.prototype.constructor=o,o.Ob=function(g,C,O){for(var j=Array(arguments.length-2),it=2;it<arguments.length;it++)j[it-2]=arguments[it];return c.prototype[C].apply(g,j)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function v(o){const c=o.length;if(c>0){const f=Array(c);for(let g=0;g<c;g++)f[g]=o[g];return f}return[]}function N(o,c){for(let g=1;g<arguments.length;g++){const C=arguments[g];var f=typeof C;if(f=f!="object"?f:C?Array.isArray(C)?"array":f:"null",f=="array"||f=="object"&&typeof C.length=="number"){f=o.length||0;const O=C.length||0;o.length=f+O;for(let j=0;j<O;j++)o[f+j]=C[j]}else o.push(C)}}class V{constructor(c,f){this.i=c,this.j=f,this.h=0,this.g=null}get(){let c;return this.h>0?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function M(o){a.setTimeout(()=>{throw o},0)}function A(){var o=E;let c=null;return o.g&&(c=o.g,o.g=o.g.next,o.g||(o.h=null),c.next=null),c}class y{constructor(){this.h=this.g=null}add(c,f){const g=R.get();g.set(c,f),this.h?this.h.next=g:this.g=g,this.h=g}}var R=new V(()=>new D,o=>o.reset());class D{constructor(){this.next=this.g=this.h=null}set(c,f){this.h=c,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let z,B=!1,E=new y,_=()=>{const o=Promise.resolve(void 0);z=()=>{o.then(T)}};function T(){for(var o;o=A();){try{o.h.call(o.g)}catch(f){M(f)}var c=R;c.j(o),c.h<100&&(c.h++,o.next=c.g,c.g=o)}B=!1}function b(){this.u=this.u,this.C=this.C}b.prototype.u=!1,b.prototype.dispose=function(){this.u||(this.u=!0,this.N())},b.prototype[Symbol.dispose]=function(){this.dispose()},b.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function w(o,c){this.type=o,this.g=this.target=c,this.defaultPrevented=!1}w.prototype.h=function(){this.defaultPrevented=!0};var I=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var o=!1,c=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const f=()=>{};a.addEventListener("test",f,c),a.removeEventListener("test",f,c)}catch{}return o}();function S(o){return/^[\s\xa0]*$/.test(o)}function Mt(o,c){w.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,c)}p(Mt,w),Mt.prototype.init=function(o,c){const f=this.type=o.type,g=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=c,c=o.relatedTarget,c||(f=="mouseover"?c=o.fromElement:f=="mouseout"&&(c=o.toElement)),this.relatedTarget=c,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&Mt.Z.h.call(this)},Mt.prototype.h=function(){Mt.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Ae="closure_listenable_"+(Math.random()*1e6|0),H=0;function nt(o,c,f,g,C){this.listener=o,this.proxy=null,this.src=c,this.type=f,this.capture=!!g,this.ha=C,this.key=++H,this.da=this.fa=!1}function $(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function pt(o,c,f){for(const g in o)c.call(f,o[g],g,o)}function Vt(o,c){for(const f in o)c.call(void 0,o[f],f,o)}function Cn(o){const c={};for(const f in o)c[f]=o[f];return c}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Y(o,c){let f,g;for(let C=1;C<arguments.length;C++){g=arguments[C];for(f in g)o[f]=g[f];for(let O=0;O<P.length;O++)f=P[O],Object.prototype.hasOwnProperty.call(g,f)&&(o[f]=g[f])}}function _t(o){this.src=o,this.g={},this.h=0}_t.prototype.add=function(o,c,f,g,C){const O=o.toString();o=this.g[O],o||(o=this.g[O]=[],this.h++);const j=qr(o,c,g,C);return j>-1?(c=o[j],f||(c.fa=!1)):(c=new nt(c,this.src,O,!!g,C),c.fa=f,o.push(c)),c};function Qe(o,c){const f=c.type;if(f in o.g){var g=o.g[f],C=Array.prototype.indexOf.call(g,c,void 0),O;(O=C>=0)&&Array.prototype.splice.call(g,C,1),O&&($(c),o.g[f].length==0&&(delete o.g[f],o.h--))}}function qr(o,c,f,g){for(let C=0;C<o.length;++C){const O=o[C];if(!O.da&&O.listener==c&&O.capture==!!f&&O.ha==g)return C}return-1}var Hc="closure_lm_"+(Math.random()*1e6|0),Fc={};function Rp(o,c,f,g,C){if(g&&g.once)return Cp(o,c,f,g,C);if(Array.isArray(c)){for(let O=0;O<c.length;O++)Rp(o,c[O],f,g,C);return null}return f=Kc(f),o&&o[Ae]?o.J(c,f,l(g)?!!g.capture:!!g,C):Ip(o,c,f,!1,g,C)}function Ip(o,c,f,g,C,O){if(!c)throw Error("Invalid event type");const j=l(C)?!!C.capture:!!C;let it=Qc(o);if(it||(o[Hc]=it=new _t(o)),f=it.add(c,f,g,j,O),f.proxy)return f;if(g=aA(),f.proxy=g,g.src=o,g.listener=f,o.addEventListener)I||(C=j),C===void 0&&(C=!1),o.addEventListener(c.toString(),g,C);else if(o.attachEvent)o.attachEvent(xp(c.toString()),g);else if(o.addListener&&o.removeListener)o.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function aA(){function o(f){return c.call(o.src,o.listener,f)}const c=oA;return o}function Cp(o,c,f,g,C){if(Array.isArray(c)){for(let O=0;O<c.length;O++)Cp(o,c[O],f,g,C);return null}return f=Kc(f),o&&o[Ae]?o.K(c,f,l(g)?!!g.capture:!!g,C):Ip(o,c,f,!0,g,C)}function Dp(o,c,f,g,C){if(Array.isArray(c))for(var O=0;O<c.length;O++)Dp(o,c[O],f,g,C);else g=l(g)?!!g.capture:!!g,f=Kc(f),o&&o[Ae]?(o=o.i,O=String(c).toString(),O in o.g&&(c=o.g[O],f=qr(c,f,g,C),f>-1&&($(c[f]),Array.prototype.splice.call(c,f,1),c.length==0&&(delete o.g[O],o.h--)))):o&&(o=Qc(o))&&(c=o.g[c.toString()],o=-1,c&&(o=qr(c,f,g,C)),(f=o>-1?c[o]:null)&&Gc(f))}function Gc(o){if(typeof o!="number"&&o&&!o.da){var c=o.src;if(c&&c[Ae])Qe(c.i,o);else{var f=o.type,g=o.proxy;c.removeEventListener?c.removeEventListener(f,g,o.capture):c.detachEvent?c.detachEvent(xp(f),g):c.addListener&&c.removeListener&&c.removeListener(g),(f=Qc(c))?(Qe(f,o),f.h==0&&(f.src=null,c[Hc]=null)):$(o)}}}function xp(o){return o in Fc?Fc[o]:Fc[o]="on"+o}function oA(o,c){if(o.da)o=!0;else{c=new Mt(c,this);const f=o.listener,g=o.ha||o.src;o.fa&&Gc(o),o=f.call(g,c)}return o}function Qc(o){return o=o[Hc],o instanceof _t?o:null}var Yc="__closure_events_fn_"+(Math.random()*1e9>>>0);function Kc(o){return typeof o=="function"?o:(o[Yc]||(o[Yc]=function(c){return o.handleEvent(c)}),o[Yc])}function de(){b.call(this),this.i=new _t(this),this.M=this,this.G=null}p(de,b),de.prototype[Ae]=!0,de.prototype.removeEventListener=function(o,c,f,g){Dp(this,o,c,f,g)};function _e(o,c){var f,g=o.G;if(g)for(f=[];g;g=g.G)f.push(g);if(o=o.M,g=c.type||c,typeof c=="string")c=new w(c,o);else if(c instanceof w)c.target=c.target||o;else{var C=c;c=new w(g,o),Y(c,C)}C=!0;let O,j;if(f)for(j=f.length-1;j>=0;j--)O=c.g=f[j],C=nl(O,g,!0,c)&&C;if(O=c.g=o,C=nl(O,g,!0,c)&&C,C=nl(O,g,!1,c)&&C,f)for(j=0;j<f.length;j++)O=c.g=f[j],C=nl(O,g,!1,c)&&C}de.prototype.N=function(){if(de.Z.N.call(this),this.i){var o=this.i;for(const c in o.g){const f=o.g[c];for(let g=0;g<f.length;g++)$(f[g]);delete o.g[c],o.h--}}this.G=null},de.prototype.J=function(o,c,f,g){return this.i.add(String(o),c,!1,f,g)},de.prototype.K=function(o,c,f,g){return this.i.add(String(o),c,!0,f,g)};function nl(o,c,f,g){if(c=o.i.g[String(c)],!c)return!0;c=c.concat();let C=!0;for(let O=0;O<c.length;++O){const j=c[O];if(j&&!j.da&&j.capture==f){const it=j.listener,$t=j.ha||j.src;j.fa&&Qe(o.i,j),C=it.call($t,g)!==!1&&C}}return C&&!g.defaultPrevented}function lA(o,c){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=h(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(c)>2147483647?-1:a.setTimeout(o,c||0)}function Np(o){o.g=lA(()=>{o.g=null,o.i&&(o.i=!1,Np(o))},o.l);const c=o.h;o.h=null,o.m.apply(null,c)}class uA extends b{constructor(c,f){super(),this.m=c,this.l=f,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:Np(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oa(o){b.call(this),this.h=o,this.g={}}p(oa,b);var Op=[];function Mp(o){pt(o.g,function(c,f){this.g.hasOwnProperty(f)&&Gc(c)},o),o.g={}}oa.prototype.N=function(){oa.Z.N.call(this),Mp(this)},oa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xc=a.JSON.stringify,cA=a.JSON.parse,hA=class{stringify(o){return a.JSON.stringify(o,void 0)}parse(o){return a.JSON.parse(o,void 0)}};function Vp(){}function Up(){}var la={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $c(){w.call(this,"d")}p($c,w);function Wc(){w.call(this,"c")}p(Wc,w);var er={},Lp=null;function il(){return Lp=Lp||new de}er.Ia="serverreachability";function kp(o){w.call(this,er.Ia,o)}p(kp,w);function ua(o){const c=il();_e(c,new kp(c))}er.STAT_EVENT="statevent";function Pp(o,c){w.call(this,er.STAT_EVENT,o),this.stat=c}p(Pp,w);function ve(o){const c=il();_e(c,new Pp(c,o))}er.Ja="timingevent";function zp(o,c){w.call(this,er.Ja,o),this.size=c}p(zp,w);function ca(o,c){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){o()},c)}function ha(){this.g=!0}ha.prototype.ua=function(){this.g=!1};function fA(o,c,f,g,C,O){o.info(function(){if(o.g)if(O){var j="",it=O.split("&");for(let Tt=0;Tt<it.length;Tt++){var $t=it[Tt].split("=");if($t.length>1){const te=$t[0];$t=$t[1];const mn=te.split("_");j=mn.length>=2&&mn[1]=="type"?j+(te+"="+$t+"&"):j+(te+"=redacted&")}}}else j=null;else j=O;return"XMLHTTP REQ ("+g+") [attempt "+C+"]: "+c+`
`+f+`
`+j})}function dA(o,c,f,g,C,O,j){o.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+C+"]: "+c+`
`+f+`
`+O+" "+j})}function Hr(o,c,f,g){o.info(function(){return"XMLHTTP TEXT ("+c+"): "+pA(o,f)+(g?" "+g:"")})}function mA(o,c){o.info(function(){return"TIMEOUT: "+c})}ha.prototype.info=function(){};function pA(o,c){if(!o.g)return c;if(!c)return null;try{const O=JSON.parse(c);if(O){for(o=0;o<O.length;o++)if(Array.isArray(O[o])){var f=O[o];if(!(f.length<2)){var g=f[1];if(Array.isArray(g)&&!(g.length<1)){var C=g[0];if(C!="noop"&&C!="stop"&&C!="close")for(let j=1;j<g.length;j++)g[j]=""}}}}return Xc(O)}catch{return c}}var rl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},jp={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Bp;function Jc(){}p(Jc,Vp),Jc.prototype.g=function(){return new XMLHttpRequest},Bp=new Jc;function fa(o){return encodeURIComponent(String(o))}function gA(o){var c=1;o=o.split(":");const f=[];for(;c>0&&o.length;)f.push(o.shift()),c--;return o.length&&f.push(o.join(":")),f}function ii(o,c,f,g){this.j=o,this.i=c,this.l=f,this.S=g||1,this.V=new oa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qp}function qp(){this.i=null,this.g="",this.h=!1}var Hp={},Zc={};function th(o,c,f){o.M=1,o.A=al(dn(c)),o.u=f,o.R=!0,Fp(o,null)}function Fp(o,c){o.F=Date.now(),sl(o),o.B=dn(o.A);var f=o.B,g=o.S;Array.isArray(g)||(g=[String(g)]),ig(f.i,"t",g),o.C=0,f=o.j.L,o.h=new qp,o.g=Tg(o.j,f?c:null,!o.u),o.P>0&&(o.O=new uA(h(o.Y,o,o.g),o.P)),c=o.V,f=o.g,g=o.ba;var C="readystatechange";Array.isArray(C)||(C&&(Op[0]=C.toString()),C=Op);for(let O=0;O<C.length;O++){const j=Rp(f,C[O],g||c.handleEvent,!1,c.h||c);if(!j)break;c.g[j.key]=j}c=o.J?Cn(o.J):{},o.u?(o.v||(o.v="POST"),c["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,c)):(o.v="GET",o.g.ea(o.B,o.v,null,c)),ua(),fA(o.i,o.v,o.B,o.l,o.S,o.u)}ii.prototype.ba=function(o){o=o.target;const c=this.O;c&&ai(o)==3?c.j():this.Y(o)},ii.prototype.Y=function(o){try{if(o==this.g)t:{const it=ai(this.g),$t=this.g.ya(),Tt=this.g.ca();if(!(it<3)&&(it!=3||this.g&&(this.h.h||this.g.la()||cg(this.g)))){this.K||it!=4||$t==7||($t==8||Tt<=0?ua(3):ua(2)),eh(this);var c=this.g.ca();this.X=c;var f=yA(this);if(this.o=c==200,dA(this.i,this.v,this.B,this.l,this.S,it,c),this.o){if(this.U&&!this.L){e:{if(this.g){var g,C=this.g;if((g=C.g?C.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(g)){var O=g;break e}}O=null}if(o=O)Hr(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,nh(this,o);else{this.o=!1,this.m=3,ve(12),nr(this),da(this);break t}}if(this.R){o=!0;let te;for(;!this.K&&this.C<f.length;)if(te=_A(this,f),te==Zc){it==4&&(this.m=4,ve(14),o=!1),Hr(this.i,this.l,null,"[Incomplete Response]");break}else if(te==Hp){this.m=4,ve(15),Hr(this.i,this.l,f,"[Invalid Chunk]"),o=!1;break}else Hr(this.i,this.l,te,null),nh(this,te);if(Gp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),it!=4||f.length!=0||this.h.h||(this.m=1,ve(16),o=!1),this.o=this.o&&o,!o)Hr(this.i,this.l,f,"[Invalid Chunked Response]"),nr(this),da(this);else if(f.length>0&&!this.W){this.W=!0;var j=this.j;j.g==this&&j.aa&&!j.P&&(j.j.info("Great, no buffering proxy detected. Bytes received: "+f.length),ch(j),j.P=!0,ve(11))}}else Hr(this.i,this.l,f,null),nh(this,f);it==4&&nr(this),this.o&&!this.K&&(it==4?yg(this.j,this):(this.o=!1,sl(this)))}else OA(this.g),c==400&&f.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),nr(this),da(this)}}}catch{}finally{}};function yA(o){if(!Gp(o))return o.g.la();const c=cg(o.g);if(c==="")return"";let f="";const g=c.length,C=ai(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return nr(o),da(o),"";o.h.i=new a.TextDecoder}for(let O=0;O<g;O++)o.h.h=!0,f+=o.h.i.decode(c[O],{stream:!(C&&O==g-1)});return c.length=0,o.h.g+=f,o.C=0,o.h.g}function Gp(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function _A(o,c){var f=o.C,g=c.indexOf(`
`,f);return g==-1?Zc:(f=Number(c.substring(f,g)),isNaN(f)?Hp:(g+=1,g+f>c.length?Zc:(c=c.slice(g,g+f),o.C=g+f,c)))}ii.prototype.cancel=function(){this.K=!0,nr(this)};function sl(o){o.T=Date.now()+o.H,Qp(o,o.H)}function Qp(o,c){if(o.D!=null)throw Error("WatchDog timer not null");o.D=ca(h(o.aa,o),c)}function eh(o){o.D&&(a.clearTimeout(o.D),o.D=null)}ii.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(mA(this.i,this.B),this.M!=2&&(ua(),ve(17)),nr(this),this.m=2,da(this)):Qp(this,this.T-o)};function da(o){o.j.I==0||o.K||yg(o.j,o)}function nr(o){eh(o);var c=o.O;c&&typeof c.dispose=="function"&&c.dispose(),o.O=null,Mp(o.V),o.g&&(c=o.g,o.g=null,c.abort(),c.dispose())}function nh(o,c){try{var f=o.j;if(f.I!=0&&(f.g==o||ih(f.h,o))){if(!o.L&&ih(f.h,o)&&f.I==3){try{var g=f.Ba.g.parse(c)}catch{g=null}if(Array.isArray(g)&&g.length==3){var C=g;if(C[0]==0){t:if(!f.v){if(f.g)if(f.g.F+3e3<o.F)hl(f),ul(f);else break t;uh(f),ve(18)}}else f.xa=C[1],0<f.xa-f.K&&C[2]<37500&&f.F&&f.A==0&&!f.C&&(f.C=ca(h(f.Va,f),6e3));Xp(f.h)<=1&&f.ta&&(f.ta=void 0)}else rr(f,11)}else if((o.L||f.g==o)&&hl(f),!S(c))for(C=f.Ba.g.parse(c),c=0;c<C.length;c++){let Tt=C[c];const te=Tt[0];if(!(te<=f.K))if(f.K=te,Tt=Tt[1],f.I==2)if(Tt[0]=="c"){f.M=Tt[1],f.ba=Tt[2];const mn=Tt[3];mn!=null&&(f.ka=mn,f.j.info("VER="+f.ka));const sr=Tt[4];sr!=null&&(f.za=sr,f.j.info("SVER="+f.za));const oi=Tt[5];oi!=null&&typeof oi=="number"&&oi>0&&(g=1.5*oi,f.O=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;const li=o.g;if(li){const dl=li.g?li.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(dl){var O=g.h;O.g||dl.indexOf("spdy")==-1&&dl.indexOf("quic")==-1&&dl.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(rh(O,O.h),O.h=null))}if(g.G){const hh=li.g?li.g.getResponseHeader("X-HTTP-Session-Id"):null;hh&&(g.wa=hh,wt(g.J,g.G,hh))}}f.I=3,f.l&&f.l.ra(),f.aa&&(f.T=Date.now()-o.F,f.j.info("Handshake RTT: "+f.T+"ms")),g=f;var j=o;if(g.na=Eg(g,g.L?g.ba:null,g.W),j.L){$p(g.h,j);var it=j,$t=g.O;$t&&(it.H=$t),it.D&&(eh(it),sl(it)),g.g=j}else pg(g);f.i.length>0&&cl(f)}else Tt[0]!="stop"&&Tt[0]!="close"||rr(f,7);else f.I==3&&(Tt[0]=="stop"||Tt[0]=="close"?Tt[0]=="stop"?rr(f,7):lh(f):Tt[0]!="noop"&&f.l&&f.l.qa(Tt),f.A=0)}}ua(4)}catch{}}var vA=class{constructor(o,c){this.g=o,this.map=c}};function Yp(o){this.l=o||10,a.PerformanceNavigationTiming?(o=a.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Kp(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Xp(o){return o.h?1:o.g?o.g.size:0}function ih(o,c){return o.h?o.h==c:o.g?o.g.has(c):!1}function rh(o,c){o.g?o.g.add(c):o.h=c}function $p(o,c){o.h&&o.h==c?o.h=null:o.g&&o.g.has(c)&&o.g.delete(c)}Yp.prototype.cancel=function(){if(this.i=Wp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Wp(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let c=o.i;for(const f of o.g.values())c=c.concat(f.G);return c}return v(o.i)}var Jp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function EA(o,c){if(o){o=o.split("&");for(let f=0;f<o.length;f++){const g=o[f].indexOf("=");let C,O=null;g>=0?(C=o[f].substring(0,g),O=o[f].substring(g+1)):C=o[f],c(C,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function ri(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let c;o instanceof ri?(this.l=o.l,ma(this,o.j),this.o=o.o,this.g=o.g,pa(this,o.u),this.h=o.h,sh(this,rg(o.i)),this.m=o.m):o&&(c=String(o).match(Jp))?(this.l=!1,ma(this,c[1]||"",!0),this.o=ga(c[2]||""),this.g=ga(c[3]||"",!0),pa(this,c[4]),this.h=ga(c[5]||"",!0),sh(this,c[6]||"",!0),this.m=ga(c[7]||"")):(this.l=!1,this.i=new _a(null,this.l))}ri.prototype.toString=function(){const o=[];var c=this.j;c&&o.push(ya(c,Zp,!0),":");var f=this.g;return(f||c=="file")&&(o.push("//"),(c=this.o)&&o.push(ya(c,Zp,!0),"@"),o.push(fa(f).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.u,f!=null&&o.push(":",String(f))),(f=this.h)&&(this.g&&f.charAt(0)!="/"&&o.push("/"),o.push(ya(f,f.charAt(0)=="/"?AA:SA,!0))),(f=this.i.toString())&&o.push("?",f),(f=this.m)&&o.push("#",ya(f,wA)),o.join("")},ri.prototype.resolve=function(o){const c=dn(this);let f=!!o.j;f?ma(c,o.j):f=!!o.o,f?c.o=o.o:f=!!o.g,f?c.g=o.g:f=o.u!=null;var g=o.h;if(f)pa(c,o.u);else if(f=!!o.h){if(g.charAt(0)!="/")if(this.g&&!this.h)g="/"+g;else{var C=c.h.lastIndexOf("/");C!=-1&&(g=c.h.slice(0,C+1)+g)}if(C=g,C==".."||C==".")g="";else if(C.indexOf("./")!=-1||C.indexOf("/.")!=-1){g=C.lastIndexOf("/",0)==0,C=C.split("/");const O=[];for(let j=0;j<C.length;){const it=C[j++];it=="."?g&&j==C.length&&O.push(""):it==".."?((O.length>1||O.length==1&&O[0]!="")&&O.pop(),g&&j==C.length&&O.push("")):(O.push(it),g=!0)}g=O.join("/")}else g=C}return f?c.h=g:f=o.i.toString()!=="",f?sh(c,rg(o.i)):f=!!o.m,f&&(c.m=o.m),c};function dn(o){return new ri(o)}function ma(o,c,f){o.j=f?ga(c,!0):c,o.j&&(o.j=o.j.replace(/:$/,""))}function pa(o,c){if(c){if(c=Number(c),isNaN(c)||c<0)throw Error("Bad port number "+c);o.u=c}else o.u=null}function sh(o,c,f){c instanceof _a?(o.i=c,RA(o.i,o.l)):(f||(c=ya(c,bA)),o.i=new _a(c,o.l))}function wt(o,c,f){o.i.set(c,f)}function al(o){return wt(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function ga(o,c){return o?c?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function ya(o,c,f){return typeof o=="string"?(o=encodeURI(o).replace(c,TA),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function TA(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Zp=/[#\/\?@]/g,SA=/[#\?:]/g,AA=/[#\?]/g,bA=/[#\?@]/g,wA=/#/g;function _a(o,c){this.h=this.g=null,this.i=o||null,this.j=!!c}function ir(o){o.g||(o.g=new Map,o.h=0,o.i&&EA(o.i,function(c,f){o.add(decodeURIComponent(c.replace(/\+/g," ")),f)}))}e=_a.prototype,e.add=function(o,c){ir(this),this.i=null,o=Fr(this,o);let f=this.g.get(o);return f||this.g.set(o,f=[]),f.push(c),this.h+=1,this};function tg(o,c){ir(o),c=Fr(o,c),o.g.has(c)&&(o.i=null,o.h-=o.g.get(c).length,o.g.delete(c))}function eg(o,c){return ir(o),c=Fr(o,c),o.g.has(c)}e.forEach=function(o,c){ir(this),this.g.forEach(function(f,g){f.forEach(function(C){o.call(c,C,g,this)},this)},this)};function ng(o,c){ir(o);let f=[];if(typeof c=="string")eg(o,c)&&(f=f.concat(o.g.get(Fr(o,c))));else for(o=Array.from(o.g.values()),c=0;c<o.length;c++)f=f.concat(o[c]);return f}e.set=function(o,c){return ir(this),this.i=null,o=Fr(this,o),eg(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[c]),this.h+=1,this},e.get=function(o,c){return o?(o=ng(this,o),o.length>0?String(o[0]):c):c};function ig(o,c,f){tg(o,c),f.length>0&&(o.i=null,o.g.set(Fr(o,c),v(f)),o.h+=f.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],c=Array.from(this.g.keys());for(let g=0;g<c.length;g++){var f=c[g];const C=fa(f);f=ng(this,f);for(let O=0;O<f.length;O++){let j=C;f[O]!==""&&(j+="="+fa(f[O])),o.push(j)}}return this.i=o.join("&")};function rg(o){const c=new _a;return c.i=o.i,o.g&&(c.g=new Map(o.g),c.h=o.h),c}function Fr(o,c){return c=String(c),o.j&&(c=c.toLowerCase()),c}function RA(o,c){c&&!o.j&&(ir(o),o.i=null,o.g.forEach(function(f,g){const C=g.toLowerCase();g!=C&&(tg(this,g),ig(this,C,f))},o)),o.j=c}function IA(o,c){const f=new ha;if(a.Image){const g=new Image;g.onload=d(si,f,"TestLoadImage: loaded",!0,c,g),g.onerror=d(si,f,"TestLoadImage: error",!1,c,g),g.onabort=d(si,f,"TestLoadImage: abort",!1,c,g),g.ontimeout=d(si,f,"TestLoadImage: timeout",!1,c,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=o}else c(!1)}function CA(o,c){const f=new ha,g=new AbortController,C=setTimeout(()=>{g.abort(),si(f,"TestPingServer: timeout",!1,c)},1e4);fetch(o,{signal:g.signal}).then(O=>{clearTimeout(C),O.ok?si(f,"TestPingServer: ok",!0,c):si(f,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(C),si(f,"TestPingServer: error",!1,c)})}function si(o,c,f,g,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),g(f)}catch{}}function DA(){this.g=new hA}function ah(o){this.i=o.Sb||null,this.h=o.ab||!1}p(ah,Vp),ah.prototype.g=function(){return new ol(this.i,this.h)};function ol(o,c){de.call(this),this.H=o,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(ol,de),e=ol.prototype,e.open=function(o,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=c,this.readyState=1,Ea(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const c={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(c.body=o),(this.H||a).fetch(new Request(this.D,c)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,va(this)),this.readyState=0},e.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Ea(this)),this.g&&(this.readyState=3,Ea(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;sg(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function sg(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}e.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var c=o.value?o.value:new Uint8Array(0);(c=this.B.decode(c,{stream:!o.done}))&&(this.response=this.responseText+=c)}o.done?va(this):Ea(this),this.readyState==3&&sg(this)}},e.Oa=function(o){this.g&&(this.response=this.responseText=o,va(this))},e.Na=function(o){this.g&&(this.response=o,va(this))},e.ga=function(){this.g&&va(this)};function va(o){o.readyState=4,o.l=null,o.j=null,o.B=null,Ea(o)}e.setRequestHeader=function(o,c){this.A.append(o,c)},e.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],c=this.h.entries();for(var f=c.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=c.next();return o.join(`\r
`)};function Ea(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(ol.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function ag(o){let c="";return pt(o,function(f,g){c+=g,c+=":",c+=f,c+=`\r
`}),c}function oh(o,c,f){t:{for(g in f){var g=!1;break t}g=!0}g||(f=ag(f),typeof o=="string"?f!=null&&fa(f):wt(o,c,f))}function Ut(o){de.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Ut,de);var xA=/^https?$/i,NA=["POST","PUT"];e=Ut.prototype,e.Fa=function(o){this.H=o},e.ea=function(o,c,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);c=c?c.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Bp.g(),this.g.onreadystatechange=m(h(this.Ca,this));try{this.B=!0,this.g.open(c,String(o),!0),this.B=!1}catch(O){og(this,O);return}if(o=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var C in g)f.set(C,g[C]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(const O of g.keys())f.set(O,g.get(O));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(O=>O.toLowerCase()=="content-type"),C=a.FormData&&o instanceof a.FormData,!(Array.prototype.indexOf.call(NA,c,void 0)>=0)||g||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,j]of f)this.g.setRequestHeader(O,j);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(O){og(this,O)}};function og(o,c){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=c,o.o=5,lg(o),ll(o)}function lg(o){o.A||(o.A=!0,_e(o,"complete"),_e(o,"error"))}e.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,_e(this,"complete"),_e(this,"abort"),ll(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ll(this,!0)),Ut.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?ug(this):this.Xa())},e.Xa=function(){ug(this)};function ug(o){if(o.h&&typeof s<"u"){if(o.v&&ai(o)==4)setTimeout(o.Ca.bind(o),0);else if(_e(o,"readystatechange"),ai(o)==4){o.h=!1;try{const O=o.ca();t:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break t;default:c=!1}var f;if(!(f=c)){var g;if(g=O===0){let j=String(o.D).match(Jp)[1]||null;!j&&a.self&&a.self.location&&(j=a.self.location.protocol.slice(0,-1)),g=!xA.test(j?j.toLowerCase():"")}f=g}if(f)_e(o,"complete"),_e(o,"success");else{o.o=6;try{var C=ai(o)>2?o.g.statusText:""}catch{C=""}o.l=C+" ["+o.ca()+"]",lg(o)}}finally{ll(o)}}}}function ll(o,c){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const f=o.g;o.g=null,c||_e(o,"ready");try{f.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function ai(o){return o.g?o.g.readyState:0}e.ca=function(){try{return ai(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(o){if(this.g){var c=this.g.responseText;return o&&c.indexOf(o)==0&&(c=c.substring(o.length)),cA(c)}};function cg(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function OA(o){const c={};o=(o.g&&ai(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<o.length;g++){if(S(o[g]))continue;var f=gA(o[g]);const C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const O=c[C]||[];c[C]=O,O.push(f)}Vt(c,function(g){return g.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ta(o,c,f){return f&&f.internalChannelParams&&f.internalChannelParams[o]||c}function hg(o){this.za=0,this.i=[],this.j=new ha,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ta("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ta("baseRetryDelayMs",5e3,o),this.Za=Ta("retryDelaySeedMs",1e4,o),this.Ta=Ta("forwardChannelMaxRetries",2,o),this.va=Ta("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new Yp(o&&o.concurrentRequestLimit),this.Ba=new DA,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=hg.prototype,e.ka=8,e.I=1,e.connect=function(o,c,f,g){ve(0),this.W=o,this.H=c||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.J=Eg(this,null,this.W),cl(this)};function lh(o){if(fg(o),o.I==3){var c=o.V++,f=dn(o.J);if(wt(f,"SID",o.M),wt(f,"RID",c),wt(f,"TYPE","terminate"),Sa(o,f),c=new ii(o,o.j,c),c.M=2,c.A=al(dn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(c.A.toString(),"")}catch{}!f&&a.Image&&(new Image().src=c.A,f=!0),f||(c.g=Tg(c.j,null),c.g.ea(c.A)),c.F=Date.now(),sl(c)}vg(o)}function ul(o){o.g&&(ch(o),o.g.cancel(),o.g=null)}function fg(o){ul(o),o.v&&(a.clearTimeout(o.v),o.v=null),hl(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&a.clearTimeout(o.m),o.m=null)}function cl(o){if(!Kp(o.h)&&!o.m){o.m=!0;var c=o.Ea;z||_(),B||(z(),B=!0),E.add(c,o),o.D=0}}function MA(o,c){return Xp(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=c.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=ca(h(o.Ea,o,c),_g(o,o.D)),o.D++,!0)}e.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const C=new ii(this,this.j,o);let O=this.o;if(this.U&&(O?(O=Cn(O),Y(O,this.U)):O=this.U),this.u!==null||this.R||(C.J=O,O=null),this.S)t:{for(var c=0,f=0;f<this.i.length;f++){e:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break e}g=void 0}if(g===void 0)break;if(c+=g,c>4096){c=f;break t}if(c===4096||f===this.i.length-1){c=f+1;break t}}c=1e3}else c=1e3;c=mg(this,C,c),f=dn(this.J),wt(f,"RID",o),wt(f,"CVER",22),this.G&&wt(f,"X-HTTP-Session-Id",this.G),Sa(this,f),O&&(this.R?c="headers="+fa(ag(O))+"&"+c:this.u&&oh(f,this.u,O)),rh(this.h,C),this.Ra&&wt(f,"TYPE","init"),this.S?(wt(f,"$req",c),wt(f,"SID","null"),C.U=!0,th(C,f,null)):th(C,f,c),this.I=2}}else this.I==3&&(o?dg(this,o):this.i.length==0||Kp(this.h)||dg(this))};function dg(o,c){var f;c?f=c.l:f=o.V++;const g=dn(o.J);wt(g,"SID",o.M),wt(g,"RID",f),wt(g,"AID",o.K),Sa(o,g),o.u&&o.o&&oh(g,o.u,o.o),f=new ii(o,o.j,f,o.D+1),o.u===null&&(f.J=o.o),c&&(o.i=c.G.concat(o.i)),c=mg(o,f,1e3),f.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),rh(o.h,f),th(f,g,c)}function Sa(o,c){o.H&&pt(o.H,function(f,g){wt(c,g,f)}),o.l&&pt({},function(f,g){wt(c,g,f)})}function mg(o,c,f){f=Math.min(o.i.length,f);const g=o.l?h(o.l.Ka,o.l,o):null;t:{var C=o.i;let it=-1;for(;;){const $t=["count="+f];it==-1?f>0?(it=C[0].g,$t.push("ofs="+it)):it=0:$t.push("ofs="+it);let Tt=!0;for(let te=0;te<f;te++){var O=C[te].g;const mn=C[te].map;if(O-=it,O<0)it=Math.max(0,C[te].g-100),Tt=!1;else try{O="req"+O+"_"||"";try{var j=mn instanceof Map?mn:Object.entries(mn);for(const[sr,oi]of j){let li=oi;l(oi)&&(li=Xc(oi)),$t.push(O+sr+"="+encodeURIComponent(li))}}catch(sr){throw $t.push(O+"type="+encodeURIComponent("_badmap")),sr}}catch{g&&g(mn)}}if(Tt){j=$t.join("&");break t}}j=void 0}return o=o.i.splice(0,f),c.G=o,j}function pg(o){if(!o.g&&!o.v){o.Y=1;var c=o.Da;z||_(),B||(z(),B=!0),E.add(c,o),o.A=0}}function uh(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=ca(h(o.Da,o),_g(o,o.A)),o.A++,!0)}e.Da=function(){if(this.v=null,gg(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=ca(h(this.Wa,this),o)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),ul(this),gg(this))};function ch(o){o.B!=null&&(a.clearTimeout(o.B),o.B=null)}function gg(o){o.g=new ii(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var c=dn(o.na);wt(c,"RID","rpc"),wt(c,"SID",o.M),wt(c,"AID",o.K),wt(c,"CI",o.F?"0":"1"),!o.F&&o.ia&&wt(c,"TO",o.ia),wt(c,"TYPE","xmlhttp"),Sa(o,c),o.u&&o.o&&oh(c,o.u,o.o),o.O&&(o.g.H=o.O);var f=o.g;o=o.ba,f.M=1,f.A=al(dn(c)),f.u=null,f.R=!0,Fp(f,o)}e.Va=function(){this.C!=null&&(this.C=null,ul(this),uh(this),ve(19))};function hl(o){o.C!=null&&(a.clearTimeout(o.C),o.C=null)}function yg(o,c){var f=null;if(o.g==c){hl(o),ch(o),o.g=null;var g=2}else if(ih(o.h,c))f=c.G,$p(o.h,c),g=1;else return;if(o.I!=0){if(c.o)if(g==1){f=c.u?c.u.length:0,c=Date.now()-c.F;var C=o.D;g=il(),_e(g,new zp(g,f)),cl(o)}else pg(o);else if(C=c.m,C==3||C==0&&c.X>0||!(g==1&&MA(o,c)||g==2&&uh(o)))switch(f&&f.length>0&&(c=o.h,c.i=c.i.concat(f)),C){case 1:rr(o,5);break;case 4:rr(o,10);break;case 3:rr(o,6);break;default:rr(o,2)}}}function _g(o,c){let f=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(f*=2),f*c}function rr(o,c){if(o.j.info("Error code "+c),c==2){var f=h(o.bb,o),g=o.Ua;const C=!g;g=new ri(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ma(g,"https"),al(g),C?IA(g.toString(),f):CA(g.toString(),f)}else ve(2);o.I=0,o.l&&o.l.pa(c),vg(o),fg(o)}e.bb=function(o){o?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function vg(o){if(o.I=0,o.ja=[],o.l){const c=Wp(o.h);(c.length!=0||o.i.length!=0)&&(N(o.ja,c),N(o.ja,o.i),o.h.i.length=0,v(o.i),o.i.length=0),o.l.oa()}}function Eg(o,c,f){var g=f instanceof ri?dn(f):new ri(f);if(g.g!="")c&&(g.g=c+"."+g.g),pa(g,g.u);else{var C=a.location;g=C.protocol,c=c?c+"."+C.hostname:C.hostname,C=+C.port;const O=new ri(null);g&&ma(O,g),c&&(O.g=c),C&&pa(O,C),f&&(O.h=f),g=O}return f=o.G,c=o.wa,f&&c&&wt(g,f,c),wt(g,"VER",o.ka),Sa(o,g),g}function Tg(o,c,f){if(c&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return c=o.Aa&&!o.ma?new Ut(new ah({ab:f})):new Ut(o.ma),c.Fa(o.L),c}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sg(){}e=Sg.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function fl(){}fl.prototype.g=function(o,c){return new Ve(o,c)};function Ve(o,c){de.call(this),this.g=new hg(c),this.l=o,this.h=c&&c.messageUrlParams||null,o=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(o?o["X-WebChannel-Content-Type"]=c.messageContentType:o={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.sa&&(o?o["X-WebChannel-Client-Profile"]=c.sa:o={"X-WebChannel-Client-Profile":c.sa}),this.g.U=o,(o=c&&c.Qb)&&!S(o)&&(this.g.u=o),this.A=c&&c.supportsCrossDomainXhr||!1,this.v=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!S(c)&&(this.g.G=c,o=this.h,o!==null&&c in o&&(o=this.h,c in o&&delete o[c])),this.j=new Gr(this)}p(Ve,de),Ve.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ve.prototype.close=function(){lh(this.g)},Ve.prototype.o=function(o){var c=this.g;if(typeof o=="string"){var f={};f.__data__=o,o=f}else this.v&&(f={},f.__data__=Xc(o),o=f);c.i.push(new vA(c.Ya++,o)),c.I==3&&cl(c)},Ve.prototype.N=function(){this.g.l=null,delete this.j,lh(this.g),delete this.g,Ve.Z.N.call(this)};function Ag(o){$c.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var c=o.__sm__;if(c){t:{for(const f in c){o=f;break t}o=void 0}(this.i=o)&&(o=this.i,c=c!==null&&o in c?c[o]:void 0),this.data=c}else this.data=o}p(Ag,$c);function bg(){Wc.call(this),this.status=1}p(bg,Wc);function Gr(o){this.g=o}p(Gr,Sg),Gr.prototype.ra=function(){_e(this.g,"a")},Gr.prototype.qa=function(o){_e(this.g,new Ag(o))},Gr.prototype.pa=function(o){_e(this.g,new bg)},Gr.prototype.oa=function(){_e(this.g,"b")},fl.prototype.createWebChannel=fl.prototype.g,Ve.prototype.send=Ve.prototype.o,Ve.prototype.open=Ve.prototype.m,Ve.prototype.close=Ve.prototype.close,DT=function(){return new fl},CT=function(){return il()},IT=er,gd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},rl.NO_ERROR=0,rl.TIMEOUT=8,rl.HTTP_ERROR=6,eu=rl,jp.COMPLETE="complete",RT=jp,Up.EventType=la,la.OPEN="a",la.CLOSE="b",la.ERROR="c",la.MESSAGE="d",de.prototype.listen=de.prototype.J,La=Up,Ut.prototype.listenOnce=Ut.prototype.K,Ut.prototype.getLastError=Ut.prototype.Ha,Ut.prototype.getLastErrorCode=Ut.prototype.ya,Ut.prototype.getStatus=Ut.prototype.ca,Ut.prototype.getResponseJson=Ut.prototype.La,Ut.prototype.getResponseText=Ut.prototype.la,Ut.prototype.send=Ut.prototype.ea,Ut.prototype.setWithCredentials=Ut.prototype.Fa,wT=Ut}).apply(typeof Nl<"u"?Nl:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}pe.UNAUTHENTICATED=new pe(null),pe.GOOGLE_CREDENTIALS=new pe("google-credentials-uid"),pe.FIRST_PARTY=new pe("first-party-uid"),pe.MOCK_USER=new pe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let na="12.9.0";function gD(e){na=e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr=new Vm("@firebase/firestore");function Wr(){return xr.logLevel}function F(e,...t){if(xr.logLevel<=at.DEBUG){const n=t.map(Ym);xr.debug(`Firestore (${na}): ${e}`,...n)}}function Zn(e,...t){if(xr.logLevel<=at.ERROR){const n=t.map(Ym);xr.error(`Firestore (${na}): ${e}`,...n)}}function Nr(e,...t){if(xr.logLevel<=at.WARN){const n=t.map(Ym);xr.warn(`Firestore (${na}): ${e}`,...n)}}function Ym(e){if(typeof e=="string")return e;try{return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,xT(e,i,n)}function xT(e,t,n){let i=`FIRESTORE (${na}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Zn(i),new Error(i)}function mt(e,t,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,e||xT(t,r,i)}function J(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends ni{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class yD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(pe.UNAUTHENTICATED))}shutdown(){}}class _D{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class vD{constructor(t){this.t=t,this.currentUser=pe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){mt(this.o===void 0,42304);let i=this.i;const r=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new Er;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Er,t.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},l=u=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Er)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(mt(typeof i.accessToken=="string",31837,{l:i}),new NT(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return mt(t===null||typeof t=="string",2055,{h:t}),new pe(t)}}class ED{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=pe.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class TD{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new ED(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(pe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class C_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SD{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,on(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){mt(this.o===void 0,3512);const i=s=>{s.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,F("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new C_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(mt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new C_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=AD(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=t.charAt(r[s]%62))}return i}}function ot(e,t){return e<t?-1:e>t?1:0}function yd(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const r=e.charAt(i),s=t.charAt(i);if(r!==s)return nf(r)===nf(s)?ot(r,s):nf(r)?1:-1}return ot(e.length,t.length)}const bD=55296,wD=57343;function nf(e){const t=e.charCodeAt(0);return t>=bD&&t<=wD}function zs(e,t,n){return e.length===t.length&&e.every((i,r)=>n(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="__name__";class pn{constructor(t,n,i){n===void 0?n=0:n>t.length&&Q(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&Q(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return pn.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof pn?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let r=0;r<i;r++){const s=pn.compareSegments(t.get(r),n.get(r));if(s!==0)return s}return ot(t.length,n.length)}static compareSegments(t,n){const i=pn.isNumericId(t),r=pn.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?pn.extractNumericId(t).compare(pn.extractNumericId(n)):yd(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return zi.fromString(t.substring(4,t.length-2))}}class At extends pn{construct(t,n,i){return new At(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new q(U.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new At(n)}static emptyPath(){return new At([])}}const RD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ue extends pn{construct(t,n,i){return new ue(t,n,i)}static isValidIdentifier(t){return RD.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ue.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===D_}static keyField(){return new ue([D_])}static fromServerFormat(t){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new q(U.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;r<t.length;){const l=t[r];if(l==="\\"){if(r+1===t.length)throw new q(U.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new q(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(i+=l,r++):(s(),r++)}if(s(),a)throw new q(U.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ue(n)}static emptyPath(){return new ue([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(t){this.path=t}static fromPath(t){return new G(At.fromString(t))}static fromName(t){return new G(At.fromString(t).popFirst(5))}static empty(){return new G(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&At.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return At.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new G(new At(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(e,t,n){if(!n)throw new q(U.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function ID(e,t,n,i){if(t===!0&&i===!0)throw new q(U.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function x_(e){if(!G.isDocumentKey(e))throw new q(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function N_(e){if(G.isDocumentKey(e))throw new q(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function MT(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function wc(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Q(12329,{type:typeof e})}function Gn(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new q(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wc(e);throw new q(U.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(e,t){const n={typeString:e};return t&&(n.value=t),n}function $o(e,t){if(!MT(e))throw new q(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in t)if(t[i]){const r=t[i].typeString,s="value"in t[i]?{value:t[i].value}:void 0;if(!(i in e)){n=`JSON missing required field: '${i}'`;break}const a=e[i];if(r&&typeof a!==r){n=`JSON field '${i}' must be a ${r}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${i}' field to equal '${s.value}'`;break}}if(n)throw new q(U.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_=-62135596800,M_=1e6;class Ct{static now(){return Ct.fromMillis(Date.now())}static fromDate(t){return Ct.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*M_);return new Ct(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<O_)throw new q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/M_}_compareTo(t){return this.seconds===t.seconds?ot(this.nanoseconds,t.nanoseconds):ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if($o(t,Ct._jsonSchema))return new Ct(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-O_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ct._jsonSchemaVersion="firestore/timestamp/1.0",Ct._jsonSchema={type:Yt("string",Ct._jsonSchemaVersion),seconds:Yt("number"),nanoseconds:Yt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{static fromTimestamp(t){return new W(t)}static min(){return new W(new Ct(0,0))}static max(){return new W(new Ct(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro=-1;function CD(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=W.fromTimestamp(i===1e9?new Ct(n+1,0):new Ct(n,i));return new Gi(r,G.empty(),t)}function DD(e){return new Gi(e.readTime,e.key,Ro)}class Gi{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new Gi(W.min(),G.empty(),Ro)}static max(){return new Gi(W.max(),G.empty(),Ro)}}function xD(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=G.comparator(e.documentKey,t.documentKey),n!==0?n:ot(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ia(e){if(e.code!==U.FAILED_PRECONDITION||e.message!==ND)throw e;F("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new k((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof k?n:k.resolve(n)}catch(n){return k.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):k.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):k.reject(n)}static resolve(t){return new k((n,i)=>{n(t)})}static reject(t){return new k((n,i)=>{i(t)})}static waitFor(t){return new k((n,i)=>{let r=0,s=0,a=!1;t.forEach(l=>{++r,l.next(()=>{++s,a&&s===r&&n()},u=>i(u))}),a=!0,s===r&&n()})}static or(t){let n=k.resolve(!1);for(const i of t)n=n.next(r=>r?k.resolve(r):i());return n}static forEach(t,n){const i=[];return t.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(t,n){return new k((i,r)=>{const s=t.length,a=new Array(s);let l=0;for(let u=0;u<s;u++){const h=u;n(t[h]).next(d=>{a[h]=d,++l,l===s&&i(a)},d=>r(d))}})}static doWhile(t,n){return new k((i,r)=>{const s=()=>{t()===!0?n().next(()=>{s()},r):i()};s()})}}function MD(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ra(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Rc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm=-1;function Ic(e){return e==null}function Gu(e){return e===0&&1/e==-1/0}function VD(e){return typeof e=="number"&&Number.isInteger(e)&&!Gu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="";function UD(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=V_(t)),t=LD(e.get(n),t);return V_(t)}function LD(e,t){let n=t;const i=e.length;for(let r=0;r<i;r++){const s=e.charAt(r);switch(s){case"\0":n+="";break;case VT:n+="";break;default:n+=s}}return n}function V_(e){return e+VT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Zi(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function UT(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(t,n){this.comparator=t,this.root=n||ae.EMPTY}insert(t,n){return new Ot(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ae.BLACK,null,null))}remove(t){return new Ot(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ae.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ol(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ol(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ol(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ol(this.root,t,this.comparator,!0)}}class Ol{constructor(t,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?i(t.key,n):1,n&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ae{constructor(t,n,i,r,s){this.key=t,this.value=n,this.color=i??ae.RED,this.left=r??ae.EMPTY,this.right=s??ae.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,r,s){return new ae(t??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(t,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ae.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(t,r.key)===0){if(r.right.isEmpty())return ae.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ae.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ae.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Q(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Q(27949);return t+(this.isRed()?0:1)}}ae.EMPTY=null,ae.RED=!0,ae.BLACK=!1;ae.EMPTY=new class{constructor(){this.size=0}get key(){throw Q(57766)}get value(){throw Q(16141)}get color(){throw Q(16727)}get left(){throw Q(29726)}get right(){throw Q(36894)}copy(t,n,i,r,s){return this}insert(t,n,i){return new ae(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(t){this.comparator=t,this.data=new Ot(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;n(r.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new L_(this.data.getIterator())}getIteratorFrom(t){return new L_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof Jt)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Jt(this.comparator);return n.data=t,n}}class L_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(t){this.fields=t,t.sort(ue.comparator)}static empty(){return new ze([])}unionWith(t){let n=new Jt(ue.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new ze(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return zs(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new LT("Invalid base64 string: "+s):s}}(t);return new fe(n)}static fromUint8Array(t){const n=function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s}(t);return new fe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}fe.EMPTY_BYTE_STRING=new fe("");const kD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qi(e){if(mt(!!e,39018),typeof e=="string"){let t=0;const n=kD.exec(e);if(mt(!!n,46558,{timestamp:e}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Pt(e.seconds),nanos:Pt(e.nanos)}}function Pt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Yi(e){return typeof e=="string"?fe.fromBase64String(e):fe.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="server_timestamp",PT="__type__",zT="__previous_value__",jT="__local_write_time__";function $m(e){var n,i;return((i=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[PT])==null?void 0:i.stringValue)===kT}function Cc(e){const t=e.mapValue.fields[zT];return $m(t)?Cc(t):t}function Io(e){const t=Qi(e.mapValue.fields[jT].timestampValue);return new Ct(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(t,n,i,r,s,a,l,u,h,d,p){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=d,this.apiKey=p}}const Qu="(default)";class Co{constructor(t,n){this.projectId=t,this.database=n||Qu}static empty(){return new Co("","")}get isDefaultDatabase(){return this.database===Qu}isEqual(t){return t instanceof Co&&t.projectId===this.projectId&&t.database===this.database}}function zD(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new q(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Co(e.options.projectId,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="__type__",qT="__max__",Ml={mapValue:{fields:{__type__:{stringValue:qT}}}},HT="__vector__",Yu="value";function Ki(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?$m(e)?4:BD(e)?9007199254740991:jD(e)?10:11:Q(28295,{value:e})}function wn(e,t){if(e===t)return!0;const n=Ki(e);if(n!==Ki(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Io(e).isEqual(Io(t));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const a=Qi(r.timestampValue),l=Qi(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,s){return Yi(r.bytesValue).isEqual(Yi(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,s){return Pt(r.geoPointValue.latitude)===Pt(s.geoPointValue.latitude)&&Pt(r.geoPointValue.longitude)===Pt(s.geoPointValue.longitude)}(e,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Pt(r.integerValue)===Pt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const a=Pt(r.doubleValue),l=Pt(s.doubleValue);return a===l?Gu(a)===Gu(l):isNaN(a)&&isNaN(l)}return!1}(e,t);case 9:return zs(e.arrayValue.values||[],t.arrayValue.values||[],wn);case 10:case 11:return function(r,s){const a=r.mapValue.fields||{},l=s.mapValue.fields||{};if(U_(a)!==U_(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!wn(a[u],l[u])))return!1;return!0}(e,t);default:return Q(52216,{left:e})}}function Do(e,t){return(e.values||[]).find(n=>wn(n,t))!==void 0}function js(e,t){if(e===t)return 0;const n=Ki(e),i=Ki(t);if(n!==i)return ot(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ot(e.booleanValue,t.booleanValue);case 2:return function(s,a){const l=Pt(s.integerValue||s.doubleValue),u=Pt(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(e,t);case 3:return k_(e.timestampValue,t.timestampValue);case 4:return k_(Io(e),Io(t));case 5:return yd(e.stringValue,t.stringValue);case 6:return function(s,a){const l=Yi(s),u=Yi(a);return l.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(s,a){const l=s.split("/"),u=a.split("/");for(let h=0;h<l.length&&h<u.length;h++){const d=ot(l[h],u[h]);if(d!==0)return d}return ot(l.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,a){const l=ot(Pt(s.latitude),Pt(a.latitude));return l!==0?l:ot(Pt(s.longitude),Pt(a.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return P_(e.arrayValue,t.arrayValue);case 10:return function(s,a){var m,v,N,V;const l=s.fields||{},u=a.fields||{},h=(m=l[Yu])==null?void 0:m.arrayValue,d=(v=u[Yu])==null?void 0:v.arrayValue,p=ot(((N=h==null?void 0:h.values)==null?void 0:N.length)||0,((V=d==null?void 0:d.values)==null?void 0:V.length)||0);return p!==0?p:P_(h,d)}(e.mapValue,t.mapValue);case 11:return function(s,a){if(s===Ml.mapValue&&a===Ml.mapValue)return 0;if(s===Ml.mapValue)return 1;if(a===Ml.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),h=a.fields||{},d=Object.keys(h);u.sort(),d.sort();for(let p=0;p<u.length&&p<d.length;++p){const m=yd(u[p],d[p]);if(m!==0)return m;const v=js(l[u[p]],h[d[p]]);if(v!==0)return v}return ot(u.length,d.length)}(e.mapValue,t.mapValue);default:throw Q(23264,{he:n})}}function k_(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ot(e,t);const n=Qi(e),i=Qi(t),r=ot(n.seconds,i.seconds);return r!==0?r:ot(n.nanos,i.nanos)}function P_(e,t){const n=e.values||[],i=t.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=js(n[r],i[r]);if(s)return s}return ot(n.length,i.length)}function Bs(e){return _d(e)}function _d(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=Qi(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Yi(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return G.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=_d(s);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const a of i)s?s=!1:r+=",",r+=`${a}:${_d(n.fields[a])}`;return r+"}"}(e.mapValue):Q(61005,{value:e})}function nu(e){switch(Ki(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Cc(e);return t?16+nu(t):16;case 5:return 2*e.stringValue.length;case 6:return Yi(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+nu(s),0)}(e.arrayValue);case 10:case 11:return function(i){let r=0;return Zi(i.fields,(s,a)=>{r+=s.length+nu(a)}),r}(e.mapValue);default:throw Q(13486,{value:e})}}function z_(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function vd(e){return!!e&&"integerValue"in e}function Wm(e){return!!e&&"arrayValue"in e}function j_(e){return!!e&&"nullValue"in e}function B_(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function iu(e){return!!e&&"mapValue"in e}function jD(e){var n,i;return((i=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[BT])==null?void 0:i.stringValue)===HT}function io(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Zi(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=io(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=io(e.arrayValue.values[n]);return t}return{...e}}function BD(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===qT}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(t){this.value=t}static empty(){return new De({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!iu(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=io(n)}setAll(t){let n=ue.emptyPath(),i={},r=[];t.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,i,r),i={},r=[],n=l.popLast()}a?i[l.lastSegment()]=io(a):r.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(t){const n=this.field(t.popLast());iu(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return wn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=n.mapValue.fields[t.get(i)];iu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(t,n,i){Zi(n,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new De(io(this.value))}}function FT(e){const t=[];return Zi(e.fields,(n,i)=>{const r=new ue([n]);if(iu(i)){const s=FT(i.mapValue).fields;if(s.length===0)t.push(r);else for(const a of s)t.push(r.child(a))}else t.push(r)}),new ze(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(t,n,i,r,s,a,l){this.key=t,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(t){return new ge(t,0,W.min(),W.min(),W.min(),De.empty(),0)}static newFoundDocument(t,n,i,r){return new ge(t,1,n,W.min(),i,r,0)}static newNoDocument(t,n){return new ge(t,2,n,W.min(),W.min(),De.empty(),0)}static newUnknownDocument(t,n){return new ge(t,3,n,W.min(),W.min(),De.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(W.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=De.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=De.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=W.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ge&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ge(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(t,n){this.position=t,this.inclusive=n}}function q_(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const s=t[r],a=e.position[r];if(s.field.isKeyField()?i=G.comparator(G.fromName(a.referenceValue),n.key):i=js(a,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function H_(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!wn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(t,n="asc"){this.field=t,this.dir=n}}function qD(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{}class Gt extends GT{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new FD(t,n,i):n==="array-contains"?new YD(t,i):n==="in"?new KD(t,i):n==="not-in"?new XD(t,i):n==="array-contains-any"?new $D(t,i):new Gt(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new GD(t,i):new QD(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(js(n,this.value)):n!==null&&Ki(this.value)===Ki(n)&&this.matchesComparison(js(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hn extends GT{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new hn(t,n)}matches(t){return QT(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function QT(e){return e.op==="and"}function YT(e){return HD(e)&&QT(e)}function HD(e){for(const t of e.filters)if(t instanceof hn)return!1;return!0}function Ed(e){if(e instanceof Gt)return e.field.canonicalString()+e.op.toString()+Bs(e.value);if(YT(e))return e.filters.map(t=>Ed(t)).join(",");{const t=e.filters.map(n=>Ed(n)).join(",");return`${e.op}(${t})`}}function KT(e,t){return e instanceof Gt?function(i,r){return r instanceof Gt&&i.op===r.op&&i.field.isEqual(r.field)&&wn(i.value,r.value)}(e,t):e instanceof hn?function(i,r){return r instanceof hn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,a,l)=>s&&KT(a,r.filters[l]),!0):!1}(e,t):void Q(19439)}function XT(e){return e instanceof Gt?function(n){return`${n.field.canonicalString()} ${n.op} ${Bs(n.value)}`}(e):e instanceof hn?function(n){return n.op.toString()+" {"+n.getFilters().map(XT).join(" ,")+"}"}(e):"Filter"}class FD extends Gt{constructor(t,n,i){super(t,n,i),this.key=G.fromName(i.referenceValue)}matches(t){const n=G.comparator(t.key,this.key);return this.matchesComparison(n)}}class GD extends Gt{constructor(t,n){super(t,"in",n),this.keys=$T("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class QD extends Gt{constructor(t,n){super(t,"not-in",n),this.keys=$T("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function $T(e,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map(i=>G.fromName(i.referenceValue))}class YD extends Gt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Wm(n)&&Do(n.arrayValue,this.value)}}class KD extends Gt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Do(this.value.arrayValue,n)}}class XD extends Gt{constructor(t,n){super(t,"not-in",n)}matches(t){if(Do(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Do(this.value.arrayValue,n)}}class $D extends Gt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Wm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Do(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(t,n=null,i=[],r=[],s=null,a=null,l=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=l,this.Te=null}}function F_(e,t=null,n=[],i=[],r=null,s=null,a=null){return new WD(e,t,n,i,r,s,a)}function Jm(e){const t=J(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>Ed(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Ic(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Bs(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Bs(i)).join(",")),t.Te=n}return t.Te}function Zm(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!qD(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!KT(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!H_(e.startAt,t.startAt)&&H_(e.endAt,t.endAt)}function Td(e){return G.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(t,n=null,i=[],r=[],s=null,a="F",l=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function JD(e,t,n,i,r,s,a,l){return new sa(e,t,n,i,r,s,a,l)}function tp(e){return new sa(e)}function G_(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function ZD(e){return G.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function WT(e){return e.collectionGroup!==null}function ro(e){const t=J(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const s of t.explicitOrderBy)t.Ie.push(s),n.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Jt(ue.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.Ie.push(new xo(s,i))}),n.has(ue.keyField().canonicalString())||t.Ie.push(new xo(ue.keyField(),i))}return t.Ie}function Tn(e){const t=J(e);return t.Ee||(t.Ee=tx(t,ro(e))),t.Ee}function tx(e,t){if(e.limitType==="F")return F_(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new xo(r.field,s)});const n=e.endAt?new Ku(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Ku(e.startAt.position,e.startAt.inclusive):null;return F_(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function Sd(e,t){const n=e.filters.concat([t]);return new sa(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function ex(e,t){const n=e.explicitOrderBy.concat([t]);return new sa(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}function Ad(e,t,n){return new sa(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Dc(e,t){return Zm(Tn(e),Tn(t))&&e.limitType===t.limitType}function JT(e){return`${Jm(Tn(e))}|lt:${e.limitType}`}function Jr(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>XT(r)).join(", ")}]`),Ic(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>Bs(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>Bs(r)).join(",")),`Target(${i})`}(Tn(e))}; limitType=${e.limitType})`}function xc(e,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):G.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(e,t)&&function(i,r){for(const s of ro(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(e,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(e,t)&&function(i,r){return!(i.startAt&&!function(a,l,u){const h=q_(a,l,u);return a.inclusive?h<=0:h<0}(i.startAt,ro(i),r)||i.endAt&&!function(a,l,u){const h=q_(a,l,u);return a.inclusive?h>=0:h>0}(i.endAt,ro(i),r))}(e,t)}function nx(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ZT(e){return(t,n)=>{let i=!1;for(const r of ro(e)){const s=ix(r,t,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function ix(e,t,n){const i=e.field.isKeyField()?G.comparator(t.key,n.key):function(s,a,l){const u=a.data.field(s),h=l.data.field(s);return u!==null&&h!==null?js(u,h):Q(42886)}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Q(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,n]);r.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Zi(this.inner,(n,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return UT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx=new Ot(G.comparator);function ti(){return rx}const tS=new Ot(G.comparator);function ka(...e){let t=tS;for(const n of e)t=t.insert(n.key,n);return t}function eS(e){let t=tS;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function dr(){return so()}function nS(){return so()}function so(){return new zr(e=>e.toString(),(e,t)=>e.isEqual(t))}const sx=new Ot(G.comparator),ax=new Jt(G.comparator);function lt(...e){let t=ax;for(const n of e)t=t.add(n);return t}const ox=new Jt(ot);function lx(){return ox}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gu(t)?"-0":t}}function iS(e){return{integerValue:""+e}}function ux(e,t){return VD(t)?iS(t):ep(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(){this._=void 0}}function cx(e,t,n){return e instanceof Xu?function(r,s){const a={fields:{[PT]:{stringValue:kT},[jT]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&$m(s)&&(s=Cc(s)),s&&(a.fields[zT]=s),{mapValue:a}}(n,t):e instanceof No?sS(e,t):e instanceof Oo?aS(e,t):function(r,s){const a=rS(r,s),l=Q_(a)+Q_(r.Ae);return vd(a)&&vd(r.Ae)?iS(l):ep(r.serializer,l)}(e,t)}function hx(e,t,n){return e instanceof No?sS(e,t):e instanceof Oo?aS(e,t):n}function rS(e,t){return e instanceof $u?function(i){return vd(i)||function(s){return!!s&&"doubleValue"in s}(i)}(t)?t:{integerValue:0}:null}class Xu extends Nc{}class No extends Nc{constructor(t){super(),this.elements=t}}function sS(e,t){const n=oS(t);for(const i of e.elements)n.some(r=>wn(r,i))||n.push(i);return{arrayValue:{values:n}}}class Oo extends Nc{constructor(t){super(),this.elements=t}}function aS(e,t){let n=oS(t);for(const i of e.elements)n=n.filter(r=>!wn(r,i));return{arrayValue:{values:n}}}class $u extends Nc{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function Q_(e){return Pt(e.integerValue||e.doubleValue)}function oS(e){return Wm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function fx(e,t){return e.field.isEqual(t.field)&&function(i,r){return i instanceof No&&r instanceof No||i instanceof Oo&&r instanceof Oo?zs(i.elements,r.elements,wn):i instanceof $u&&r instanceof $u?wn(i.Ae,r.Ae):i instanceof Xu&&r instanceof Xu}(e.transform,t.transform)}class dx{constructor(t,n){this.version=t,this.transformResults=n}}class Ne{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Ne}static exists(t){return new Ne(void 0,t)}static updateTime(t){return new Ne(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ru(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Oc{}function lS(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Mc(e.key,Ne.none()):new Wo(e.key,e.data,Ne.none());{const n=e.data,i=De.empty();let r=new Jt(ue.comparator);for(let s of t.fields)if(!r.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?i.delete(s):i.set(s,a),r=r.add(s)}return new tr(e.key,i,new ze(r.toArray()),Ne.none())}}function mx(e,t,n){e instanceof Wo?function(r,s,a){const l=r.value.clone(),u=K_(r.fieldTransforms,s,a.transformResults);l.setAll(u),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(e,t,n):e instanceof tr?function(r,s,a){if(!ru(r.precondition,s))return void s.convertToUnknownDocument(a.version);const l=K_(r.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(uS(r)),u.setAll(l),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(e,t,n):function(r,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,n)}function ao(e,t,n,i){return e instanceof Wo?function(s,a,l,u){if(!ru(s.precondition,a))return l;const h=s.value.clone(),d=X_(s.fieldTransforms,u,a);return h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(e,t,n,i):e instanceof tr?function(s,a,l,u){if(!ru(s.precondition,a))return l;const h=X_(s.fieldTransforms,u,a),d=a.data;return d.setAll(uS(s)),d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(e,t,n,i):function(s,a,l){return ru(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(e,t,n)}function px(e,t){let n=null;for(const i of e.fieldTransforms){const r=t.data.field(i.field),s=rS(i.transform,r||null);s!=null&&(n===null&&(n=De.empty()),n.set(i.field,s))}return n||null}function Y_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&zs(i,r,(s,a)=>fx(s,a))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Wo extends Oc{constructor(t,n,i,r=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class tr extends Oc{constructor(t,n,i,r,s=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function uS(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function K_(e,t,n){const i=new Map;mt(e.length===n.length,32656,{Ve:n.length,de:e.length});for(let r=0;r<n.length;r++){const s=e[r],a=s.transform,l=t.data.field(s.field);i.set(s.field,hx(a,l,n[r]))}return i}function X_(e,t,n){const i=new Map;for(const r of e){const s=r.transform,a=n.data.field(r.field);i.set(r.field,cx(s,a,t))}return i}class Mc extends Oc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gx extends Oc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(t,n,i,r){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&mx(s,t,i[r])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=ao(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=ao(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=nS();return this.mutations.forEach(r=>{const s=t.get(r.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(r.key)?null:l;const u=lS(a,l);u!==null&&i.set(r.key,u),a.isValidDocument()||a.convertToNoDocument(W.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),lt())}isEqual(t){return this.batchId===t.batchId&&zs(this.mutations,t.mutations,(n,i)=>Y_(n,i))&&zs(this.baseMutations,t.baseMutations,(n,i)=>Y_(n,i))}}class np{constructor(t,n,i,r){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(t,n,i){mt(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let r=function(){return sx}();const s=t.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new np(t,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt,ht;function Ex(e){switch(e){case U.OK:return Q(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return Q(15467,{code:e})}}function cS(e){if(e===void 0)return Zn("GRPC error has no .code"),U.UNKNOWN;switch(e){case Bt.OK:return U.OK;case Bt.CANCELLED:return U.CANCELLED;case Bt.UNKNOWN:return U.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return U.INTERNAL;case Bt.UNAVAILABLE:return U.UNAVAILABLE;case Bt.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Bt.NOT_FOUND:return U.NOT_FOUND;case Bt.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Bt.ABORTED:return U.ABORTED;case Bt.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Bt.DATA_LOSS:return U.DATA_LOSS;default:return Q(39323,{code:e})}}(ht=Bt||(Bt={}))[ht.OK=0]="OK",ht[ht.CANCELLED=1]="CANCELLED",ht[ht.UNKNOWN=2]="UNKNOWN",ht[ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ht[ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ht[ht.NOT_FOUND=5]="NOT_FOUND",ht[ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",ht[ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",ht[ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",ht[ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ht[ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ht[ht.ABORTED=10]="ABORTED",ht[ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",ht[ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",ht[ht.INTERNAL=13]="INTERNAL",ht[ht.UNAVAILABLE=14]="UNAVAILABLE",ht[ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx=new zi([4294967295,4294967295],0);function $_(e){const t=Tx().encode(e),n=new bT;return n.update(t),new Uint8Array(n.digest())}function W_(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new zi([n,i],0),new zi([r,s],0)]}class ip{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Pa(`Invalid padding: ${n}`);if(i<0)throw new Pa(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Pa(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new Pa(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=zi.fromNumber(this.ge)}ye(t,n,i){let r=t.add(n.multiply(zi.fromNumber(i)));return r.compare(Sx)===1&&(r=new zi([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=$_(t),[i,r]=W_(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(i,r,s);if(!this.we(a))return!1}return!0}static create(t,n,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),a=new ip(s,r,n);return i.forEach(l=>a.insert(l)),a}insert(t){if(this.ge===0)return;const n=$_(t),[i,r]=W_(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(i,r,s);this.be(a)}}be(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class Pa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(t,n,i,r,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const r=new Map;return r.set(t,Jo.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new Vc(W.min(),r,new Ot(ot),ti(),lt())}}class Jo{constructor(t,n,i,r,s){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new Jo(i,n,lt(),lt(),lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(t,n,i,r){this.Se=t,this.removedTargetIds=n,this.key=i,this.De=r}}class hS{constructor(t,n){this.targetId=t,this.Ce=n}}class fS{constructor(t,n,i=fe.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=r}}class J_{constructor(){this.ve=0,this.Fe=Z_(),this.Me=fe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=lt(),n=lt(),i=lt();return this.Fe.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:Q(38017,{changeType:s})}}),new Jo(this.Me,this.xe,t,n,i)}Ke(){this.Oe=!1,this.Fe=Z_()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,mt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Ax{constructor(t){this.Ge=t,this.ze=new Map,this.je=ti(),this.He=Vl(),this.Je=Vl(),this.Ze=new Ot(ot)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const i=this.nt(n);switch(t.state){case 0:this.rt(n)&&i.Le(t.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(t.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(t.resumeToken));break;default:Q(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((i,r)=>{this.rt(r)&&n(r)})}st(t){const n=t.targetId,i=t.Ce.count,r=this.ot(n);if(r){const s=r.target;if(Td(s))if(i===0){const a=new G(s.path);this.et(n,a,ge.newNoDocument(a,W.min()))}else mt(i===1,20013,{expectedCount:i});else{const a=this._t(n);if(a!==i){const l=this.ut(t),u=l?this.ct(l,t,a):1;if(u!==0){this.it(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let a,l;try{a=Yi(i).toUint8Array()}catch(u){if(u instanceof LT)return Nr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new ip(a,r,s)}catch(u){return Nr(u instanceof Pa?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(t,n,i){return n.Ce.count===i-this.Pt(t,n.targetId)?0:2}Pt(t,n){const i=this.Ge.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;t.mightContain(l)||(this.et(n,s,null),r++)}),r}Tt(t){const n=new Map;this.ze.forEach((s,a)=>{const l=this.ot(a);if(l){if(s.current&&Td(l.target)){const u=new G(l.target.path);this.It(u).has(a)||this.Et(a,u)||this.et(a,u,ge.newNoDocument(u,t))}s.Be&&(n.set(a,s.ke()),s.Ke())}});let i=lt();this.Je.forEach((s,a)=>{let l=!0;a.forEachWhile(u=>{const h=this.ot(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(s))}),this.je.forEach((s,a)=>a.setReadTime(t));const r=new Vc(t,n,this.Ze,this.je,i);return this.je=ti(),this.He=Vl(),this.Je=Vl(),this.Ze=new Ot(ot),r}Ye(t,n){if(!this.rt(t))return;const i=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,i){if(!this.rt(t))return;const r=this.nt(t);this.Et(t,n)?r.qe(n,1):r.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),i&&(this.je=this.je.insert(n,i))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new J_,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new Jt(ot),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new Jt(ot),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||F("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new J_),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Vl(){return new Ot(G.comparator)}function Z_(){return new Ot(G.comparator)}const bx=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),wx=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Rx=(()=>({and:"AND",or:"OR"}))();class Ix{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function bd(e,t){return e.useProto3Json||Ic(t)?t:{value:t}}function Wu(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function dS(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Cx(e,t){return Wu(e,t.toTimestamp())}function Sn(e){return mt(!!e,49232),W.fromTimestamp(function(n){const i=Qi(n);return new Ct(i.seconds,i.nanos)}(e))}function rp(e,t){return wd(e,t).canonicalString()}function wd(e,t){const n=function(r){return new At(["projects",r.projectId,"databases",r.database])}(e).child("documents");return t===void 0?n:n.child(t)}function mS(e){const t=At.fromString(e);return mt(vS(t),10190,{key:t.toString()}),t}function Rd(e,t){return rp(e.databaseId,t.path)}function rf(e,t){const n=mS(t);if(n.get(1)!==e.databaseId.projectId)throw new q(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new q(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new G(gS(n))}function pS(e,t){return rp(e.databaseId,t)}function Dx(e){const t=mS(e);return t.length===4?At.emptyPath():gS(t)}function Id(e){return new At(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function gS(e){return mt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function t0(e,t,n){return{name:Rd(e,t),fields:n.value.mapValue.fields}}function xx(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Q(39313,{state:h})}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(h,d){return h.useProto3Json?(mt(d===void 0||typeof d=="string",58123),fe.fromBase64String(d||"")):(mt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),fe.fromUint8Array(d||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,l=a&&function(h){const d=h.code===void 0?U.UNKNOWN:cS(h.code);return new q(d,h.message||"")}(a);n=new fS(i,r,s,l||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=rf(e,i.document.name),s=Sn(i.document.updateTime),a=i.document.createTime?Sn(i.document.createTime):W.min(),l=new De({mapValue:{fields:i.document.fields}}),u=ge.newFoundDocument(r,s,a,l),h=i.targetIds||[],d=i.removedTargetIds||[];n=new su(h,d,u.key,u)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=rf(e,i.document),s=i.readTime?Sn(i.readTime):W.min(),a=ge.newNoDocument(r,s),l=i.removedTargetIds||[];n=new su([],l,a.key,a)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=rf(e,i.document),s=i.removedTargetIds||[];n=new su([],s,r,null)}else{if(!("filter"in t))return Q(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,a=new vx(r,s),l=i.targetId;n=new hS(l,a)}}return n}function Nx(e,t){let n;if(t instanceof Wo)n={update:t0(e,t.key,t.value)};else if(t instanceof Mc)n={delete:Rd(e,t.key)};else if(t instanceof tr)n={update:t0(e,t.key,t.data),updateMask:jx(t.fieldMask)};else{if(!(t instanceof gx))return Q(16599,{dt:t.type});n={verify:Rd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(s,a){const l=a.transform;if(l instanceof Xu)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof No)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Oo)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof $u)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw Q(20930,{transform:a.transform})}(0,i))),t.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:Cx(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Q(27497)}(e,t.precondition)),n}function Ox(e,t){return e&&e.length>0?(mt(t!==void 0,14353),e.map(n=>function(r,s){let a=r.updateTime?Sn(r.updateTime):Sn(s);return a.isEqual(W.min())&&(a=Sn(s)),new dx(a,r.transformResults||[])}(n,t))):[]}function Mx(e,t){return{documents:[pS(e,t.path)]}}function Vx(e,t){const n={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=pS(e,r);const s=function(h){if(h.length!==0)return _S(hn.create(h,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(h){if(h.length!==0)return h.map(d=>function(m){return{field:Zr(m.field),direction:kx(m.dir)}}(d))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const l=bd(e,t.limit);return l!==null&&(n.structuredQuery.limit=l),t.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(t.endAt)),{ft:n,parent:r}}function Ux(e){let t=Dx(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){mt(i===1,65062);const d=n.from[0];d.allDescendants?r=d.collectionId:t=t.child(d.collectionId)}let s=[];n.where&&(s=function(p){const m=yS(p);return m instanceof hn&&YT(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(p){return p.map(m=>function(N){return new xo(ts(N.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(p){let m;return m=typeof p=="object"?p.value:p,Ic(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){const m=!!p.before,v=p.values||[];return new Ku(v,m)}(n.startAt));let h=null;return n.endAt&&(h=function(p){const m=!p.before,v=p.values||[];return new Ku(v,m)}(n.endAt)),JD(t,r,a,s,l,"F",u,h)}function Lx(e,t){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q(28987,{purpose:r})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function yS(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=ts(n.unaryFilter.field);return Gt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=ts(n.unaryFilter.field);return Gt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ts(n.unaryFilter.field);return Gt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=ts(n.unaryFilter.field);return Gt.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Q(61313);default:return Q(60726)}}(e):e.fieldFilter!==void 0?function(n){return Gt.create(ts(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Q(58110);default:return Q(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return hn.create(n.compositeFilter.filters.map(i=>yS(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Q(1026)}}(n.compositeFilter.op))}(e):Q(30097,{filter:e})}function kx(e){return bx[e]}function Px(e){return wx[e]}function zx(e){return Rx[e]}function Zr(e){return{fieldPath:e.canonicalString()}}function ts(e){return ue.fromServerFormat(e.fieldPath)}function _S(e){return e instanceof Gt?function(n){if(n.op==="=="){if(B_(n.value))return{unaryFilter:{field:Zr(n.field),op:"IS_NAN"}};if(j_(n.value))return{unaryFilter:{field:Zr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(B_(n.value))return{unaryFilter:{field:Zr(n.field),op:"IS_NOT_NAN"}};if(j_(n.value))return{unaryFilter:{field:Zr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zr(n.field),op:Px(n.op),value:n.value}}}(e):e instanceof hn?function(n){const i=n.getFilters().map(r=>_S(r));return i.length===1?i[0]:{compositeFilter:{op:zx(n.op),filters:i}}}(e):Q(54877,{filter:e})}function jx(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function vS(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}function ES(e){return!!e&&typeof e._toProto=="function"&&e._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(t,n,i,r,s=W.min(),a=W.min(),l=fe.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(t){return new Ri(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(t){this.yt=t}}function qx(e){const t=Ux({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Ad(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(){this.Sn=new Fx}addToCollectionParentIndex(t,n){return this.Sn.add(n),k.resolve()}getCollectionParents(t,n){return k.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return k.resolve()}deleteFieldIndex(t,n){return k.resolve()}deleteAllFieldIndexes(t){return k.resolve()}createTargetIndexes(t,n){return k.resolve()}getDocumentsMatchingTarget(t,n){return k.resolve(null)}getIndexType(t,n){return k.resolve(0)}getFieldIndexes(t,n){return k.resolve([])}getNextCollectionGroupToUpdate(t){return k.resolve(null)}getMinOffset(t,n){return k.resolve(Gi.min())}getMinOffsetFromCollectionGroup(t,n){return k.resolve(Gi.min())}updateCollectionGroup(t,n,i){return k.resolve()}updateIndexEntries(t,n){return k.resolve()}}class Fx{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n]||new Jt(At.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Jt(At.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},TS=41943040;class Ce{static withCacheSize(t){return new Ce(t,Ce.DEFAULT_COLLECTION_PERCENTILE,Ce.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ce.DEFAULT_COLLECTION_PERCENTILE=10,Ce.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ce.DEFAULT=new Ce(TS,Ce.DEFAULT_COLLECTION_PERCENTILE,Ce.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ce.DISABLED=new Ce(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new qs(0)}static ar(){return new qs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="LruGarbageCollector",Gx=1048576;function i0([e,t],[n,i]){const r=ot(e,n);return r===0?ot(t,i):r}class Qx{constructor(t){this.Pr=t,this.buffer=new Jt(i0),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();i0(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Yx{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){F(n0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ra(n)?F(n0,"Ignoring IndexedDB error during garbage collection: ",n):await ia(n)}await this.Ar(3e5)})}}class Kx{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return k.resolve(Rc.ce);const i=new Qx(n);return this.Vr.forEachTarget(t,r=>i.Er(r.sequenceNumber)).next(()=>this.Vr.mr(t,r=>i.Er(r))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.Vr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(F("LruGarbageCollector","Garbage collection skipped; disabled"),k.resolve(e0)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(F("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),e0):this.gr(t,n))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let i,r,s,a,l,u,h;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(F("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),r=this.params.maximumSequenceNumbersToCollect):r=p,a=Date.now(),this.nthSequenceNumber(t,r))).next(p=>(i=p,l=Date.now(),this.removeTargets(t,i,n))).next(p=>(s=p,u=Date.now(),this.removeOrphanedDocuments(t,i))).next(p=>(h=Date.now(),Wr()<=at.DEBUG&&F("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${r} in `+(l-a)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(h-u)+`ms
Total Duration: ${h-d}ms`),k.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:p})))}}function Xx(e,t){return new Kx(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(){this.changes=new zr(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ge.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?k.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(t,n,i,r){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,n))).next(r=>(i!==null&&ao(i.mutation,r,ze.empty(),Ct.now()),r))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,lt()).next(()=>i))}getLocalViewOfDocuments(t,n,i=lt()){const r=dr();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,i).next(s=>{let a=ka();return s.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(t,n){const i=dr();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,lt()))}populateOverlays(t,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((a,l)=>{n.set(a,l)})})}computeViews(t,n,i,r){let s=ti();const a=so(),l=function(){return so()}();return n.forEach((u,h)=>{const d=i.get(h.key);r.has(h.key)&&(d===void 0||d.mutation instanceof tr)?s=s.insert(h.key,h):d!==void 0?(a.set(h.key,d.mutation.getFieldMask()),ao(d.mutation,h,d.mutation.getFieldMask(),Ct.now())):a.set(h.key,ze.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((h,d)=>a.set(h,d)),n.forEach((h,d)=>l.set(h,new Wx(d,a.get(h)??null))),l))}recalculateAndSaveOverlays(t,n){const i=so();let r=new Ot((a,l)=>a-l),s=lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let d=i.get(u)||ze.empty();d=l.applyToLocalView(h,d),i.set(u,d);const p=(r.get(l.batchId)||lt()).add(u);r=r.insert(l.batchId,p)})}).next(()=>{const a=[],l=r.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,d=u.value,p=nS();d.forEach(m=>{if(!s.has(m)){const v=lS(n.get(m),i.get(m));v!==null&&p.set(m,v),s=s.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(t,h,p))}return k.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,r){return ZD(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):WT(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,r):this.getDocumentsMatchingCollectionQuery(t,n,i,r)}getNextDocuments(t,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,r-s.size):k.resolve(dr());let l=Ro,u=s;return a.next(h=>k.forEach(h,(d,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),s.get(d)?k.resolve():this.remoteDocumentCache.getEntry(t,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(t,h,s)).next(()=>this.computeViews(t,u,h,lt())).next(d=>({batchId:l,changes:eS(d)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new G(n)).next(i=>{let r=ka();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,n,i,r){const s=n.collectionGroup;let a=ka();return this.indexManager.getCollectionParents(t,s).next(l=>k.forEach(l,u=>{const h=function(p,m){return new sa(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,h,i,r).next(d=>{d.forEach((p,m)=>{a=a.insert(p,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,s,r))).next(a=>{s.forEach((u,h)=>{const d=h.getKey();a.get(d)===null&&(a=a.insert(d,ge.newInvalidDocument(d)))});let l=ka();return a.forEach((u,h)=>{const d=s.get(u);d!==void 0&&ao(d.mutation,h,ze.empty(),Ct.now()),xc(n,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return k.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Sn(r.createTime)}}(n)),k.resolve()}getNamedQuery(t,n){return k.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,function(r){return{name:r.name,query:qx(r.bundledQuery),readTime:Sn(r.readTime)}}(n)),k.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(){this.overlays=new Ot(G.comparator),this.Lr=new Map}getOverlay(t,n){return k.resolve(this.overlays.get(n))}getOverlays(t,n){const i=dr();return k.forEach(n,r=>this.getOverlay(t,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((r,s)=>{this.bt(t,n,s)}),k.resolve()}removeOverlaysForBatchId(t,n,i){const r=this.Lr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Lr.delete(i)),k.resolve()}getOverlaysForCollection(t,n,i){const r=dr(),s=n.length+1,a=new G(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&u.largestBatchId>i&&r.set(u.getKey(),u)}return k.resolve(r)}getOverlaysForCollectionGroup(t,n,i,r){let s=new Ot((h,d)=>h-d);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>i){let d=s.get(h.largestBatchId);d===null&&(d=dr(),s=s.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const l=dr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,d)=>l.set(h,d)),!(l.size()>=r)););return k.resolve(l)}bt(t,n,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.Lr.get(r.largestBatchId).delete(i.key);this.Lr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new _x(n,i));let s=this.Lr.get(n);s===void 0&&(s=lt(),this.Lr.set(n,s)),this.Lr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(){this.sessionToken=fe.EMPTY_BYTE_STRING}getSessionToken(t){return k.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,k.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(){this.kr=new Jt(ee.Kr),this.qr=new Jt(ee.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const i=new ee(t,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Wr(new ee(t,n))}Qr(t,n){t.forEach(i=>this.removeReference(i,n))}Gr(t){const n=new G(new At([])),i=new ee(n,t),r=new ee(n,t+1),s=[];return this.qr.forEachInRange([i,r],a=>{this.Wr(a),s.push(a.key)}),s}zr(){this.kr.forEach(t=>this.Wr(t))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new G(new At([])),i=new ee(n,t),r=new ee(n,t+1);let s=lt();return this.qr.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(t){const n=new ee(t,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class ee{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return G.comparator(t.key,n.key)||ot(t.Hr,n.Hr)}static Ur(t,n){return ot(t.Hr,n.Hr)||G.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Jt(ee.Kr)}checkEmpty(t){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,r){const s=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new yx(s,n,i,r);this.mutationQueue.push(a);for(const l of r)this.Jr=this.Jr.add(new ee(l.key,s)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return k.resolve(a)}lookupMutationBatch(t,n){return k.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,r=this.Xr(i),s=r<0?0:r;return k.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?Xm:this.Yn-1)}getAllMutationBatches(t){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new ee(n,0),r=new ee(n,Number.POSITIVE_INFINITY),s=[];return this.Jr.forEachInRange([i,r],a=>{const l=this.Zr(a.Hr);s.push(l)}),k.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new Jt(ot);return n.forEach(r=>{const s=new ee(r,0),a=new ee(r,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([s,a],l=>{i=i.add(l.Hr)})}),k.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,r=i.length+1;let s=i;G.isDocumentKey(s)||(s=s.child(""));const a=new ee(new G(s),0);let l=new Jt(ot);return this.Jr.forEachWhile(u=>{const h=u.key.path;return!!i.isPrefixOf(h)&&(h.length===r&&(l=l.add(u.Hr)),!0)},a),k.resolve(this.Yr(l))}Yr(t){const n=[];return t.forEach(i=>{const r=this.Zr(i);r!==null&&n.push(r)}),n}removeMutationBatch(t,n){mt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return k.forEach(n.mutations,r=>{const s=new ee(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Jr=i})}nr(t){}containsKey(t,n){const i=new ee(n,0),r=this.Jr.firstAfterOrEqual(i);return k.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,k.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(t){this.ti=t,this.docs=function(){return new Ot(G.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,a=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return k.resolve(i?i.document.mutableCopy():ge.newInvalidDocument(n))}getEntries(t,n){let i=ti();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():ge.newInvalidDocument(r))}),k.resolve(i)}getDocumentsMatchingQuery(t,n,i,r){let s=ti();const a=n.path,l=new G(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:d}}=u.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||xD(DD(d),i)<=0||(r.has(d.key)||xc(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return k.resolve(s)}getAllFromCollectionGroup(t,n,i,r){Q(9500)}ni(t,n){return k.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new rN(this)}getSize(t){return k.resolve(this.size)}}class rN extends $x{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Mr.addEntry(t,r)):this.Mr.removeEntry(i)}),k.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(t){this.persistence=t,this.ri=new zr(n=>Jm(n),Zm),this.lastRemoteSnapshotVersion=W.min(),this.highestTargetId=0,this.ii=0,this.si=new sp,this.targetCount=0,this.oi=qs._r()}forEachTarget(t,n){return this.ri.forEach((i,r)=>n(r)),k.resolve()}getLastRemoteSnapshotVersion(t){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return k.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),k.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new qs(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,k.resolve()}updateTargetData(t,n){return this.lr(n),k.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,k.resolve()}removeTargets(t,n,i){let r=0;const s=[];return this.ri.forEach((a,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.ri.delete(a),s.push(this.removeMatchingKeysForTargetId(t,l.targetId)),r++)}),k.waitFor(s).next(()=>r)}getTargetCount(t){return k.resolve(this.targetCount)}getTargetData(t,n){const i=this.ri.get(n)||null;return k.resolve(i)}addMatchingKeys(t,n,i){return this.si.$r(n,i),k.resolve()}removeMatchingKeys(t,n,i){this.si.Qr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(a=>{s.push(r.markPotentiallyOrphaned(t,a))}),k.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),k.resolve()}getMatchingKeysForTargetId(t,n){const i=this.si.jr(n);return k.resolve(i)}containsKey(t,n){return k.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(t,n){this._i={},this.overlays={},this.ai=new Rc(0),this.ui=!1,this.ui=!0,this.ci=new eN,this.referenceDelegate=t(this),this.li=new sN(this),this.indexManager=new Hx,this.remoteDocumentCache=function(r){return new iN(r)}(i=>this.referenceDelegate.hi(i)),this.serializer=new Bx(n),this.Pi=new Zx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new tN,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this._i[t.toKey()];return i||(i=new nN(n,this.referenceDelegate),this._i[t.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,i){F("MemoryPersistence","Starting transaction:",t);const r=new aN(this.ai.next());return this.referenceDelegate.Ti(),i(r).next(s=>this.referenceDelegate.Ii(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ei(t,n){return k.or(Object.values(this._i).map(i=>()=>i.containsKey(t,n)))}}class aN extends OD{constructor(t){super(),this.currentSequenceNumber=t}}class ap{constructor(t){this.persistence=t,this.Ri=new sp,this.Ai=null}static Vi(t){return new ap(t)}get di(){if(this.Ai)return this.Ai;throw Q(60996)}addReference(t,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),k.resolve()}removeReference(t,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),k.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),k.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach(r=>this.di.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(r=>{r.forEach(s=>this.di.add(s.toString()))}).next(()=>i.removeTargetData(t,n))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.di,i=>{const r=G.fromPath(i);return this.mi(t,r).next(s=>{s||n.removeEntry(r,W.min())})}).next(()=>(this.Ai=null,n.apply(t)))}updateLimboDocument(t,n){return this.mi(t,n).next(i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(t){return 0}mi(t,n){return k.or([()=>k.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class Ju{constructor(t,n){this.persistence=t,this.fi=new zr(i=>UD(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=Xx(this,n)}static Vi(t,n){return new Ju(t,n)}Ti(){}Ii(t){return k.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(r=>i+r))}pr(t){let n=0;return this.mr(t,i=>{n++}).next(()=>n)}mr(t,n){return k.forEach(this.fi,(i,r)=>this.wr(t,i,r).next(s=>s?k.resolve():n(r)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.ni(t,a=>this.wr(t,a,n).next(l=>{l||(i++,s.removeEntry(a,W.min()))})).next(()=>s.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),k.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.fi.set(i,t.currentSequenceNumber),k.resolve()}removeReference(t,n,i){return this.fi.set(i,t.currentSequenceNumber),k.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),k.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=nu(t.data.value)),n}wr(t,n,i){return k.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const r=this.fi.get(n);return k.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(t,n,i,r){this.targetId=t,this.fromCache=n,this.Ts=i,this.Is=r}static Es(t,n){let i=lt(),r=lt();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new op(t,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return JR()?8:MD(ye())>0?6:4}()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,i,r){const s={result:null};return this.gs(t,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ps(t,n,r,i).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new oN;return this.ys(t,n,a).next(l=>{if(s.result=l,this.As)return this.ws(t,n,a,l.size)})}).next(()=>s.result)}ws(t,n,i,r){return i.documentReadCount<this.Vs?(Wr()<=at.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",Jr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),k.resolve()):(Wr()<=at.DEBUG&&F("QueryEngine","Query:",Jr(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ds*r?(Wr()<=at.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",Jr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Tn(n))):k.resolve())}gs(t,n){if(G_(n))return k.resolve(null);let i=Tn(n);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Ad(n,null,"F"),i=Tn(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const a=lt(...s);return this.fs.getDocuments(t,a).next(l=>this.indexManager.getMinOffset(t,i).next(u=>{const h=this.bs(n,l);return this.Ss(n,h,a,u.readTime)?this.gs(t,Ad(n,null,"F")):this.Ds(t,h,n,u)}))})))}ps(t,n,i,r){return G_(n)||r.isEqual(W.min())?k.resolve(null):this.fs.getDocuments(t,i).next(s=>{const a=this.bs(n,s);return this.Ss(n,a,i,r)?k.resolve(null):(Wr()<=at.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Jr(n)),this.Ds(t,a,n,CD(r,Ro)).next(l=>l))})}bs(t,n){let i=new Jt(ZT(t));return n.forEach((r,s)=>{xc(t,s)&&(i=i.add(s))}),i}Ss(t,n,i,r){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}ys(t,n,i){return Wr()<=at.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",Jr(n)),this.fs.getDocumentsMatchingQuery(t,n,Gi.min(),i)}Ds(t,n,i,r){return this.fs.getDocumentsMatchingQuery(t,i,r).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp="LocalStore",uN=3e8;class cN{constructor(t,n,i,r){this.persistence=t,this.Cs=n,this.serializer=r,this.vs=new Ot(ot),this.Fs=new zr(s=>Jm(s),Zm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(i)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Jx(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.vs))}}function hN(e,t,n,i){return new cN(e,t,n,i)}async function AS(e,t){const n=J(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.Os(t),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],l=[];let u=lt();for(const h of r){a.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}for(const h of s){l.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(i,u).next(h=>({Ns:h,removedBatchIds:a,addedBatchIds:l}))})})}function fN(e,t){const n=J(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=n.xs.newChangeBuffer({trackRemovals:!0});return function(l,u,h,d){const p=h.batch,m=p.keys();let v=k.resolve();return m.forEach(N=>{v=v.next(()=>d.getEntry(u,N)).next(V=>{const M=h.docVersions.get(N);mt(M!==null,48541),V.version.compareTo(M)<0&&(p.applyToRemoteDocument(V,h),V.isValidDocument()&&(V.setReadTime(h.commitVersion),d.addEntry(V)))})}),v.next(()=>l.mutationQueue.removeMutationBatch(u,p))}(n,i,t,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let u=lt();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(t))).next(()=>n.localDocuments.getDocuments(i,r))})}function bS(e){const t=J(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.li.getLastRemoteSnapshotVersion(n))}function dN(e,t){const n=J(e),i=t.snapshotVersion;let r=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.xs.newChangeBuffer({trackRemovals:!0});r=n.vs;const l=[];t.targetChanges.forEach((d,p)=>{const m=r.get(p);if(!m)return;l.push(n.li.removeMatchingKeys(s,d.removedDocuments,p).next(()=>n.li.addMatchingKeys(s,d.addedDocuments,p)));let v=m.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(p)!==null?v=v.withResumeToken(fe.EMPTY_BYTE_STRING,W.min()).withLastLimboFreeSnapshotVersion(W.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,i)),r=r.insert(p,v),function(V,M,A){return V.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=uN?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(m,v,d)&&l.push(n.li.updateTargetData(s,v))});let u=ti(),h=lt();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),l.push(mN(s,a,t.documentUpdates).next(d=>{u=d.Bs,h=d.Ls})),!i.isEqual(W.min())){const d=n.li.getLastRemoteSnapshotVersion(s).next(p=>n.li.setTargetsMetadata(s,s.currentSequenceNumber,i));l.push(d)}return k.waitFor(l).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,h)).next(()=>u)}).then(s=>(n.vs=r,s))}function mN(e,t,n){let i=lt(),r=lt();return n.forEach(s=>i=i.add(s)),t.getEntries(e,i).next(s=>{let a=ti();return n.forEach((l,u)=>{const h=s.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(r=r.add(l)),u.isNoDocument()&&u.version.isEqual(W.min())?(t.removeEntry(l,u.readTime),a=a.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(t.addEntry(u),a=a.insert(l,u)):F(lp,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{Bs:a,Ls:r}})}function pN(e,t){const n=J(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=Xm),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function gN(e,t){const n=J(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.li.getTargetData(i,t).next(s=>s?(r=s,k.resolve(r)):n.li.allocateTargetId(i).next(a=>(r=new Ri(t,a,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.vs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(t,i.targetId)),i})}async function Cd(e,t,n){const i=J(e),r=i.vs.get(t),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!ra(a))throw a;F(lp,`Failed to update sequence numbers for target ${t}: ${a}`)}i.vs=i.vs.remove(t),i.Fs.delete(r.target)}function r0(e,t,n){const i=J(e);let r=W.min(),s=lt();return i.persistence.runTransaction("Execute query","readwrite",a=>function(u,h,d){const p=J(u),m=p.Fs.get(d);return m!==void 0?k.resolve(p.vs.get(m)):p.li.getTargetData(h,d)}(i,a,Tn(t)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(a,l.targetId).next(u=>{s=u})}).next(()=>i.Cs.getDocumentsMatchingQuery(a,t,n?r:W.min(),n?s:lt())).next(l=>(yN(i,nx(t),l),{documents:l,ks:s})))}function yN(e,t,n){let i=e.Ms.get(t)||W.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),e.Ms.set(t,i)}class s0{constructor(){this.activeTargetIds=lx()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class _N{constructor(){this.vo=new s0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,i){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new s0,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{Mo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="ConnectivityMonitor";class o0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){F(a0,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){F(a0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ul=null;function Dd(){return Ul===null?Ul=function(){return 268435456+Math.round(2147483648*Math.random())}():Ul++,"0x"+Ul.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sf="RestConnection",EN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class TN{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${i}/databases/${r}`,this.$o=this.databaseId.database===Qu?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Wo(t,n,i,r,s){const a=Dd(),l=this.Qo(t,n.toUriEncodedString());F(sf,`Sending RPC '${t}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(u,r,s);const{host:h}=new URL(l),d=Zs(h);return this.zo(t,l,u,i,d).then(p=>(F(sf,`Received RPC '${t}' ${a}: `,p),p),p=>{throw Nr(sf,`RPC '${t}' ${a} failed with error: `,p,"url: ",l,"request:",i),p})}jo(t,n,i,r,s,a){return this.Wo(t,n,i,r,s)}Go(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+na}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}Qo(t,n){const i=EN[t];let r=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(r=`${r}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),r}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me="WebChannelConnection",xa=(e,t,n)=>{e.listen(t,i=>{try{n(i)}catch(r){setTimeout(()=>{throw r},0)}})};class As extends TN{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!As.c_){const t=CT();xa(t,IT.STAT_EVENT,n=>{n.stat===gd.PROXY?F(me,"STAT_EVENT: detected buffering proxy"):n.stat===gd.NOPROXY&&F(me,"STAT_EVENT: detected no buffering proxy")}),As.c_=!0}}zo(t,n,i,r,s){const a=Dd();return new Promise((l,u)=>{const h=new wT;h.setWithCredentials(!0),h.listenOnce(RT.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case eu.NO_ERROR:const p=h.getResponseJson();F(me,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(p)),l(p);break;case eu.TIMEOUT:F(me,`RPC '${t}' ${a} timed out`),u(new q(U.DEADLINE_EXCEEDED,"Request time out"));break;case eu.HTTP_ERROR:const m=h.getStatus();if(F(me,`RPC '${t}' ${a} failed with status:`,m,"response text:",h.getResponseText()),m>0){let v=h.getResponseJson();Array.isArray(v)&&(v=v[0]);const N=v==null?void 0:v.error;if(N&&N.status&&N.message){const V=function(A){const y=A.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(y)>=0?y:U.UNKNOWN}(N.status);u(new q(V,N.message))}else u(new q(U.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new q(U.UNAVAILABLE,"Connection failed."));break;default:Q(9055,{l_:t,streamId:a,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{F(me,`RPC '${t}' ${a} completed.`)}});const d=JSON.stringify(r);F(me,`RPC '${t}' ${a} sending request:`,r),h.send(n,"POST",d,i,15)})}T_(t,n,i){const r=Dd(),s=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=this.createWebChannelTransport(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Go(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const h=s.join("");F(me,`Creating RPC '${t}' stream ${r}: ${h}`,l);const d=a.createWebChannel(h,l);this.I_(d);let p=!1,m=!1;const v=new SN({Ho:N=>{m?F(me,`Not sending because RPC '${t}' stream ${r} is closed:`,N):(p||(F(me,`Opening RPC '${t}' stream ${r} transport.`),d.open(),p=!0),F(me,`RPC '${t}' stream ${r} sending:`,N),d.send(N))},Jo:()=>d.close()});return xa(d,La.EventType.OPEN,()=>{m||(F(me,`RPC '${t}' stream ${r} transport opened.`),v.i_())}),xa(d,La.EventType.CLOSE,()=>{m||(m=!0,F(me,`RPC '${t}' stream ${r} transport closed`),v.o_(),this.E_(d))}),xa(d,La.EventType.ERROR,N=>{m||(m=!0,Nr(me,`RPC '${t}' stream ${r} transport errored. Name:`,N.name,"Message:",N.message),v.o_(new q(U.UNAVAILABLE,"The operation could not be completed")))}),xa(d,La.EventType.MESSAGE,N=>{var V;if(!m){const M=N.data[0];mt(!!M,16349);const A=M,y=(A==null?void 0:A.error)||((V=A[0])==null?void 0:V.error);if(y){F(me,`RPC '${t}' stream ${r} received error:`,y);const R=y.status;let D=function(E){const _=Bt[E];if(_!==void 0)return cS(_)}(R),z=y.message;R==="NOT_FOUND"&&z.includes("database")&&z.includes("does not exist")&&z.includes(this.databaseId.database)&&Nr(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),D===void 0&&(D=U.INTERNAL,z="Unknown error status: "+R+" with message "+y.message),m=!0,v.o_(new q(D,z)),d.close()}else F(me,`RPC '${t}' stream ${r} received:`,M),v.__(M)}}),As.u_(),setTimeout(()=>{v.s_()},0),v}terminate(){this.a_.forEach(t=>t.close()),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter(n=>n===t)}Go(t,n,i){super.Go(t,n,i),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return DT()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(e){return new As(e)}function af(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(e){return new Ix(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */As.c_=!1;class wS{constructor(t,n,i=1e3,r=1.5,s=6e4){this.Ci=t,this.timerId=n,this.R_=i,this.A_=r,this.V_=s,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-i);r>0&&F("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),t())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0="PersistentStream";class RS{constructor(t,n,i,r,s,a,l,u){this.Ci=t,this.b_=i,this.S_=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new wS(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(Zn(n.toString()),Zn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.D_===n&&this.G_(i,r)},i=>{t(()=>{const r=new q(U.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)})})}G_(t,n){const i=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.Yo(()=>{i(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(r=>{i(()=>this.z_(r))}),this.stream.onMessage(r=>{i(()=>++this.F_==1?this.H_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return F(l0,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget(()=>this.D_===t?n():(F(l0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bN extends RS{constructor(t,n,i,r,s,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=xx(this.serializer,t),i=function(s){if(!("targetChange"in s))return W.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?W.min():a.readTime?Sn(a.readTime):W.min()}(t);return this.listener.J_(n,i)}Z_(t){const n={};n.database=Id(this.serializer),n.addTarget=function(s,a){let l;const u=a.target;if(l=Td(u)?{documents:Mx(s,u)}:{query:Vx(s,u).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=dS(s,a.resumeToken);const h=bd(s,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo(W.min())>0){l.readTime=Wu(s,a.snapshotVersion.toTimestamp());const h=bd(s,a.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,t);const i=Lx(this.serializer,t);i&&(n.labels=i),this.K_(n)}X_(t){const n={};n.database=Id(this.serializer),n.removeTarget=t,this.K_(n)}}class wN extends RS{constructor(t,n,i,r,s,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return mt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,mt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){mt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=Ox(t.writeResults,t.commitTime),i=Sn(t.commitTime);return this.listener.na(i,n)}ra(){const t={};t.database=Id(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>Nx(this.serializer,i))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{}class IN extends RN{constructor(t,n,i,r){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new q(U.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Wo(t,wd(n,i),r,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(U.UNKNOWN,s.toString())})}jo(t,n,i,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.jo(t,wd(n,i),r,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new q(U.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function CN(e,t,n,i){return new IN(e,t,n,i)}class DN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Zn(n),this.aa=!1):F("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or="RemoteStore";class xN{constructor(t,n,i,r,s){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=s,this.Aa.Mo(a=>{i.enqueueAndForget(async()=>{jr(this)&&(F(Or,"Restarting streams for network reachability change."),await async function(u){const h=J(u);h.Ea.add(4),await Zo(h),h.Va.set("Unknown"),h.Ea.delete(4),await Lc(h)}(this))})}),this.Va=new DN(i,r)}}async function Lc(e){if(jr(e))for(const t of e.Ra)await t(!0)}async function Zo(e){for(const t of e.Ra)await t(!1)}function IS(e,t){const n=J(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),fp(n)?hp(n):aa(n).O_()&&cp(n,t))}function up(e,t){const n=J(e),i=aa(n);n.Ia.delete(t),i.O_()&&CS(n,t),n.Ia.size===0&&(i.O_()?i.L_():jr(n)&&n.Va.set("Unknown"))}function cp(e,t){if(e.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(W.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}aa(e).Z_(t)}function CS(e,t){e.da.$e(t),aa(e).X_(t)}function hp(e){e.da=new Ax({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),aa(e).start(),e.Va.ua()}function fp(e){return jr(e)&&!aa(e).x_()&&e.Ia.size>0}function jr(e){return J(e).Ea.size===0}function DS(e){e.da=void 0}async function NN(e){e.Va.set("Online")}async function ON(e){e.Ia.forEach((t,n)=>{cp(e,t)})}async function MN(e,t){DS(e),fp(e)?(e.Va.ha(t),hp(e)):e.Va.set("Unknown")}async function VN(e,t,n){if(e.Va.set("Online"),t instanceof fS&&t.state===2&&t.cause)try{await async function(r,s){const a=s.cause;for(const l of s.targetIds)r.Ia.has(l)&&(await r.remoteSyncer.rejectListen(l,a),r.Ia.delete(l),r.da.removeTarget(l))}(e,t)}catch(i){F(Or,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Zu(e,i)}else if(t instanceof su?e.da.Xe(t):t instanceof hS?e.da.st(t):e.da.tt(t),!n.isEqual(W.min()))try{const i=await bS(e.localStore);n.compareTo(i)>=0&&await function(s,a){const l=s.da.Tt(a);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.Ia.get(h);d&&s.Ia.set(h,d.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,h)=>{const d=s.Ia.get(u);if(!d)return;s.Ia.set(u,d.withResumeToken(fe.EMPTY_BYTE_STRING,d.snapshotVersion)),CS(s,u);const p=new Ri(d.target,u,h,d.sequenceNumber);cp(s,p)}),s.remoteSyncer.applyRemoteEvent(l)}(e,n)}catch(i){F(Or,"Failed to raise snapshot:",i),await Zu(e,i)}}async function Zu(e,t,n){if(!ra(t))throw t;e.Ea.add(1),await Zo(e),e.Va.set("Offline"),n||(n=()=>bS(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{F(Or,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Lc(e)})}function xS(e,t){return t().catch(n=>Zu(e,n,t))}async function kc(e){const t=J(e),n=Xi(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Xm;for(;UN(t);)try{const r=await pN(t.localStore,i);if(r===null){t.Ta.length===0&&n.L_();break}i=r.batchId,LN(t,r)}catch(r){await Zu(t,r)}NS(t)&&OS(t)}function UN(e){return jr(e)&&e.Ta.length<10}function LN(e,t){e.Ta.push(t);const n=Xi(e);n.O_()&&n.Y_&&n.ea(t.mutations)}function NS(e){return jr(e)&&!Xi(e).x_()&&e.Ta.length>0}function OS(e){Xi(e).start()}async function kN(e){Xi(e).ra()}async function PN(e){const t=Xi(e);for(const n of e.Ta)t.ea(n.mutations)}async function zN(e,t,n){const i=e.Ta.shift(),r=np.from(i,t,n);await xS(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),await kc(e)}async function jN(e,t){t&&Xi(e).Y_&&await async function(i,r){if(function(a){return Ex(a)&&a!==U.ABORTED}(r.code)){const s=i.Ta.shift();Xi(i).B_(),await xS(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await kc(i)}}(e,t),NS(e)&&OS(e)}async function u0(e,t){const n=J(e);n.asyncQueue.verifyOperationInProgress(),F(Or,"RemoteStore received new credentials");const i=jr(n);n.Ea.add(3),await Zo(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Lc(n)}async function BN(e,t){const n=J(e);t?(n.Ea.delete(2),await Lc(n)):t||(n.Ea.add(2),await Zo(n),n.Va.set("Unknown"))}function aa(e){return e.ma||(e.ma=function(n,i,r){const s=J(n);return s.sa(),new bN(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{Zo:NN.bind(null,e),Yo:ON.bind(null,e),t_:MN.bind(null,e),J_:VN.bind(null,e)}),e.Ra.push(async t=>{t?(e.ma.B_(),fp(e)?hp(e):e.Va.set("Unknown")):(await e.ma.stop(),DS(e))})),e.ma}function Xi(e){return e.fa||(e.fa=function(n,i,r){const s=J(n);return s.sa(),new wN(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),Yo:kN.bind(null,e),t_:jN.bind(null,e),ta:PN.bind(null,e),na:zN.bind(null,e)}),e.Ra.push(async t=>{t?(e.fa.B_(),await kc(e)):(await e.fa.stop(),e.Ta.length>0&&(F(Or,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(t,n,i,r,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,r,s){const a=Date.now()+i,l=new dp(t,n,a,r,s);return l.start(i),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(U.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mp(e,t){if(Zn("AsyncQueue",`${t}: ${e}`),ra(e))return new q(U.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{static emptySet(t){return new bs(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||G.comparator(n.key,i.key):(n,i)=>G.comparator(n.key,i.key),this.keyedMap=ka(),this.sortedSet=new Ot(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof bs)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new bs;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(){this.ga=new Ot(G.comparator)}track(t){const n=t.doc.key,i=this.ga.get(n);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(n,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(n):t.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Q(63341,{Vt:t,pa:i}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,i)=>{t.push(i)}),t}}class Hs{constructor(t,n,i,r,s,a,l,u,h){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(t,n,i,r,s){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Hs(t,n,bs.emptySet(n),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Dc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(t=>t.Da())}}class HN{constructor(){this.queries=h0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const r=J(n),s=r.queries;r.queries=h0(),s.forEach((a,l)=>{for(const u of l.ba)u.onError(i)})})(this,new q(U.ABORTED,"Firestore shutting down"))}}function h0(){return new zr(e=>JT(e),Dc)}async function FN(e,t){const n=J(e);let i=3;const r=t.query;let s=n.queries.get(r);s?!s.Sa()&&t.Da()&&(i=2):(s=new qN,i=t.Da()?0:1);try{switch(i){case 0:s.wa=await n.onListen(r,!0);break;case 1:s.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(a){const l=mp(a,`Initialization of query '${Jr(t.query)}' failed`);return void t.onError(l)}n.queries.set(r,s),s.ba.push(t),t.va(n.onlineState),s.wa&&t.Fa(s.wa)&&pp(n)}async function GN(e,t){const n=J(e),i=t.query;let r=3;const s=n.queries.get(i);if(s){const a=s.ba.indexOf(t);a>=0&&(s.ba.splice(a,1),s.ba.length===0?r=t.Da()?0:1:!s.Sa()&&t.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function QN(e,t){const n=J(e);let i=!1;for(const r of t){const s=r.query,a=n.queries.get(s);if(a){for(const l of a.ba)l.Fa(r)&&(i=!0);a.wa=r}}i&&pp(n)}function YN(e,t,n){const i=J(e),r=i.queries.get(t);if(r)for(const s of r.ba)s.onError(n);i.queries.delete(t)}function pp(e){e.Ca.forEach(t=>{t.next()})}var xd,f0;(f0=xd||(xd={})).Ma="default",f0.Cache="cache";class KN{constructor(t,n,i){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new Hs(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Hs.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==xd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(t){this.key=t}}class VS{constructor(t){this.key=t}}class XN{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=lt(),this.mutatedKeys=lt(),this.eu=ZT(t),this.tu=new bs(this.eu)}get nu(){return this.Za}ru(t,n){const i=n?n.iu:new c0,r=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,a=r,l=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,h=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((d,p)=>{const m=r.get(d),v=xc(this.query,p)?p:null,N=!!m&&this.mutatedKeys.has(m.key),V=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let M=!1;m&&v?m.data.isEqual(v.data)?N!==V&&(i.track({type:3,doc:v}),M=!0):this.su(m,v)||(i.track({type:2,doc:v}),M=!0,(u&&this.eu(v,u)>0||h&&this.eu(v,h)<0)&&(l=!0)):!m&&v?(i.track({type:0,doc:v}),M=!0):m&&!v&&(i.track({type:1,doc:m}),M=!0,(u||h)&&(l=!0)),M&&(v?(a=a.add(v),s=V?s.add(d):s.delete(d)):(a=a.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),s=s.delete(d.key),i.track({type:1,doc:d})}return{tu:a,iu:i,Ss:l,mutatedKeys:s}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,r){const s=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const a=t.iu.ya();a.sort((d,p)=>function(v,N){const V=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q(20277,{Vt:M})}};return V(v)-V(N)}(d.type,p.type)||this.eu(d.doc,p.doc)),this.ou(i),r=r??!1;const l=n&&!r?this._u():[],u=this.Ya.size===0&&this.current&&!r?1:0,h=u!==this.Xa;return this.Xa=u,a.length!==0||h?{snapshot:new Hs(this.query,t.tu,s,a,t.mutatedKeys,u===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new c0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=lt(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))});const n=[];return t.forEach(i=>{this.Ya.has(i)||n.push(new VS(i))}),this.Ya.forEach(i=>{t.has(i)||n.push(new MS(i))}),n}cu(t){this.Za=t.ks,this.Ya=lt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Hs.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const gp="SyncEngine";class $N{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class WN{constructor(t){this.key=t,this.hu=!1}}class JN{constructor(t,n,i,r,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new zr(l=>JT(l),Dc),this.Iu=new Map,this.Eu=new Set,this.Ru=new Ot(G.comparator),this.Au=new Map,this.Vu=new sp,this.du={},this.mu=new Map,this.fu=qs.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ZN(e,t,n=!0){const i=jS(e);let r;const s=i.Tu.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.lu()):r=await US(i,t,n,!0),r}async function tO(e,t){const n=jS(e);await US(n,t,!0,!1)}async function US(e,t,n,i){const r=await gN(e.localStore,Tn(t)),s=r.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let l;return i&&(l=await eO(e,t,s,a==="current",r.resumeToken)),e.isPrimaryClient&&n&&IS(e.remoteStore,r),l}async function eO(e,t,n,i,r){e.pu=(p,m,v)=>async function(V,M,A,y){let R=M.view.ru(A);R.Ss&&(R=await r0(V.localStore,M.query,!1).then(({documents:E})=>M.view.ru(E,R)));const D=y&&y.targetChanges.get(M.targetId),z=y&&y.targetMismatches.get(M.targetId)!=null,B=M.view.applyChanges(R,V.isPrimaryClient,D,z);return m0(V,M.targetId,B.au),B.snapshot}(e,p,m,v);const s=await r0(e.localStore,t,!0),a=new XN(t,s.ks),l=a.ru(s.documents),u=Jo.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",r),h=a.applyChanges(l,e.isPrimaryClient,u);m0(e,n,h.au);const d=new $N(t,n,a);return e.Tu.set(t,d),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),h.snapshot}async function nO(e,t,n){const i=J(e),r=i.Tu.get(t),s=i.Iu.get(r.targetId);if(s.length>1)return i.Iu.set(r.targetId,s.filter(a=>!Dc(a,t))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Cd(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&up(i.remoteStore,r.targetId),Nd(i,r.targetId)}).catch(ia)):(Nd(i,r.targetId),await Cd(i.localStore,r.targetId,!0))}async function iO(e,t){const n=J(e),i=n.Tu.get(t),r=n.Iu.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),up(n.remoteStore,i.targetId))}async function rO(e,t,n){const i=hO(e);try{const r=await function(a,l){const u=J(a),h=Ct.now(),d=l.reduce((v,N)=>v.add(N.key),lt());let p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let N=ti(),V=lt();return u.xs.getEntries(v,d).next(M=>{N=M,N.forEach((A,y)=>{y.isValidDocument()||(V=V.add(A))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,N)).next(M=>{p=M;const A=[];for(const y of l){const R=px(y,p.get(y.key).overlayedDocument);R!=null&&A.push(new tr(y.key,R,FT(R.value.mapValue),Ne.exists(!0)))}return u.mutationQueue.addMutationBatch(v,h,A,l)}).next(M=>{m=M;const A=M.applyToLocalDocumentSet(p,V);return u.documentOverlayCache.saveOverlays(v,M.batchId,A)})}).then(()=>({batchId:m.batchId,changes:eS(p)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(a,l,u){let h=a.du[a.currentUser.toKey()];h||(h=new Ot(ot)),h=h.insert(l,u),a.du[a.currentUser.toKey()]=h}(i,r.batchId,n),await tl(i,r.changes),await kc(i.remoteStore)}catch(r){const s=mp(r,"Failed to persist write");n.reject(s)}}async function LS(e,t){const n=J(e);try{const i=await dN(n.localStore,t);t.targetChanges.forEach((r,s)=>{const a=n.Au.get(s);a&&(mt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.hu=!0:r.modifiedDocuments.size>0?mt(a.hu,14607):r.removedDocuments.size>0&&(mt(a.hu,42227),a.hu=!1))}),await tl(n,i,t)}catch(i){await ia(i)}}function d0(e,t,n){const i=J(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Tu.forEach((s,a)=>{const l=a.view.va(t);l.snapshot&&r.push(l.snapshot)}),function(a,l){const u=J(a);u.onlineState=l;let h=!1;u.queries.forEach((d,p)=>{for(const m of p.ba)m.va(l)&&(h=!0)}),h&&pp(u)}(i.eventManager,t),r.length&&i.Pu.J_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function sO(e,t,n){const i=J(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.Au.get(t),s=r&&r.key;if(s){let a=new Ot(G.comparator);a=a.insert(s,ge.newNoDocument(s,W.min()));const l=lt().add(s),u=new Vc(W.min(),new Map,new Ot(ot),a,l);await LS(i,u),i.Ru=i.Ru.remove(s),i.Au.delete(t),yp(i)}else await Cd(i.localStore,t,!1).then(()=>Nd(i,t,n)).catch(ia)}async function aO(e,t){const n=J(e),i=t.batch.batchId;try{const r=await fN(n.localStore,t);PS(n,i,null),kS(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await tl(n,r)}catch(r){await ia(r)}}async function oO(e,t,n){const i=J(e);try{const r=await function(a,l){const u=J(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return u.mutationQueue.lookupMutationBatch(h,l).next(p=>(mt(p!==null,37113),d=p.keys(),u.mutationQueue.removeMutationBatch(h,p))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,d,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>u.localDocuments.getDocuments(h,d))})}(i.localStore,t);PS(i,t,n),kS(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await tl(i,r)}catch(r){await ia(r)}}function kS(e,t){(e.mu.get(t)||[]).forEach(n=>{n.resolve()}),e.mu.delete(t)}function PS(e,t,n){const i=J(e);let r=i.du[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(n?s.reject(n):s.resolve(),r=r.remove(t)),i.du[i.currentUser.toKey()]=r}}function Nd(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Iu.get(t))e.Tu.delete(i),n&&e.Pu.yu(i,n);e.Iu.delete(t),e.isPrimaryClient&&e.Vu.Gr(t).forEach(i=>{e.Vu.containsKey(i)||zS(e,i)})}function zS(e,t){e.Eu.delete(t.path.canonicalString());const n=e.Ru.get(t);n!==null&&(up(e.remoteStore,n),e.Ru=e.Ru.remove(t),e.Au.delete(n),yp(e))}function m0(e,t,n){for(const i of n)i instanceof MS?(e.Vu.addReference(i.key,t),lO(e,i)):i instanceof VS?(F(gp,"Document no longer in limbo: "+i.key),e.Vu.removeReference(i.key,t),e.Vu.containsKey(i.key)||zS(e,i.key)):Q(19791,{wu:i})}function lO(e,t){const n=t.key,i=n.path.canonicalString();e.Ru.get(n)||e.Eu.has(i)||(F(gp,"New document in limbo: "+n),e.Eu.add(i),yp(e))}function yp(e){for(;e.Eu.size>0&&e.Ru.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new G(At.fromString(t)),i=e.fu.next();e.Au.set(i,new WN(n)),e.Ru=e.Ru.insert(n,i),IS(e.remoteStore,new Ri(Tn(tp(n.path)),i,"TargetPurposeLimboResolution",Rc.ce))}}async function tl(e,t,n){const i=J(e),r=[],s=[],a=[];i.Tu.isEmpty()||(i.Tu.forEach((l,u)=>{a.push(i.pu(u,t,n).then(h=>{var d;if((h||n)&&i.isPrimaryClient){const p=h?!h.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:d.current;i.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(h){r.push(h);const p=op.Es(u.targetId,h);s.push(p)}}))}),await Promise.all(a),i.Pu.J_(r),await async function(u,h){const d=J(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>k.forEach(h,m=>k.forEach(m.Ts,v=>d.persistence.referenceDelegate.addReference(p,m.targetId,v)).next(()=>k.forEach(m.Is,v=>d.persistence.referenceDelegate.removeReference(p,m.targetId,v)))))}catch(p){if(!ra(p))throw p;F(lp,"Failed to update sequence numbers: "+p)}for(const p of h){const m=p.targetId;if(!p.fromCache){const v=d.vs.get(m),N=v.snapshotVersion,V=v.withLastLimboFreeSnapshotVersion(N);d.vs=d.vs.insert(m,V)}}}(i.localStore,s))}async function uO(e,t){const n=J(e);if(!n.currentUser.isEqual(t)){F(gp,"User change. New user:",t.toKey());const i=await AS(n.localStore,t);n.currentUser=t,function(s,a){s.mu.forEach(l=>{l.forEach(u=>{u.reject(new q(U.CANCELLED,a))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await tl(n,i.Ns)}}function cO(e,t){const n=J(e),i=n.Au.get(t);if(i&&i.hu)return lt().add(i.key);{let r=lt();const s=n.Iu.get(t);if(!s)return r;for(const a of s){const l=n.Tu.get(a);r=r.unionWith(l.view.nu)}return r}}function jS(e){const t=J(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=LS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=cO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=sO.bind(null,t),t.Pu.J_=QN.bind(null,t.eventManager),t.Pu.yu=YN.bind(null,t.eventManager),t}function hO(e){const t=J(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=aO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=oO.bind(null,t),t}class tc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Uc(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return hN(this.persistence,new lN,t.initialUser,this.serializer)}Cu(t){return new SS(ap.Vi,this.serializer)}Du(t){return new _N}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tc.provider={build:()=>new tc};class fO extends tc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){mt(this.persistence.referenceDelegate instanceof Ju,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new Yx(i,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Ce.withCacheSize(this.cacheSizeBytes):Ce.DEFAULT;return new SS(i=>Ju.Vi(i,n),this.serializer)}}class Od{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>d0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=uO.bind(null,this.syncEngine),await BN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new HN}()}createDatastore(t){const n=Uc(t.databaseInfo.databaseId),i=AN(t.databaseInfo);return CN(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,r,s,a,l){return new xN(i,r,s,a,l)}(this.localStore,this.datastore,t.asyncQueue,n=>d0(this.syncEngine,n,0),function(){return o0.v()?new o0:new vN}())}createSyncEngine(t,n){return function(r,s,a,l,u,h,d){const p=new JN(r,s,a,l,u,h);return d&&(p.gu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(r){const s=J(r);F(Or,"RemoteStore shutting down."),s.Ea.add(5),await Zo(s),s.Aa.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}Od.provider={build:()=>new Od};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Zn("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i="FirestoreClient";class mO{constructor(t,n,i,r,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=r,this.user=pe.UNAUTHENTICATED,this.clientId=Km.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async a=>{F($i,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(F($i,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=mp(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function of(e,t){e.asyncQueue.verifyOperationInProgress(),F($i,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async r=>{i.isEqual(r)||(await AS(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function p0(e,t){e.asyncQueue.verifyOperationInProgress();const n=await pO(e);F($i,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>u0(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,r)=>u0(t.remoteStore,r)),e._onlineComponents=t}async function pO(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){F($i,"Using user provided OfflineComponentProvider");try{await of(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(r){return r.name==="FirebaseError"?r.code===U.FAILED_PRECONDITION||r.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Nr("Error using user provided cache. Falling back to memory cache: "+n),await of(e,new tc)}}else F($i,"Using default OfflineComponentProvider"),await of(e,new fO(void 0));return e._offlineComponents}async function BS(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(F($i,"Using user provided OnlineComponentProvider"),await p0(e,e._uninitializedComponentsProvider._online)):(F($i,"Using default OnlineComponentProvider"),await p0(e,new Od))),e._onlineComponents}function gO(e){return BS(e).then(t=>t.syncEngine)}async function g0(e){const t=await BS(e),n=t.eventManager;return n.onListen=ZN.bind(null,t.syncEngine),n.onUnlisten=nO.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=tO.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=iO.bind(null,t.syncEngine),n}function yO(e,t,n,i){const r=new dO(i),s=new KN(t,r,n);return e.asyncQueue.enqueueAndForget(async()=>FN(await g0(e),s)),()=>{r.Nu(),e.asyncQueue.enqueueAndForget(async()=>GN(await g0(e),s))}}function _O(e,t){const n=new Er;return e.asyncQueue.enqueueAndForget(async()=>rO(await gO(e),t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO="ComponentProvider",y0=new Map;function EO(e,t,n,i,r){return new PD(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,qS(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS="firestore.googleapis.com",_0=!0;class v0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new q(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=HS,this.ssl=_0}else this.host=t.host,this.ssl=t.ssl??_0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=TS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Gx)throw new q(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}ID("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qS(t.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Pc{constructor(t,n,i,r){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new v0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new q(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new v0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new yD;switch(i.type){case"firstParty":return new TD(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new q(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=y0.get(n);i&&(F(vO,"Removing Datastore"),y0.delete(n),i.terminate())}(this),Promise.resolve()}}function TO(e,t,n,i={}){var h;e=Gn(e,Pc);const r=Zs(t),s=e._getSettings(),a={...s,emulatorOptions:e._getEmulatorOptions()},l=`${t}:${n}`;r&&(jE(`https://${l}`),BE("Firestore",!0)),s.host!==HS&&s.host!==l&&Nr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...s,host:l,ssl:r,emulatorOptions:i};if(!Ir(u,a)&&(e._setSettings(u),i.mockUserToken)){let d,p;if(typeof i.mockUserToken=="string")d=i.mockUserToken,p=pe.MOCK_USER;else{d=HR(i.mockUserToken,(h=e._app)==null?void 0:h.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new q(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new pe(m)}e._authCredentials=new _D(new NT(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Br(this.firestore,t,this._query)}}class Kt{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Kt(this.firestore,t,this._key)}toJSON(){return{type:Kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,i){if($o(n,Kt._jsonSchema))return new Kt(t,i||null,new G(At.fromString(n.referencePath)))}}Kt._jsonSchemaVersion="firestore/documentReference/1.0",Kt._jsonSchema={type:Yt("string",Kt._jsonSchemaVersion),referencePath:Yt("string")};class ji extends Br{constructor(t,n,i){super(t,n,tp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Kt(this.firestore,null,new G(t))}withConverter(t){return new ji(this.firestore,t,this._path)}}function lf(e,t,...n){if(e=Xt(e),OT("collection","path",t),e instanceof Pc){const i=At.fromString(t,...n);return N_(i),new ji(e,null,i)}{if(!(e instanceof Kt||e instanceof ji))throw new q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(At.fromString(t,...n));return N_(i),new ji(e.firestore,null,i)}}function za(e,t,...n){if(e=Xt(e),arguments.length===1&&(t=Km.newId()),OT("doc","path",t),e instanceof Pc){const i=At.fromString(t,...n);return x_(i),new Kt(e,null,new G(i))}{if(!(e instanceof Kt||e instanceof ji))throw new q(U.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(At.fromString(t,...n));return x_(i),new Kt(e.firestore,e instanceof ji?e.converter:null,new G(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="AsyncQueue";class T0{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new wS(this,"async_queue_retry"),this._c=()=>{const i=af();i&&F(E0,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const n=af();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=af();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Er;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Yu.push(t),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!ra(t))throw t;F(E0,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(i=>{throw this.nc=i,this.rc=!1,Zn("INTERNAL UNHANDLED ERROR: ",S0(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(t,n,i){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const r=dp.createAndSchedule(this,t,n,i,s=>this.hc(s));return this.tc.push(r),r}uc(){this.nc&&Q(47125,{Pc:S0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function S0(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class Mr extends Pc{constructor(t,n,i,r){super(t,n,i,r),this.type="firestore",this._queue=new T0,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new T0(t),this._firestoreClient=void 0,await t}}}function SO(e,t){const n=typeof e=="object"?e:GE(),i=typeof e=="string"?e:t||Qu,r=Lm(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=BR("firestore");s&&TO(r,...s)}return r}function _p(e){if(e._terminated)throw new q(U.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||AO(e),e._firestoreClient}function AO(e){var i,r,s,a;const t=e._freezeSettings(),n=EO(e._databaseId,((i=e._app)==null?void 0:i.options.appId)||"",e._persistenceKey,(r=e._app)==null?void 0:r.options.apiKey,t);e._componentsProvider||(s=t.localCache)!=null&&s._offlineComponentProvider&&((a=t.localCache)!=null&&a._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new mO(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(u){const h=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(h),_online:h}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new tn(fe.fromBase64String(t))}catch(n){throw new q(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new tn(fe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:tn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if($o(t,tn._jsonSchema))return tn.fromBase64String(t.bytes)}}tn._jsonSchemaVersion="firestore/bytes/1.0",tn._jsonSchema={type:Yt("string",tn._jsonSchemaVersion),bytes:Yt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new q(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ue(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new q(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new q(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return ot(this._lat,t._lat)||ot(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:An._jsonSchemaVersion}}static fromJSON(t){if($o(t,An._jsonSchema))return new An(t.latitude,t.longitude)}}An._jsonSchemaVersion="firestore/geoPoint/1.0",An._jsonSchema={type:Yt("string",An._jsonSchemaVersion),latitude:Yt("number"),longitude:Yt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,t._values)}toJSON(){return{type:cn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if($o(t,cn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new cn(t.vectorValues);throw new q(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}cn._jsonSchemaVersion="firestore/vectorValue/1.0",cn._jsonSchema={type:Yt("string",cn._jsonSchemaVersion),vectorValues:Yt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO=/^__.*__$/;class wO{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new tr(t,this.data,this.fieldMask,n,this.fieldTransforms):new Wo(t,this.data,n,this.fieldTransforms)}}class FS{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new tr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function GS(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q(40011,{dataSource:e})}}class Ep{constructor(t,n,i,r,s,a){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.validatePath(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Ep({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){var r;const n=(r=this.path)==null?void 0:r.child(t),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(t),i}childContextForFieldPath(t){var r;const n=(r=this.path)==null?void 0:r.child(t),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return ec(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(GS(this.dataSource)&&bO.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class RO{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||Uc(t)}createContext(t,n,i,r=!1){return new Ep({dataSource:t,methodName:n,targetDoc:i,path:ue.emptyPath(),arrayElement:!1,hasConverter:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jc(e){const t=e._freezeSettings(),n=Uc(e._databaseId);return new RO(e._databaseId,!!t.ignoreUndefinedProperties,n)}function QS(e,t,n,i,r,s={}){const a=e.createContext(s.merge||s.mergeFields?2:0,t,n,r);Tp("Data must be an object, but it was:",a,i);const l=XS(i,a);let u,h;if(s.merge)u=new ze(a.fieldMask),h=a.fieldTransforms;else if(s.mergeFields){const d=[];for(const p of s.mergeFields){const m=Fs(t,p,n);if(!a.contains(m))throw new q(U.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);JS(d,m)||d.push(m)}u=new ze(d),h=a.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,h=a.fieldTransforms;return new wO(new De(l),u,h)}class Bc extends vp{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Bc}}function YS(e,t,n,i){const r=e.createContext(1,t,n);Tp("Data must be an object, but it was:",r,i);const s=[],a=De.empty();Zi(i,(u,h)=>{const d=WS(t,u,n);h=Xt(h);const p=r.childContextForFieldPath(d);if(h instanceof Bc)s.push(d);else{const m=el(h,p);m!=null&&(s.push(d),a.set(d,m))}});const l=new ze(s);return new FS(a,l,r.fieldTransforms)}function KS(e,t,n,i,r,s){const a=e.createContext(1,t,n),l=[Fs(t,i,n)],u=[r];if(s.length%2!=0)throw new q(U.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)l.push(Fs(t,s[m])),u.push(s[m+1]);const h=[],d=De.empty();for(let m=l.length-1;m>=0;--m)if(!JS(h,l[m])){const v=l[m];let N=u[m];N=Xt(N);const V=a.childContextForFieldPath(v);if(N instanceof Bc)h.push(v);else{const M=el(N,V);M!=null&&(h.push(v),d.set(v,M))}}const p=new ze(h);return new FS(d,p,a.fieldTransforms)}function IO(e,t,n,i=!1){return el(n,e.createContext(i?4:3,t))}function el(e,t){if($S(e=Xt(e)))return Tp("Unsupported field value:",t,e),XS(e,t);if(e instanceof vp)return function(i,r){if(!GS(r.dataSource))throw r.createError(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.createError(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return function(i,r){const s=[];let a=0;for(const l of i){let u=el(l,r.childContextForArray(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}}(e,t)}return function(i,r){if((i=Xt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return ux(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=Ct.fromDate(i);return{timestampValue:Wu(r.serializer,s)}}if(i instanceof Ct){const s=new Ct(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Wu(r.serializer,s)}}if(i instanceof An)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof tn)return{bytesValue:dS(r.serializer,i._byteString)};if(i instanceof Kt){const s=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(s))throw r.createError(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:rp(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof cn)return function(a,l){const u=a instanceof cn?a.toArray():a;return{mapValue:{fields:{[BT]:{stringValue:HT},[Yu]:{arrayValue:{values:u.map(d=>{if(typeof d!="number")throw l.createError("VectorValues must only contain numeric values.");return ep(l.serializer,d)})}}}}}}(i,r);if(ES(i))return i._toProto(r.serializer);throw r.createError(`Unsupported field value: ${wc(i)}`)}(e,t)}function XS(e,t){const n={};return UT(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Zi(e,(i,r)=>{const s=el(r,t.childContextForField(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function $S(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ct||e instanceof An||e instanceof tn||e instanceof Kt||e instanceof vp||e instanceof cn||ES(e))}function Tp(e,t,n){if(!$S(n)||!MT(n)){const i=wc(n);throw i==="an object"?t.createError(e+" a custom object"):t.createError(e+" "+i)}}function Fs(e,t,n){if((t=Xt(t))instanceof zc)return t._internalPath;if(typeof t=="string")return WS(e,t);throw ec("Field path arguments must be of type string or ",e,!1,void 0,n)}const CO=new RegExp("[~\\*/\\[\\]]");function WS(e,t,n){if(t.search(CO)>=0)throw ec(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new zc(...t.split("."))._internalPath}catch{throw ec(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function ec(e,t,n,i,r){const s=i&&!i.isEmpty(),a=r!==void 0;let l=`Function ${t}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${i}`),a&&(u+=` in document ${r}`),u+=")"),new q(U.INVALID_ARGUMENT,l+e+u)}function JS(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{convertValue(t,n="none"){switch(Ki(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Pt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Yi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Q(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return Zi(t,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(t){var i,r,s;const n=(s=(r=(i=t.fields)==null?void 0:i[Yu].arrayValue)==null?void 0:r.values)==null?void 0:s.map(a=>Pt(a.doubleValue));return new cn(n)}convertGeoPoint(t){return new An(Pt(t.latitude),Pt(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=Cc(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Io(t));default:return null}}convertTimestamp(t){const n=Qi(t);return new Ct(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=At.fromString(t);mt(vS(i),9688,{name:t});const r=new Co(i.get(1),i.get(3)),s=new G(i.popFirst(5));return r.isEqual(n)||Zn(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS extends DO{constructor(t){super(),this.firestore=t}convertBytes(t){return new tn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Kt(this.firestore,null,n)}}const A0="@firebase/firestore",b0="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(e){return function(n,i){if(typeof n!="object"||n===null)return!1;const r=n;for(const s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(e,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(t,n,i,r,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new xO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var t;return((t=this._document)==null?void 0:t.data.clone().value.mapValue.fields)??void 0}get(t){if(this._document){const n=this._document.data.field(Fs("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class xO extends tA{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new q(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sp{}class eA extends Sp{}function OO(e,t,...n){let i=[];t instanceof Sp&&i.push(t),i=i.concat(n),function(s){const a=s.filter(u=>u instanceof bp).length,l=s.filter(u=>u instanceof Ap).length;if(a>1||a>0&&l>0)throw new q(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)e=r._apply(e);return e}class Ap extends eA{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new Ap(t,n,i)}_apply(t){const n=this._parse(t);return nA(t._query,n),new Br(t.firestore,t.converter,Sd(t._query,n))}_parse(t){const n=jc(t.firestore);return function(s,a,l,u,h,d,p){let m;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new q(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){I0(p,d);const N=[];for(const V of p)N.push(R0(u,s,V));m={arrayValue:{values:N}}}else m=R0(u,s,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||I0(p,d),m=IO(l,a,p,d==="in"||d==="not-in");return Gt.create(h,d,m)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class bp extends Sp{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new bp(t,n)}_parse(t){const n=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:hn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(r,s){let a=r;const l=s.getFlattenedFilters();for(const u of l)nA(a,u),a=Sd(a,u)}(t._query,n),new Br(t.firestore,t.converter,Sd(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class wp extends eA{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new wp(t,n)}_apply(t){const n=function(r,s,a){if(r.startAt!==null)throw new q(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new q(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new xo(s,a)}(t._query,this._field,this._direction);return new Br(t.firestore,t.converter,ex(t._query,n))}}function MO(e,t="asc"){const n=t,i=Fs("orderBy",e);return wp._create(i,n)}function R0(e,t,n){if(typeof(n=Xt(n))=="string"){if(n==="")throw new q(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WT(t)&&n.indexOf("/")!==-1)throw new q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(At.fromString(n));if(!G.isDocumentKey(i))throw new q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return z_(e,new G(i))}if(n instanceof Kt)return z_(e,n._key);throw new q(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wc(n)}.`)}function I0(e,t){if(!Array.isArray(e)||e.length===0)throw new q(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function nA(e,t){const n=function(r,s){for(const a of r)for(const l of a.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(e.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new q(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new q(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function iA(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}class ja{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Tr extends tA{constructor(t,n,i,r,s,a){super(t,n,i,r,a),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new au(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(Fs("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new q(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Tr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Tr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Tr._jsonSchema={type:Yt("string",Tr._jsonSchemaVersion),bundleSource:Yt("string","DocumentSnapshot"),bundleName:Yt("string"),bundle:Yt("string")};class au extends Tr{data(t={}){return super.data(t)}}class ws{constructor(t,n,i,r){this._firestore=t,this._userDataWriter=n,this._snapshot=r,this.metadata=new ja(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new au(this._firestore,this._userDataWriter,i.key,i,new ja(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{const u=new au(r._firestore,r._userDataWriter,l.doc.key,l.doc,new ja(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new au(r._firestore,r._userDataWriter,l.doc.key,l.doc,new ja(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let h=-1,d=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:VO(l.type),doc:u,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new q(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ws._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Km.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],r=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),i.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),r.push(s.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function VO(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q(61501,{type:e})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ws._jsonSchemaVersion="firestore/querySnapshot/1.0",ws._jsonSchema={type:Yt("string",ws._jsonSchemaVersion),bundleSource:Yt("string","QuerySnapshot"),bundleName:Yt("string"),bundle:Yt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=jc(t)}set(t,n,i){this._verifyNotCommitted();const r=uf(t,this._firestore),s=iA(r.converter,n,i),a=QS(this._dataReader,"WriteBatch.set",r._key,s,r.converter!==null,i);return this._mutations.push(a.toMutation(r._key,Ne.none())),this}update(t,n,i,...r){this._verifyNotCommitted();const s=uf(t,this._firestore);let a;return a=typeof(n=Xt(n))=="string"||n instanceof zc?KS(this._dataReader,"WriteBatch.update",s._key,n,i,r):YS(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(a.toMutation(s._key,Ne.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=uf(t,this._firestore);return this._mutations=this._mutations.concat(new Mc(n._key,Ne.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new q(U.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function uf(e,t){if((e=Xt(e)).firestore!==t)throw new q(U.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function LO(e,t,n,...i){e=Gn(e,Kt);const r=Gn(e.firestore,Mr),s=jc(r);let a;return a=typeof(t=Xt(t))=="string"||t instanceof zc?KS(s,"updateDoc",e._key,t,n,i):YS(s,"updateDoc",e._key,t),qc(r,[a.toMutation(e._key,Ne.exists(!0))])}function kO(e){return qc(Gn(e.firestore,Mr),[new Mc(e._key,Ne.none())])}function PO(e,t){const n=Gn(e.firestore,Mr),i=za(e),r=iA(e.converter,t),s=jc(e.firestore);return qc(n,[QS(s,"addDoc",i._key,r,e.converter!==null,{}).toMutation(i._key,Ne.exists(!1))]).then(()=>i)}function zO(e,...t){var h,d,p;e=Xt(e);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||w0(t[i])||(n=t[i++]);const r={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(w0(t[i])){const m=t[i];t[i]=(h=m.next)==null?void 0:h.bind(m),t[i+1]=(d=m.error)==null?void 0:d.bind(m),t[i+2]=(p=m.complete)==null?void 0:p.bind(m)}let s,a,l;if(e instanceof Kt)a=Gn(e.firestore,Mr),l=tp(e._key.path),s={next:m=>{t[i]&&t[i](jO(a,e,m))},error:t[i+1],complete:t[i+2]};else{const m=Gn(e,Br);a=Gn(m.firestore,Mr),l=m._query;const v=new ZS(a);s={next:N=>{t[i]&&t[i](new ws(a,v,m,N))},error:t[i+1],complete:t[i+2]},NO(e._query)}const u=_p(a);return yO(u,l,r,s)}function qc(e,t){const n=_p(e);return _O(n,t)}function jO(e,t,n){const i=n.docs.get(t._key),r=new ZS(e);return new Tr(e,r,t._key,i,new ja(n.hasPendingWrites,n.fromCache),t.converter)}function C0(e){return e=Gn(e,Mr),_p(e),new UO(e,t=>qc(e,t))}(function(t,n=!0){gD(ta),ks(new Cr("firestore",(i,{instanceIdentifier:r,options:s})=>{const a=i.getProvider("app").getImmediate(),l=new Mr(new vD(i.getProvider("auth-internal")),new SD(a,i.getProvider("app-check-internal")),zD(a,r),a);return s={useFetchStreams:n,...s},l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Pi(A0,b0,t),Pi(A0,b0,"esm2020")})();var BO="firebase",qO="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pi(BO,qO,"app");const HO={apiKey:"AIzaSyCikCbP8qRK1fn0JnGDV0RzaaObdV3VwDo",authDomain:"event-staging-app.firebaseapp.com",projectId:"event-staging-app",storageBucket:"event-staging-app.firebasestorage.app",messagingSenderId:"130021059248",appId:"1:130021059248:web:e1c523831473e191ade975"},rA=FE(HO),ou=mD(rA),FO=new Ln,hi=SO(rA),GO=()=>{AC(ou,FO).then(e=>{console.log("User signed in:",e.user)}).catch(e=>{console.error("Error signing in:",e)})},QO="joncherry@gmail.com",sA=["Sports","Home","Social"],cf={Sports:{bg:"#e8f0fe",border:"#4285f4",text:"#1a56db",dot:"#4285f4"},Home:{bg:"#fef3e2",border:"#e8a23e",text:"#b06e1a",dot:"#e8a23e"},Social:{bg:"#f0e8fe",border:"#9b59b6",text:"#6c3483",dot:"#9b59b6"}},D0=[{bg:"#e8fef0",border:"#2ecc71",text:"#1a7a42",dot:"#2ecc71"},{bg:"#fee8e8",border:"#e74c3c",text:"#a93226",dot:"#e74c3c"},{bg:"#fef8e2",border:"#f1c40f",text:"#9a7d0a",dot:"#f1c40f"},{bg:"#e8fefe",border:"#1abc9c",text:"#148f77",dot:"#1abc9c"},{bg:"#fde8f4",border:"#e84393",text:"#b03075",dot:"#e84393"},{bg:"#eee8fe",border:"#6c5ce7",text:"#4834b5",dot:"#6c5ce7"},{bg:"#e8ecfe",border:"#2d3436",text:"#1a1a2e",dot:"#2d3436"}];function oo(e,t){if(cf[e])return cf[e];const n=t.filter(i=>!cf[i]).indexOf(e);return D0[Math.abs(n)%D0.length]}function YO(e){return e?new Date(e).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"}):"No date set"}function lo(e){return e?new Date(e).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}):""}function KO(e){const t=a=>String(a).padStart(2,"0"),n=a=>{const l=new Date(a);return`${l.getFullYear()}${t(l.getMonth()+1)}${t(l.getDate())}T${t(l.getHours())}${t(l.getMinutes())}${t(l.getSeconds())}`},i=new Date,r=e.startDate?new Date(e.startDate):new Date(i.getTime()+36e5),s=e.endDate?new Date(e.endDate):new Date(r.getTime()+36e5);return["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//EventStaging//EN","CALSCALE:GREGORIAN","METHOD:PUBLISH","BEGIN:VEVENT",`UID:${e.id}@eventstaging`,`DTSTAMP:${n(i)}`,`DTSTART:${n(r)}`,`DTEND:${n(s)}`,`SUMMARY:${(e.title||"").replace(/[,;\\]/g," ")}`,e.location?`LOCATION:${e.location.replace(/[,;\\]/g," ")}`:null,e.description?`DESCRIPTION:${e.description.replace(/\n/g,"\\n").replace(/[,;\\]/g," ")}`:null,"END:VEVENT","END:VCALENDAR"].filter(Boolean).join(`\r
`)}function hf(e){const t=new Blob([KO(e)],{type:"text/calendar;charset=utf-8"}),n=URL.createObjectURL(t),i=document.createElement("a");i.href=n,i.download=`${(e.title||"event").replace(/[^a-zA-Z0-9]/g,"_")}.ics`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n)}function XO(e){const t=u=>String(u).padStart(2,"0"),n=u=>{const h=new Date(u);return`${h.getFullYear()}${t(h.getMonth()+1)}${t(h.getDate())}T${t(h.getHours())}${t(h.getMinutes())}${t(h.getSeconds())}`},i=new Date;let r=["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//EventStaging//EN","CALSCALE:GREGORIAN","METHOD:PUBLISH"];e.forEach(u=>{const h=u.startDate?new Date(u.startDate):new Date(i.getTime()+36e5),d=u.endDate?new Date(u.endDate):new Date(h.getTime()+36e5);r.push("BEGIN:VEVENT",`UID:${u.id}@eventstaging`,`DTSTAMP:${n(i)}`,`DTSTART:${n(h)}`,`DTEND:${n(d)}`,`SUMMARY:${(u.title||"").replace(/[,;\\]/g," ")}`),u.location&&r.push(`LOCATION:${u.location.replace(/[,;\\]/g," ")}`),u.description&&r.push(`DESCRIPTION:${u.description.replace(/\n/g,"\\n").replace(/[,;\\]/g," ")}`),r.push("END:VEVENT")}),r.push("END:VCALENDAR");const s=new Blob([r.join(`\r
`)],{type:"text/calendar;charset=utf-8"}),a=URL.createObjectURL(s),l=document.createElement("a");l.href=a,l.download="selected_events.ics",document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(a)}function x0({name:e,active:t,count:n,color:i,onClick:r}){return x.jsxs("button",{onClick:r,style:{padding:"7px 16px",borderRadius:"100px",border:t?`2px solid ${(i==null?void 0:i.dot)||"#1a1a2e"}`:"1.5px solid #d0d0d8",background:t?(i==null?void 0:i.dot)||"#1a1a2e":"transparent",color:t?"#fff":"#555",fontFamily:"'DM Sans', sans-serif",fontSize:"13px",fontWeight:t?600:500,cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"6px",whiteSpace:"nowrap"},children:[e!=="All"&&x.jsx("span",{style:{width:8,height:8,borderRadius:"50%",background:(i==null?void 0:i.dot)||"#999",flexShrink:0}}),e,n>0&&x.jsx("span",{style:{background:t?"rgba(255,255,255,0.25)":"#e8e8ec",padding:"1px 7px",borderRadius:"100px",fontSize:"11px",fontWeight:600},children:n})]})}function $O({event:e,color:t,onExport:n,onDelete:i,onEdit:r,selected:s,onToggleSelect:a}){const l=!!e.startDate,u=l&&new Date(e.startDate)<new Date;return x.jsxs("div",{style:{background:"#fff",borderRadius:"14px",padding:"18px 20px",borderLeft:`4px solid ${(t==null?void 0:t.dot)||"#999"}`,borderTop:"1.5px solid #e8e8ec",borderRight:"1.5px solid #e8e8ec",borderBottom:"1.5px solid #e8e8ec",transition:"all 0.2s ease",opacity:u?.55:1,boxShadow:s?`0 0 0 2px ${(t==null?void 0:t.dot)||"#1a1a2e"}`:"none"},children:[x.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",flex:1},children:[x.jsx("input",{type:"checkbox",checked:s,onChange:a,style:{width:17,height:17,accentColor:(t==null?void 0:t.dot)||"#1a1a2e",cursor:"pointer",flexShrink:0}}),x.jsxs("div",{children:[x.jsx("h3",{style:{margin:0,fontSize:"15px",fontWeight:600,fontFamily:"'DM Sans', sans-serif",color:"#1a1a2e",lineHeight:1.3},children:e.title}),e.location&&x.jsxs("p",{style:{margin:"2px 0 0",fontSize:"12px",color:"#888",fontFamily:"'DM Sans', sans-serif"},children:[" ",e.location]})]})]}),x.jsx("span",{style:{fontSize:"10px",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.5px",color:(t==null?void 0:t.text)||"#555",background:(t==null?void 0:t.bg)||"#f4f4f6",padding:"3px 10px",borderRadius:"100px",fontFamily:"'DM Sans', sans-serif",whiteSpace:"nowrap",flexShrink:0},children:e.category})]}),x.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px",flexWrap:"wrap"},children:l?x.jsxs(x.Fragment,{children:[x.jsx("span",{style:{fontSize:"12px",color:u?"#c44":"#555",fontFamily:"'DM Sans', sans-serif",fontWeight:500},children:YO(e.startDate)}),lo(e.startDate)&&x.jsxs("span",{style:{fontSize:"12px",color:"#999",fontFamily:"'DM Sans', sans-serif"},children:[lo(e.startDate),e.endDate&&`  ${lo(e.endDate)}`]}),u&&x.jsx("span",{style:{fontSize:"10px",color:"#c44",fontWeight:600},children:"PAST"})]}):x.jsx("span",{style:{fontSize:"12px",color:"#b08d3e",fontFamily:"'DM Sans', sans-serif",fontWeight:500,background:"#fdf6e3",padding:"2px 10px",borderRadius:"100px"},children:" No date  add when ready"})}),e.description&&x.jsx("p",{style:{margin:"0 0 12px",fontSize:"13px",color:"#777",fontFamily:"'DM Sans', sans-serif",lineHeight:1.5,maxHeight:44,overflow:"hidden"},children:e.description}),x.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[x.jsx("button",{onClick:()=>n(e),style:{padding:"7px 14px",borderRadius:"8px",border:"none",background:"#1a1a2e",color:"#f0efe9",fontSize:"12px",fontWeight:600,cursor:"pointer",fontFamily:"'DM Sans', sans-serif"},title:"Download .ics file for Apple Calendar",children:" Export to iCal"}),x.jsx("button",{onClick:()=>r(e),style:{padding:"7px 14px",borderRadius:"8px",border:"1.5px solid #d0d0d8",background:"transparent",color:"#555",fontSize:"12px",fontWeight:500,cursor:"pointer",fontFamily:"'DM Sans', sans-serif"},children:" Edit"}),x.jsx("button",{onClick:()=>i(e.id),style:{padding:"7px 14px",borderRadius:"8px",border:"1.5px solid #d0d0d8",background:"transparent",color:"#c44",fontSize:"12px",fontWeight:500,cursor:"pointer",fontFamily:"'DM Sans', sans-serif"},children:""})]})]})}function WO({event:e,categories:t,allCategories:n,onSave:i,onCancel:r,onExportAfterSave:s}){const[a,l]=Z.useState((e==null?void 0:e.title)||""),[u,h]=Z.useState((e==null?void 0:e.category)||t[0]||""),[d,p]=Z.useState(""),[m,v]=Z.useState(e!=null&&e.startDate?e.startDate.slice(0,16):""),[N,V]=Z.useState(e!=null&&e.endDate?e.endDate.slice(0,16):""),[M,A]=Z.useState((e==null?void 0:e.location)||""),[y,R]=Z.useState((e==null?void 0:e.description)||""),[D,z]=Z.useState(!1),[B,E]=Z.useState(!1),_=()=>{const S=D&&d.trim()?d.trim():u;return{id:e==null?void 0:e.id,title:a.trim(),category:S,startDate:m||null,endDate:N||null,location:M.trim()||null,description:y.trim()||null,source:(e==null?void 0:e.source)||"manual",createdAt:(e==null?void 0:e.createdAt)||new Date().toISOString()}},T=async()=>{a.trim()&&(E(!0),await i(_()),E(!1))},b=async()=>{if(!a.trim())return;E(!0);const S=await i(_());S&&s(S),E(!1)},w={width:"100%",padding:"10px 14px",borderRadius:"10px",border:"1.5px solid #d0d0d8",fontSize:"14px",fontFamily:"'DM Sans', sans-serif",color:"#1a1a2e",outline:"none",boxSizing:"border-box",background:"#fafafa"},I={fontSize:"11px",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.5px",color:"#888",marginBottom:"5px",display:"block",fontFamily:"'DM Sans', sans-serif"};return x.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.4)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},onClick:r,children:x.jsxs("div",{onClick:S=>S.stopPropagation(),style:{background:"#fff",borderRadius:"20px",padding:"32px",width:"100%",maxWidth:"460px",maxHeight:"85vh",overflowY:"auto"},children:[x.jsx("h2",{style:{margin:"0 0 24px",fontSize:"20px",fontWeight:700,fontFamily:"'Playfair Display', serif",color:"#1a1a2e"},children:e?"Edit Event":"New Event"}),x.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[x.jsxs("div",{children:[x.jsx("label",{style:I,children:"Title *"}),x.jsx("input",{style:w,value:a,onChange:S=>l(S.target.value),placeholder:"What's the event?",disabled:B})]}),x.jsxs("div",{children:[x.jsx("label",{style:I,children:"Category"}),x.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginBottom:D?"8px":0},children:[n.map(S=>{const Mt=oo(S,n);return x.jsxs("button",{onClick:()=>{h(S),z(!1)},style:{padding:"6px 14px",borderRadius:"100px",border:!D&&u===S?`2px solid ${Mt.dot}`:"1.5px solid #d0d0d8",background:!D&&u===S?Mt.dot:"transparent",color:!D&&u===S?"#fff":"#555",fontSize:"12px",fontWeight:500,cursor:"pointer",fontFamily:"'DM Sans', sans-serif",display:"flex",alignItems:"center",gap:"5px"},children:[x.jsx("span",{style:{width:7,height:7,borderRadius:"50%",background:!D&&u===S?"#fff":Mt.dot}}),S]},S)}),x.jsx("button",{onClick:()=>z(!0),style:{padding:"6px 14px",borderRadius:"100px",border:D?"2px solid #1a1a2e":"1.5px dashed #d0d0d8",background:D?"#1a1a2e":"transparent",color:D?"#fff":"#999",fontSize:"12px",fontWeight:500,cursor:"pointer",fontFamily:"'DM Sans', sans-serif"},children:"+ New"})]}),D&&x.jsx("input",{style:w,value:d,onChange:S=>p(S.target.value),placeholder:"New category name...",autoFocus:!0})]}),x.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[x.jsxs("div",{children:[x.jsx("label",{style:I,children:"Start (optional)"}),x.jsx("input",{style:w,type:"datetime-local",value:m,onChange:S=>v(S.target.value)})]}),x.jsxs("div",{children:[x.jsx("label",{style:I,children:"End (optional)"}),x.jsx("input",{style:w,type:"datetime-local",value:N,onChange:S=>V(S.target.value)})]})]}),x.jsxs("div",{children:[x.jsx("label",{style:I,children:"Location"}),x.jsx("input",{style:w,value:M,onChange:S=>A(S.target.value),placeholder:"Where?"})]}),x.jsxs("div",{children:[x.jsx("label",{style:I,children:"Notes"}),x.jsx("textarea",{style:{...w,minHeight:"70px",resize:"vertical"},value:y,onChange:S=>R(S.target.value),placeholder:"Any details..."})]})]}),x.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"24px",justifyContent:"flex-end",flexWrap:"wrap"},children:[x.jsx("button",{onClick:r,disabled:B,style:{padding:"10px 20px",borderRadius:"10px",border:"1.5px solid #d0d0d8",background:"transparent",color:"#555",fontSize:"14px",fontWeight:500,cursor:"pointer",fontFamily:"'DM Sans', sans-serif"},children:"Cancel"}),x.jsx("button",{onClick:T,disabled:!a.trim()||B,style:{padding:"10px 22px",borderRadius:"10px",border:"1.5px solid #1a1a2e",background:"transparent",color:a.trim()?"#1a1a2e":"#ccc",fontSize:"14px",fontWeight:600,cursor:a.trim()?"pointer":"not-allowed",fontFamily:"'DM Sans', sans-serif"},children:B?"Saving...":"Save"}),x.jsx("button",{onClick:b,disabled:!a.trim()||B,style:{padding:"10px 22px",borderRadius:"10px",border:"none",background:a.trim()?"#1a1a2e":"#ccc",color:"#f0efe9",fontSize:"14px",fontWeight:600,cursor:a.trim()?"pointer":"not-allowed",fontFamily:"'DM Sans', sans-serif"},children:B?"...":"Save & Export"})]})]})})}function JO({onImport:e,onClose:t,allCategories:n}){Z.useState("");const[i,r]=Z.useState("Sports"),[s,a]=Z.useState(""),[l,u]=Z.useState(!1),[h,d]=Z.useState(!1),[p,m]=Z.useState(null);Z.useState(null),Z.useState("file"),Z.useState(""),Z.useState(""),Z.useState(!1),Z.useState(()=>{try{const M=localStorage.getItem("event-staging-feeds");return M?JSON.parse(M):[]}catch{return[]}});const v=l&&s.trim()?s.trim():i,N=[{name:"Philadelphia Phillies",icon:"",hint:"MLB baseball"},{name:"Philadelphia Eagles",icon:"",hint:"NFL football"},{name:"Philadelphia 76ers",icon:"",hint:"NBA basketball"},{name:"Philadelphia Flyers",icon:"",hint:"NHL hockey"},{name:"US Holidays",icon:"",hint:"Federal holidays"}],V=async M=>{d(!0);const A=[],y=new Date().getFullYear();for(let R=0;R<5;R++){const D=new Date(y,2+R,15,19,0);A.push({title:`${M.icon} ${M.name} Game`,category:v,startDate:D.toISOString(),endDate:new Date(D.getTime()+108e5).toISOString(),location:"Stadium",source:M.name,createdAt:new Date().toISOString()})}await e(A,M.name),m(` Imported ${A.length} events for ${M.name}`),d(!1)};return x.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.4)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},onClick:t,children:x.jsxs("div",{onClick:M=>M.stopPropagation(),style:{background:"#fff",borderRadius:"20px",padding:"32px",width:"100%",maxWidth:"560px",maxHeight:"88vh",overflowY:"auto"},children:[x.jsx("h2",{style:{margin:"0 0 4px",fontSize:"20px",fontWeight:700,fontFamily:"'Playfair Display', serif",color:"#1a1a2e"},children:"Import Calendar"}),p&&x.jsx("div",{style:{padding:"10px",background:"#f0f9f0",borderRadius:"8px",marginBottom:"10px"},children:p}),x.jsx("label",{style:{fontSize:"11px",fontWeight:600,color:"#888",display:"block",marginBottom:"5px"},children:"CATEGORY"}),x.jsx("div",{style:{display:"flex",gap:"6px",flexWrap:"wrap",marginBottom:"20px"},children:(n||sA).map(M=>x.jsx("button",{onClick:()=>{r(M),u(!1)},style:{padding:"6px 12px",borderRadius:"100px",border:!l&&i===M?"2px solid #1a1a2e":"1.5px solid #d0d0d8",background:!l&&i===M?"#1a1a2e":"transparent",color:!l&&i===M?"#fff":"#555",fontSize:"11px",fontWeight:500,cursor:"pointer",fontFamily:"'DM Sans', sans-serif"},children:M},M))}),x.jsxs("div",{style:{borderTop:"1px solid #e8e8ec",paddingTop:"16px"},children:[x.jsx("label",{style:{fontSize:"11px",fontWeight:600,color:"#888",display:"block",marginBottom:"6px"},children:"Quick Import (Demo Schedules)"}),x.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:N.map(M=>x.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 14px",borderRadius:"10px",border:"1.5px solid #e8e8ec"},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[x.jsx("span",{style:{fontSize:"20px"},children:M.icon}),x.jsx("span",{style:{fontSize:"13px",fontWeight:600,fontFamily:"'DM Sans', sans-serif",color:"#1a1a2e"},children:M.name})]}),x.jsx("button",{onClick:()=>V(M),disabled:h,style:{padding:"5px 12px",borderRadius:"6px",border:"none",background:"#1a1a2e",color:"#f0efe9",fontSize:"11px",fontWeight:600,cursor:"pointer",fontFamily:"'DM Sans', sans-serif"},children:h?"...":"Import"})]},M.name))})]}),x.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"20px"},children:x.jsx("button",{onClick:t,style:{padding:"10px 20px",borderRadius:"10px",border:"1.5px solid #d0d0d8",background:"transparent",color:"#555",fontSize:"14px",fontWeight:500,cursor:"pointer",fontFamily:"'DM Sans', sans-serif"},children:"Done"})})]})})}function ZO({events:e,allCategories:t,onSelectEvent:n,onNewEvent:i}){const[r,s]=Z.useState(()=>{const y=new Date;return new Date(y.getFullYear(),y.getMonth(),1)}),a=r.getFullYear(),l=r.getMonth(),u=new Date(a,l,1).getDay(),h=new Date(a,l+1,0).getDate(),d=new Date,p=()=>s(new Date(a,l-1,1)),m=()=>s(new Date(a,l+1,1)),v=()=>s(new Date(d.getFullYear(),d.getMonth(),1)),N=r.toLocaleDateString("en-US",{month:"long",year:"numeric"}),V=Z.useMemo(()=>{const y={};return e.forEach(R=>{if(!R.startDate)return;const D=new Date(R.startDate);if(D.getFullYear()===a&&D.getMonth()===l){const z=D.getDate();y[z]||(y[z]=[]),y[z].push(R)}}),y},[e,a,l]),M=[];for(let y=0;y<u;y++)M.push(null);for(let y=1;y<=h;y++)M.push(y);for(;M.length%7!==0;)M.push(null);const A=y=>y&&d.getFullYear()===a&&d.getMonth()===l&&d.getDate()===y;return x.jsxs("div",{style:{background:"#fff",borderRadius:"16px",border:"1.5px solid #e8e8ec",overflow:"hidden"},children:[x.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px 20px",borderBottom:"1.5px solid #e8e8ec"},children:[x.jsx("button",{onClick:p,style:{background:"none",border:"none",fontSize:"18px",cursor:"pointer",padding:"4px 10px",color:"#555"},children:""}),x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[x.jsx("h3",{style:{margin:0,fontSize:"17px",fontWeight:700,fontFamily:"'Playfair Display', serif",color:"#1a1a2e"},children:N}),x.jsx("button",{onClick:v,style:{padding:"3px 10px",borderRadius:"6px",border:"1px solid #d0d0d8",background:"transparent",fontSize:"11px",fontWeight:600,cursor:"pointer",fontFamily:"'DM Sans', sans-serif",color:"#555"},children:"Today"})]}),x.jsx("button",{onClick:m,style:{background:"none",border:"none",fontSize:"18px",cursor:"pointer",padding:"4px 10px",color:"#555"},children:""})]}),x.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",borderBottom:"1px solid #f0f0f0"},children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(y=>x.jsx("div",{style:{padding:"8px 4px",textAlign:"center",fontSize:"11px",fontWeight:600,color:"#aaa",textTransform:"uppercase",letterSpacing:"0.5px",fontFamily:"'DM Sans', sans-serif"},children:y},y))}),x.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)"},children:M.map((y,R)=>{const D=y?V[y]||[]:[],z=3;return x.jsx("div",{onClick:()=>y&&i&&i(new Date(a,l,y)),style:{minHeight:"80px",padding:"4px",borderRight:(R+1)%7!==0?"1px solid #f0f0f0":"none",borderBottom:"1px solid #f0f0f0",background:A(y)?"#fafaf5":y?"#fff":"#fafafa",cursor:y?"pointer":"default",transition:"background 0.15s"},children:y&&x.jsxs(x.Fragment,{children:[x.jsx("div",{style:{fontSize:"12px",fontWeight:A(y)?700:500,color:A(y)?"#1a1a2e":"#666",fontFamily:"'DM Sans', sans-serif",padding:"2px 6px",...A(y)?{background:"#1a1a2e",color:"#fff",borderRadius:"50%",width:"22px",height:"22px",display:"flex",alignItems:"center",justifyContent:"center"}:{}},children:y}),x.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2px",marginTop:"2px"},children:[D.slice(0,z).map(B=>{const E=oo(B.category,t);return x.jsxs("div",{onClick:_=>{_.stopPropagation(),n(B)},title:B.title,style:{fontSize:"10px",fontWeight:600,fontFamily:"'DM Sans', sans-serif",padding:"2px 5px",borderRadius:"4px",background:E.bg,color:E.text,borderLeft:`3px solid ${E.dot}`,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",cursor:"pointer",lineHeight:1.4},children:[lo(B.startDate)?lo(B.startDate).replace(":00","")+" ":"",B.title]},B.id)}),D.length>z&&x.jsxs("div",{style:{fontSize:"10px",color:"#999",fontFamily:"'DM Sans', sans-serif",paddingLeft:"5px"},children:["+",D.length-z," more"]})]})]})},R)})})]})}function t4(){return x.jsxs("div",{style:{height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"#f5f4f0",fontFamily:"'DM Sans', sans-serif"},children:[x.jsx("link",{href:"https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=Playfair+Display:wght@600;700&display=swap",rel:"stylesheet"}),x.jsx("h1",{style:{fontFamily:"'Playfair Display', serif",fontSize:"36px",marginBottom:"12px",color:"#1a1a2e"},children:"Event Staging"}),x.jsx("p",{style:{color:"#666",marginBottom:"32px",fontSize:"15px"},children:"Sign in to access your calendar"}),x.jsxs("button",{onClick:GO,style:{padding:"12px 28px",borderRadius:"100px",border:"none",background:"#1a1a2e",color:"#fff",fontSize:"15px",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:"10px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:[x.jsx("span",{style:{fontSize:"18px"},children:"G"})," Sign in with Google"]})]})}function e4(){const[e,t]=Z.useState([]),[n,i]=Z.useState("All"),[r,s]=Z.useState(!1),[a,l]=Z.useState(null),[u,h]=Z.useState(!1),[d,p]=Z.useState(new Set),[m,v]=Z.useState(""),[N,V]=Z.useState("date"),[M,A]=Z.useState("all"),[y,R]=Z.useState("list"),[D,z]=Z.useState(null),[B,E]=Z.useState(null),[_,T]=Z.useState(!0);Z.useEffect(()=>{const P=iC(ou,Y=>{E(Y),T(!1)});return()=>P()},[]),Z.useEffect(()=>{if(!B){t([]);return}const P=OO(lf(hi,"events"),MO("createdAt","desc")),Y=zO(P,_t=>{const Qe=_t.docs.map(qr=>({id:qr.id,...qr.data()}));t(Qe)},_t=>{console.error("Error fetching events:",_t)});return()=>Y()},[B]);const b=Z.useMemo(()=>{const P=e.map(Y=>Y.category);return[...new Set([...sA,...P])]},[e]),w=Z.useMemo(()=>e.filter(P=>n==="All"||P.category===n).filter(P=>M==="dated"?!!P.startDate:M==="undated"?!P.startDate:!0).filter(P=>{if(!m)return!0;const Y=m.toLowerCase();return(P.title||"").toLowerCase().includes(Y)||(P.location||"").toLowerCase().includes(Y)||(P.description||"").toLowerCase().includes(Y)}).sort((P,Y)=>N==="name"?(P.title||"").localeCompare(Y.title||""):N==="created"?new Date(Y.createdAt)-new Date(P.createdAt):!P.startDate&&!Y.startDate?0:P.startDate?Y.startDate?new Date(P.startDate)-new Date(Y.startDate):-1:1),[e,n,M,m,N]),I={};e.forEach(P=>{I[P.category]=(I[P.category]||0)+1});const S=async P=>{try{if(P.id){const Y=za(hi,"events",P.id);return await LO(Y,{...P,id:void 0}),P}else{const Y=await PO(lf(hi,"events"),P);return{...P,id:Y.id}}}catch(Y){console.error("Error saving:",Y),alert("Error saving event: "+Y.message)}finally{s(!1),l(null),z(null)}},Mt=async P=>{if(window.confirm("Are you sure you want to delete this event?"))try{await kO(za(hi,"events",P)),p(Y=>{const _t=new Set(Y);return _t.delete(P),_t})}catch(Y){console.error("Error deleting:",Y)}},Ae=async()=>{if(!window.confirm(`Delete ${d.size} events?`))return;const P=C0(hi);d.forEach(Y=>{const _t=za(hi,"events",Y);P.delete(_t)}),await P.commit(),p(new Set)},H=async P=>{const Y=C0(hi);P.forEach(_t=>{const Qe=za(lf(hi,"events"));Y.set(Qe,_t)}),await Y.commit()},nt=P=>{p(Y=>{const _t=new Set(Y);return _t.has(P)?_t.delete(P):_t.add(P),_t})},$=()=>p(new Set(w.map(P=>P.id))),pt=()=>p(new Set),Vt=()=>{const P=e.filter(Y=>d.has(Y.id));P.length===1?hf(P[0]):P.length>1&&XO(P)},Cn=P=>{const Y=`${P.getFullYear()}-${String(P.getMonth()+1).padStart(2,"0")}-${String(P.getDate()).padStart(2,"0")}T12:00`;z(Y),l(null),s(!0)};return _?x.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:"Loading..."}):B?B.email!==QO?x.jsxs("div",{style:{height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontFamily:"'DM Sans', sans-serif"},children:[x.jsx("h2",{style:{color:"#c44"},children:" Access Denied"}),x.jsxs("p",{children:["Sorry, ",x.jsx("strong",{children:B.email})," is not authorized to use this app."]}),x.jsx("button",{onClick:()=>y_(ou),style:{marginTop:"20px",padding:"10px 20px",cursor:"pointer"},children:"Sign Out"})]}):x.jsxs("div",{style:{minHeight:"100vh",background:"#f5f4f0",fontFamily:"'DM Sans', sans-serif"},children:[x.jsx("link",{href:"https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=Playfair+Display:wght@600;700&display=swap",rel:"stylesheet"}),r&&x.jsx(WO,{event:a,categories:b,allCategories:b,onSave:S,onCancel:()=>{s(!1),l(null),z(null)},onExportAfterSave:P=>hf(P)}),u&&x.jsx(JO,{onImport:H,onClose:()=>h(!1),allCategories:b}),x.jsx("header",{style:{background:"#1a1a2e",padding:"24px 24px 20px",color:"#f0efe9"},children:x.jsx("div",{style:{maxWidth:"960px",margin:"0 auto"},children:x.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"12px"},children:[x.jsxs("div",{children:[x.jsx("h1",{style:{margin:0,fontSize:"24px",fontWeight:700,fontFamily:"'Playfair Display', serif",letterSpacing:"-0.5px"},children:"Event Staging"}),x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginTop:"3px"},children:[x.jsxs("p",{style:{margin:"0",fontSize:"13px",color:"rgba(240,239,233,0.5)"},children:[e.length," event",e.length!==1?"s":""]}),x.jsx("span",{style:{fontSize:"13px",color:"rgba(240,239,233,0.3)"},children:""}),x.jsx("p",{style:{margin:"0",fontSize:"12px",color:"rgba(240,239,233,0.7)"},children:B.email})]})]}),x.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",alignItems:"center"},children:[x.jsx("button",{onClick:()=>h(!0),style:{padding:"8px 16px",borderRadius:"100px",border:"1.5px solid rgba(240,239,233,0.25)",background:"transparent",color:"#f0efe9",fontSize:"13px",fontWeight:500,cursor:"pointer",fontFamily:"'DM Sans', sans-serif"},children:" Import"}),x.jsx("button",{onClick:()=>{l(null),z(null),s(!0)},style:{padding:"8px 18px",borderRadius:"100px",border:"none",background:"#f0efe9",color:"#1a1a2e",fontSize:"13px",fontWeight:600,cursor:"pointer",fontFamily:"'DM Sans', sans-serif"},children:"+ New Event"}),x.jsx("button",{onClick:()=>y_(ou),style:{marginLeft:"8px",padding:"8px 12px",borderRadius:"8px",border:"none",background:"rgba(255,255,255,0.1)",color:"#f0efe9",fontSize:"12px",fontWeight:500,cursor:"pointer",fontFamily:"'DM Sans', sans-serif"},children:"Sign Out"})]})]})})}),x.jsxs("div",{style:{maxWidth:"960px",margin:"0 auto",padding:"20px 24px 0"},children:[x.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px",flexWrap:"wrap",gap:"10px"},children:[x.jsxs("div",{style:{display:"flex",gap:"6px",overflowX:"auto",flexWrap:"wrap",flex:1},children:[x.jsx(x0,{name:"All",active:n==="All",count:e.length,onClick:()=>i("All")}),b.map(P=>x.jsx(x0,{name:P,active:n===P,count:I[P]||0,color:oo(P,b),onClick:()=>i(P)},P))]}),x.jsx("div",{style:{display:"flex",background:"#e8e8ec",borderRadius:"10px",padding:"3px",flexShrink:0},children:[{key:"list",label:" List"},{key:"calendar",label:" Month"}].map(P=>x.jsx("button",{onClick:()=>R(P.key),style:{padding:"6px 14px",borderRadius:"8px",border:"none",background:y===P.key?"#fff":"transparent",color:y===P.key?"#1a1a2e":"#888",fontSize:"12px",fontWeight:600,cursor:"pointer",fontFamily:"'DM Sans', sans-serif",boxShadow:y===P.key?"0 1px 3px rgba(0,0,0,0.08)":"none"},children:P.label},P.key))})]}),y==="calendar"&&x.jsxs("div",{style:{marginBottom:"24px"},children:[x.jsx(ZO,{events:n==="All"?e:e.filter(P=>P.category===n),allCategories:b,onSelectEvent:P=>{l(P),s(!0)},onNewEvent:Cn}),x.jsx("div",{style:{display:"flex",gap:"14px",flexWrap:"wrap",marginTop:"12px",padding:"0 4px"},children:b.filter(P=>I[P]>0).map(P=>{const Y=oo(P,b);return x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px",fontSize:"12px",fontFamily:"'DM Sans', sans-serif",color:"#666"},children:[x.jsx("span",{style:{width:10,height:10,borderRadius:"3px",background:Y.dot,flexShrink:0}}),P]},P)})})]}),y==="list"&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap",marginBottom:"16px",alignItems:"center"},children:[x.jsx("input",{style:{flex:"1 1 200px",padding:"9px 14px",borderRadius:"10px",border:"1.5px solid #d0d0d8",fontSize:"13px",fontFamily:"'DM Sans', sans-serif",outline:"none",background:"#fff",minWidth:0},value:m,onChange:P=>v(P.target.value),placeholder:" Search events..."}),x.jsxs("select",{value:N,onChange:P=>V(P.target.value),style:{padding:"9px 14px",borderRadius:"10px",border:"1.5px solid #d0d0d8",fontSize:"13px",fontFamily:"'DM Sans', sans-serif",background:"#fff",color:"#555",cursor:"pointer"},children:[x.jsx("option",{value:"date",children:"Sort: Date"}),x.jsx("option",{value:"name",children:"Sort: Name"}),x.jsx("option",{value:"created",children:"Sort: Recent"})]}),x.jsxs("select",{value:M,onChange:P=>A(P.target.value),style:{padding:"9px 14px",borderRadius:"10px",border:"1.5px solid #d0d0d8",fontSize:"13px",fontFamily:"'DM Sans', sans-serif",background:"#fff",color:"#555",cursor:"pointer"},children:[x.jsx("option",{value:"all",children:"All events"}),x.jsx("option",{value:"dated",children:"With date"}),x.jsx("option",{value:"undated",children:"No date"})]})]}),d.size>0&&x.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center",padding:"12px 18px",borderRadius:"12px",background:"#1a1a2e",marginBottom:"16px",flexWrap:"wrap"},children:[x.jsxs("span",{style:{fontSize:"13px",color:"#f0efe9",fontWeight:500},children:[d.size," selected"]}),x.jsx("button",{onClick:Vt,style:{padding:"6px 14px",borderRadius:"8px",border:"none",background:"#f0efe9",color:"#1a1a2e",fontSize:"12px",fontWeight:600,cursor:"pointer",fontFamily:"'DM Sans', sans-serif"},children:" Export to iCal"}),x.jsx("button",{onClick:Ae,style:{padding:"6px 14px",borderRadius:"8px",border:"1px solid rgba(240,239,233,0.3)",background:"transparent",color:"#f0efe9",fontSize:"12px",fontWeight:500,cursor:"pointer",fontFamily:"'DM Sans', sans-serif"},children:" Delete"}),x.jsx("button",{onClick:pt,style:{padding:"6px 14px",borderRadius:"8px",border:"1px solid rgba(240,239,233,0.3)",background:"transparent",color:"#f0efe9",fontSize:"12px",fontWeight:500,cursor:"pointer",fontFamily:"'DM Sans', sans-serif"},children:"Clear"})]}),w.length>0&&x.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[x.jsxs("span",{style:{fontSize:"12px",color:"#999"},children:[w.length," event",w.length!==1?"s":""]}),x.jsx("button",{onClick:d.size===w.length?pt:$,style:{background:"none",border:"none",color:"#1a1a2e",fontSize:"12px",fontWeight:600,cursor:"pointer",fontFamily:"'DM Sans', sans-serif",textDecoration:"underline",textUnderlineOffset:"2px"},children:d.size===w.length?"Deselect all":"Select all"})]}),x.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px",paddingBottom:"40px"},children:[w.length===0&&x.jsxs("div",{style:{textAlign:"center",padding:"60px 20px",color:"#aaa",fontSize:"14px"},children:[x.jsx("div",{style:{fontSize:"40px",marginBottom:"12px"},children:""}),x.jsx("p",{style:{margin:0,fontWeight:500},children:"No events here yet"}),x.jsx("p",{style:{margin:"6px 0 0",fontSize:"13px"},children:"Create an event or import a calendar to get started"})]}),w.map(P=>x.jsx($O,{event:P,color:oo(P.category,b),onExport:hf,onDelete:Mt,onEdit:Y=>{l(Y),s(!0)},selected:d.has(P.id),onToggleSelect:()=>nt(P.id)},P.id))]})]})]})]}):x.jsx(t4,{})}OR.createRoot(document.getElementById("root")).render(x.jsx(JA.StrictMode,{children:x.jsx(e4,{})}));
